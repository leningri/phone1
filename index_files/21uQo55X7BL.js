(function(f){var e=window.AmazonUIPageJS||window.P,k=e._namespace||e.attributeErrors,a=k?k("HLCXDetailPageAssets",""):e;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,e,k){f.when("A","ready").execute(function(a){a.on("a:accordion:installment-payment-buybox-accordion:select",function(d){a.$("#abbWrapper [id^\x3dmbb-offeringID-]").prop("checked",!1)})});f.when("A").register("BaseLinkKeyValuePairHelper",function(a){var d=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var c=16*Math.random()|0;return("x"===a?c:c&3|8).toString(16)})},c=function(a,c){this.key=a;this.value=c};return{getBaseLinkPairs:function(){var a=d();return{ITEM_ASSOC:new c("itemAssoc",a),UNIQ_PARENT:new c("UNIQ-itemAssoc",a),UNIQ_WARRANTY:new c("UNIQ-lnkdWrrnty",a),ITEM_ASSOC_TYPE:new c("itemAssocType","AmazonProtect"),RENDER_TYPE:new c("itemAssocRenderType","renderAll")}}}});f.when("A","BaseLinkKeyValuePairHelper").register("BaseLinkFormHelper",function(a,d){var c=a.$,r=function(a,
g){var b=0;g.find("input[id^\x3d'custom-name\\."+a+"\\.']").each(function(g,a){g=a.name.split(".")[2];isNaN(g)||(b=g>b?g:b)});return b+1},p=function(a,g,b){var h=[],l=r(a,g);c.each(b,function(g,b){var c="custom-value."+a+"."+l;g=e("custom-name."+a+"."+l,b.key);b=e(c,b.value);h=h.concat([g,b]);l++});return h},e=function(a,g){var b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("class","atcFormWarrantyData");b.setAttribute("id",a);b.setAttribute("name",a);b.setAttribute("value",
g);return b},f=function(a){a.find(".atcFormWarrantyData").each(function(a,b){b.parentNode.removeChild(b)})};return{addBaseLinkFields:function(a,g){f(g);if(!g.find("input[value\x3d'itemAssoc']").length){var b=d.getBaseLinkPairs(),h=p(1,g,[b.ITEM_ASSOC,b.UNIQ_PARENT,b.ITEM_ASSOC_TYPE]);a=p(a,g,[b.ITEM_ASSOC,b.UNIQ_WARRANTY,b.ITEM_ASSOC_TYPE,b.RENDER_TYPE]);h=h.concat(a);c.each(h,function(a,b){g.append(b)})}},removeBaseLinkFields:f,getMobileWarrantyIndex:function(a){var g=1;a.find("input[name\x3d'a']").each(function(a,
c){c.value&&(a=c.value.split("|"))&&(g=a.length)});return g+1}}});f.when("A","BaseLinkKeyValuePairHelper").register("BaseLinkDeclarativeHelper",function(a,d){var c=a.$,e=[],p=function(a){var b=!1;c.each(a,function(a,g){if("itemAssoc"===g)return b=!0,!1});return b},f=function(a,b,h){var l={},d=k(a,b);c.each(h,function(b,c){b=c.value;var h="custom-name."+a+"."+d,f="custom-value."+a+"."+d;l[h]=c.key;l[f]=b;e.push(h);e.push(f);d++});return l},k=function(a,b){var h=new RegExp("^custom-name[.]["+a+"]+[.]([0-9]+)$"),
d=0;c.each(b,function(a){if(a=a.match(h))a=+a[1],a>d&&(d=a)});return d+1},m=function(a){c.each(e,function(b,c){a[c]&&delete a[c]});e=[]};return{addBaseLinkFields:function(a){m(a);if(!p(a)){var b=d.getBaseLinkPairs(),h=f(1,a,[b.ITEM_ASSOC,b.UNIQ_PARENT,b.ITEM_ASSOC_TYPE]),b=[b.ITEM_ASSOC,b.UNIQ_WARRANTY,b.ITEM_ASSOC_TYPE,b.RENDER_TYPE],e=1;a.a&&(e=a.a.split("|").length);b=f(e+1,a,b);c.extend(a,h);c.extend(a,b)}},removeBaseLinkFields:m,getDeclarativeDataInputs:function(a){if(a=c(a)){var b=a.data("action");
if((a=a.data(b))&&a.inputs)return a.inputs}}}});"use strict";f.when("A","ready").execute(function(a){function d(a){var c=e.ue;c&&c.count&&c.count(a,(c.count(a)||0)+1)}var c=a.$;a.on("a:expander:comparison_detail_expander:toggle:expand",function(a){d("ComparisonExpanderExpanded");c(".comparison_other_attribute_row").removeClass("aok-hidden")});a.on("a:expander:comparison_detail_expander:toggle:collapse",function(a){d("ComparisonExpanderCollapsed");c(".comparison_other_attribute_row").addClass("aok-hidden")})});
f.when("A","atf","ready").execute(function(a){function d(){var c,d=a.$("#HLCXComparisonJumplink_feature_div"),e=a.$("#HLCXComparisonWidget_feature_div");c=a.$("#HLCXComparisonJumplinkContent").length?e.find("#HLCXComparisonJumplinkContent"):e.find(".HLCXComparisonJumplinkContent");e=e.has("#HLCXComparisonTable").length;d.empty();e&&c.clone().removeClass("aok-hidden").appendTo(d)}a.declarative("hlcx-send-reftag","click",function(c){a.$.get("/gp/product/ajax-handlers/reftag.html/ref\x3d"+c.data.refTag)});
d();a.on("a:pageUpdate",d)});f.when("A","ready").execute("logCsmMetricsForComparisonTabs",function(a){var d;a.on("a:tabs:comparison_items_tabs:compare_to_similar_items_tab:select a:tabs:comparison_items_tabs:compare_to_recently_viewed_items_tab:select",a.throttle(function(a){d&&d===a.selectedTab.tabName||(d=a.selectedTab.tabName,e.ue&&e.ue.count&&e.ue.count(a.selectedTab.tabName,1))},100,{trailing:!1}))});f.when("A","3p-promise","ready").register("hlcx-table-csm",function(a,d,c){function f(c){return a.$(c?
".hlcx-cmp-title-col":".comparison_image_title_cell").filter(":visible").map(function(){return a.$(this).attr("data-asin")}).toArray()}function p(){try{var a=document.cookie.match("(^|[^;]+)\\s*(session-id|sessionId)\\s*\x3d\\s*([^;]+)");return a?a.pop():""}catch(b){return""}}function k(c,b){return new d(function(d,e){function f(){b.unbind("click auxclick",f);var c=a.now()-k;a.off("DOMContentLoaded load resize scroll",n);d({timeInView:c,clickedOff:!0})}var k=a.now(),n=a.throttle(function(){if(!a.onScreen(c)){var b=
a.now()-k;a.off("DOMContentLoaded load resize scroll",n);d({timeInView:b,clickedOff:!1})}},200);b.bind("click auxclick",f);a.on("DOMContentLoaded load resize scroll",n)})}function t(a,b,c){var d=f(c);a={pageAsin:a,comparableAsins:d.slice(1),sessionId:b,deviceType:c?"mobile":"desktop"};e.ue&&e.ue.event&&e.ue.event(a,"comparison","comparison.dpTableImpression.1")}function m(c,b,d){function l(){!n&&a.onScreen(m)&&(n=!0,k(m,d()).then(function(a){n=!1;if(!(2500>a.timeInView)){var d=f(b).slice(1),h=a.timeInView,
l=++u,k;k=e.location.href.endsWith("#HLCXComparisonWidget_feature_div");a={pageAsin:c,comparableAsins:d,sessionId:q,timeInView:h,viewOnPageCounter:l,deviceType:b?"mobile":"desktop",landedOnComparisonsTable:k,clickedOff:a.clickedOff};e.ue&&e.ue.event&&e.ue.event(a,"comparison","comparison.dpTableView.2")}}))}var m=a.$(b?"#hlcx_cmp_table":"#HLCXComparisonTable");if(m.length){var q=p();t(c,q,b);var n=!1,u=0;a.on("DOMContentLoaded load resize scroll",l);a.on("a:pageUpdate",function(){c!==a.$(b?".hlcx-cmp-title-col":
".comparison_image_title_cell").first().attr("data-asin")&&a.off("DOMContentLoaded load resize scroll",l)})}}return{setupClientSideLogging:function(c,b){var d;return function(){var e=a.$(c?".hlcx-cmp-title-col":".comparison_image_title_cell").first().attr("data-asin");d!==e&&"undefined"!==typeof e&&(d=e,m(d,c,b))}}}});f.when("A","hlcx-table-csm").execute(function(a,d){d=d.setupClientSideLogging(!1,function(){return a.$("td.comparison_add_to_cart_button span.a-button, th.comparison_image_title_cell a, #comparison_sold_by_row a, #comparison_custormer_rating_row a")});
a.on("a:pageUpdate",d);d()})});
/* ******** */
(function(k){var n=window.AmazonUIPageJS||window.P,p=n._namespace||n.attributeErrors,m=p?p("DetailPageWarrantyAssets",""):n;m.guardFatal?m.guardFatal(k)(m,window):m.execute(function(){k(m,window)})})(function(k,n,p){"use strict";var m;m=function(){};"use strict";k.when("A").register("wty:Reftag",function(e){function f(c){this.prefix=c}f.prototype.log=function(c,a,d){c=d?[this.prefix,c,a,d]:[this.prefix,c,a];m("Reftag.log: "+c);c=c.join("_");e.get("/gp/product/ajax-handlers/reftag.html/ref\x3d"+c)};
return f});"use strict";k.when("A","BaseLinkFormHelper").register("wty:detailPage",function(e,f){function c(){}c.prototype.bindQuantityChange=function(a){var d=function(){a(e.$(this).val())};e.$("#quantity").bind("change",d);return d};c.prototype.unbindQuantityChange=function(a){e.$("#quantity").unbind("change",a)};c.prototype.bindBuyBoxAccordion=function(a){e.on("a:accordion:buybox-accordion:select",a);e.on("a:accordion:installment-payment-buybox-accordion:select",a);return a};c.prototype.unbindBuyBoxAccordion=
function(a){e.off("a:accordion:buybox-accordion:select",a);e.off("a:accordion:installment-payment-buybox-accordion:select",a)};c.prototype.findQuantityInput=function(a){return a.find("input[name^\x3dquantity]")};c.prototype.findOfferListingIdInput=function(a){return a.find("input[name^\x3dofferingID]")};c.prototype.handleBaselink=function(a){if(e.$("#mbb__bl").length){var d=e.$(a._checkbox[0].form);d&&(a.isChecked()?(a=a.getKvpIndex(),f.addBaseLinkFields(a,d)):f.removeBaseLinkFields(d))}};c.prototype.handleATC=
function(a){};return new c});"use strict";k.when("wty:Reftag").register("wty:MbbTypes",function(e){var f={mbb__tsn:{cssClass:"mbb__tsn",reftag:new e("psd_bb"),hasQuantity:!0},mbb__ti:{cssClass:"mbb__ti",reftag:new e("psd_ib")}};return{getType:function(c){return f[c]}}});"use strict";k.when("A","a-modal").register("wty:mbbModalHelper",function(e,f){function c(){}c.prototype.create=function(a,d,c,b){if(b){var g=e.$("#a-popover-"+d),h=g.clone(!0).prop("id","a-popover-"+d+"-Opened");g.parent().append(h)}f.create(a,
{name:b?d+"-Opened":d,header:c,width:750})};c.prototype.remove=function(a,d){f.remove(d?a+"-Opened":a)};c.prototype.hide=function(a,d){(a=f.get(d?a+"-Opened":a))&&a.hide()};return new c});"use strict";k.when("A","wty:Reftag","wty:MbbItem").register("wty:Mbb",function(e,f,c){function a(a,f,b){this._type=b;this._reftag=b.reftag;this._baseFormIndex=a;this._pageData=f;this._baseItemAsin=f.bi.a;this._mbbFeature=e.$(".mbb__bb."+b.cssClass);this._modalHeader=this._mbbFeature.find(".mbb__mh").html();this._items=
[];this._reftag.log("i",this._baseItemAsin);var g=this;this._mbbFeature.find(".mbb__r").each(function(a){var b=e.$(this),b=new c(g,b,a);g._items[a]=b})}a.prototype._destroy=function(){for(var a=0,c=this._items.length;a<c;a++)this._items[a]._destroy()};a.prototype._setQuantity=function(a){for(var c=0,b=this._items.length;c<b;c++)this._items[c]._setQuantity(a)};a.prototype._setChecked=function(a,c){for(var b=0,g=this._items.length;b<g;b++)this._items[b]._setChecked(c&&b===a)};a.prototype.getCheckedItem=
function(){for(var a=0,c=this._items.length;a<c;a++){var b=this._items[a];if(b.isChecked())return b}};a.prototype.getItems=function(){return this._items};return a});"use strict";k.when("A").register("warranty-options-constants",function(e){return{featureRegistration:{featureName:"warrantyTwisterPlus",featureAttribution:"Retail/AppleCare/(de)activation"},selector:{expanderContainer:".warranty-twister-container",skeletonLoader:".warranty-twister-skeleton-loader",checkmark:".warranty-twister-selected-checkmark",
subtitle:".warranty-twister-subtitle",subtitleText:"#warranty-twister-subtitle",priceSubtitle:".warranty-twister-price-subtitle",priceSubtitleText:"#warranty-twister-price-subtitle",cardImage:".warranty-twister-selected-card-image",expanderIcon:".warranty-twister-expander-icon",learnMoreLink:"#learn-more-link",toggleButton:"#warranty-twister-toggle-button",expanderContent:".warranty-twister-expander-content",swatch:".warranty-twister-swatch",warrantyOption:".warranty-twister-box-group-warranty-option",
warrantyOptionTitle:".warranty-twister-warranty-option-title",defaultOption:"#default-option-swatch",swatchBoxGroup:".warranty-twister-box-group",swatchHeading:".warranty-twister-box-group-heading",swatchBoxGroupDetail:".warranty-twister-box-group-detail",swatchBoxGroupDetailNoHeader:".warranty-twister-box-group-detail-no-header",popoverButtonRow:"#attach-warranty-popover-buttons-row",warrantyTwisterSecondaryView:"#a-popover-warrantyTwisterPlusSecondaryView"},styles:{twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",
warrantyTwisterExpand:"warranty-twister-expander-content-expand",skeletonLoaderExpand:"warranty-twister-skeleton-loader-expand",selectedHeading:"warranty-twister-selected-heading",selectedBoxGroup:"warranty-twister-selected-box-group",unselectedHeading:"warranty-twister-unselected-heading"},animationTimeoutUnit:200,metricPrefix:""}});"use strict";k.when("A","warranty-twister-expander-state","warranty-options-constants","warranty-twister-swatch-actions").register("warranty-twister-expander-actions",
function(e,f,c,a){function d(){var a=b(g.expanderContainer),h=a.offset().top+a.outerHeight();if(b(n).scrollTop()+b(n).height()<h){var h=a.offset().top,c=b(n).height(),a=a.height(),a=h-(c-a)/2;b("html, body").animate({scrollTop:a},f.animationTimeoutUnit)}}function l(a){a=a?q.expandedPriceSubtitle:q.loadingSubtitle;b(g.priceSubtitleText).text(a)}var b=e.$,g=c.selector,h=c.styles,q=f.expanderSubtitle;return{initSubtitle:function(a){q.collapsedSubtitle=a.data.defaultSubtitle;q.expandedSubtitle=a.data.defaultSubtitle;
q.collapsedPriceSubtitle=a.data.defaultPriceSubtitle;q.expandedPriceSubtitle=a.data.expandedPriceSubtitle},expandWarrantyOptions:function(f){b(g.expanderContent).addClass(h.warrantyTwisterExpand);b(g.expanderIcon).addClass("rotate");e.delay(function(){b(g.swatch).addClass(h.twisterPlusFadeIn);a.adjustWarrantyOptionHeight();l(f);d()},c.animationTimeoutUnit)},expandSkeletonLoader:function(){b(g.expanderContent).addClass(h.skeletonLoaderExpand);b(g.expanderIcon).addClass("rotate");e.delay(function(){b(g.skeletonLoader).addClass(h.twisterPlusFadeIn);
l(!1);d()},c.animationTimeoutUnit)},hideLoaderAnimation:function(f){f&&b(g.skeletonLoader).removeClass(h.twisterPlusFadeIn);e.delay(function(){b(g.skeletonLoader).hide();b(g.swatch).removeClass("invisible");f&&(b(g.expanderContent).addClass(h.warrantyTwisterExpand),e.delay(function(){b(g.swatch).addClass(h.twisterPlusFadeIn);a.adjustWarrantyOptionHeight();l(!0);d()},c.animationTimeoutUnit))},c.animationTimeoutUnit)},collapseWarrantyOptions:function(a){b(g.swatch).removeClass(h.twisterPlusFadeIn);
a||b(g.skeletonLoader).removeClass(h.twisterPlusFadeIn);b(g.expanderIcon).removeClass("rotate");e.delay(function(){b(g.expanderContent).removeClass(h.warrantyTwisterExpand);b(g.expanderContent).removeClass(h.skeletonLoaderExpand);b(g.priceSubtitleText).text(q.collapsedPriceSubtitle)},c.animationTimeoutUnit)}}});"use strict";k.when("A").register("warranty-twister-expander-state",function(e){return{expanderSubtitle:{collapsedSubtitle:"",expandedSubtitle:"",collapsedPriceSubtitle:"",expandedPriceSubtitle:"",
loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(e){this.property=e}}});"use strict";k.when("A","warranty-twister-expander-state","warranty-options-constants").register("warranty-twister-swatch-actions",function(e,f,c){var a=e.$,d=c.selector,l=c.styles,b=f.expanderSubtitle;return{adjustWarrantyOptionHeight:function(){var b=a(d.swatchBoxGroupDetail);if(b!==p&&0!==b.length){for(var h=b[0].offsetHeight,c=0;c<b.length;c++)h=Math.max(h,b[c].offsetHeight);b.height(h);
b=a(d.warrantyOption).height();b===p||0>=b||a(d.swatchBoxGroupDetailNoHeader).height(b)}},updateSwatchStyle:function(b){a(d.swatchBoxGroup).removeClass(l.selectedBoxGroup);a(d.swatchHeading).removeClass(l.selectedHeading);a(d.swatchHeading).addClass(l.unselectedHeading);var h=b.find(d.swatchHeading);b=b.find(d.swatchBoxGroup);h.removeClass(l.unselectedHeading);h.addClass(l.selectedHeading);b.addClass(l.selectedBoxGroup)},updateDefaultOptionPriceSubtitle:function(c,h){b.collapsedPriceSubtitle=c;b.expandedPriceSubtitle=
h;a(d.priceSubtitleText).text(h);a(d.priceSubtitle).removeClass("a-color-success");a(d.priceSubtitle).addClass("a-color-tertiary");a(d.checkmark).addClass("a-hidden")},updateWarrantyOptionPriceSubtitle:function(c,h){b.collapsedPriceSubtitle=c;b.expandedPriceSubtitle=c;a(d.priceSubtitleText).text(c);a(d.priceSubtitle).removeClass("a-color-tertiary");a(d.priceSubtitle).addClass("a-color-success");a(d.checkmark).removeClass("a-hidden");a(d.cardImage).attr("src",h)}}});"use strict";k.when("A","warranty-twister-swatch-actions").execute(function(e,
f){var c=e.$;e.declarative("warranty-twister-default-action","click",function(a){e.trigger("a:declarative:select-default-option:click");var d=c(a.$currentTarget);d!==p&&null!==d&&(f.updateSwatchStyle(d),f.updateDefaultOptionPriceSubtitle(a.data.defaultPriceSubtitle,a.data.expandedPriceSubtitle))});e.declarative("warranty-option-swatch-select","click",function(a){e.trigger("a:declarative:select-warranty-option:click",a);var d=c(a.$currentTarget);d!==p&&null!==d&&(f.updateSwatchStyle(d),f.updateWarrantyOptionPriceSubtitle("+"+
a.data.warrantyPrice+" ("+a.data.warrantyPlanTerm+" plan)",a.data.cardImageUrl))})});"use strict";k.when("A","wty:mbbModalHelper","wty:detailPage","a-checkbox","a-popover").register("wty:MbbItem",function(e,f,c,a,d){function l(a){a.stopPropagation();a.preventDefault()}function b(a,b,d){this._mbb=a;this._warrantyAsin=a._pageData.w[d].a;this._isSubscription=!!a._pageData.w[d].sub;this._index=d;this._row=b;this._quantity=c.findQuantityInput(b);this._offerListingIdSelection=c.findOfferListingIdInput(b);
this._checkbox=b.find("input[type\x3dcheckbox]");this._shortTitle=this._row.find(".mbb__st");this._modal=a._mbbFeature.find(".mbb__m:eq("+d+")");this._modalYes=this._modal.find(".mbb__yes");this._modalNo=this._modal.find(".mbb__no");this._modalName="MbbModal-"+this._mbb._type.cssClass+this._index;var e=this;this._onShortTitle=function(){e._logReftag("st")};this._setChecked(!1);this._logReftag("i");this._bind()}var g=e.$;b.prototype._bind=function(){this._bindQuantity();this._bindBuyBoxAccordion();
this._bindModalYes();this._bindModalNo();this._bindShortTitle();this._bindCheckbox()};b.prototype._destroy=function(){this._unbindQuantity();this._unbindBuyBoxAccordion();this._unbindModalYes();this._unbindModalNo();this._unbindShortTitle();this._unbindCheckbox()};b.prototype.getAsin=function(){return this._warrantyAsin};b.prototype.getFormIndex=function(){return this._index+this._mbb._baseFormIndex};b.prototype.getKvpIndex=function(){return this.getFormIndex()+1};b.prototype.getOfferListingId=function(){return this._offerListingIdSelection};
b.prototype.isChecked=function(){return this._checkbox.prop("checked")};b.prototype.getQuantity=function(){return this._quantity.val()};b.prototype._setChecked=function(a){this._checkbox.prop("checked",a)};b.prototype._setSubscriptionQuantityRestricted=function(b){d.remove(this._shortTitle);b?(this._bindShortTitle(),a(this._checkbox).enable(),this._row.removeClass("monthly-warranty-text-disabled"),g("#MonthlyWarrantyWarning").addClass("aok-hidden")):(a(this._checkbox).isChecked()&&g("#MonthlyWarrantyWarning").removeClass("aok-hidden"),
this._unbindShortTitle(),a(this._checkbox).uncheck(),a(this._checkbox).disable(),this._row.addClass("monthly-warranty-text-disabled"),b={inlineContent:e.$("#popover-message").data("message"),position:"triggerLeft",closeButton:"false"},d.create(this._shortTitle,b))};b.prototype._setQuantity=function(a){this._quantity.val(a)};b.prototype._logReftag=function(a){this._mbb._reftag.log(a+(this._index+1),this._mbb._baseItemAsin,this._warrantyAsin)};b.prototype._bindModalYes=function(){var a=this;this._onModalYes=
function(){a._logReftag("my");a._mbb._setChecked(a._index,!0);f.hide(a._modalName,a._isSubscription);c.handleBaselink(a);c.handleATC(a)};this._modalYes.bind("click",this._onModalYes)};b.prototype._unbindModalYes=function(){this._modalYes.unbind("click",this._onModalYes)};b.prototype._bindModalNo=function(){var a=this;this._onModalNo=function(){a._logReftag("mn");a._mbb._setChecked(a._index,!1);f.hide(a._modalName,a._isSubscription);c.handleBaselink(a);c.handleATC(a)};this._modalNo.bind("click",this._onModalNo)};
b.prototype._unbindModalNo=function(){this._modalNo.unbind("click",this._onModalNo)};b.prototype._bindShortTitle=function(){this._shortTitle.unbind("click",l);this._shortTitle.bind("click",this._onShortTitle);f.create(this._shortTitle,this._modalName,this._mbb._modalHeader,this._isSubscription)};b.prototype._unbindShortTitle=function(){this._shortTitle.unbind("click",this._onShortTitle);this._shortTitle.bind("click",l);f.remove(this._modalName,this._isSubscription)};b.prototype._bindQuantity=function(){this._onQuantityChange=
null;if(this._mbb._type.hasQuantity){var a=this;this._onQuantityChange=c.bindQuantityChange(function(b){a._setQuantity(b)})}};b.prototype._unbindQuantity=function(){c.unbindQuantityChange(this._onQuantityChange)};b.prototype._bindCheckbox=function(){var a=this;this._onCheckboxChange=function(){var b=a.isChecked();a._mbb._setChecked(a._index,b);a._logReftag(b?"cy":"cn");c.handleBaselink(a);c.handleATC(a)};this._checkbox.bind("change",this._onCheckboxChange)};b.prototype._unbindCheckbox=function(){this._checkbox.bind("change",
this._onCheckboxChange)};b.prototype._bindBuyBoxAccordion=function(){var a=this;this._onBuyBoxAccordion=c.bindBuyBoxAccordion(function(){a._setChecked(!1);c.handleBaselink(a);c.handleATC(a)})};b.prototype._unbindBuyBoxAccordion=function(){c.unbindBuyBoxAccordion(this._onBuyBoxAccordion)};return b});"use strict";k.when("A","wty:MbbTypes","wty:Mbb").register("mbb",function(e,f,c){function a(){this._mbbs={}}var d=new a;e.on("mbb:loaded",function(a,b,g){var h=f.getType(g);if(h){var k=d._mbbs[g];k&&k._destroy();
k=new c(a,b,h);d._mbbs[g]=k;e.trigger("mbb:ready",g)}});a.prototype.getMbb=function(a){return this._mbbs[a]};return d})});
/* ******** */
(function(l){var p=window.AmazonUIPageJS||window.P,B=p._namespace||p.attributeErrors,b=B?B("DetailPageAlohaAssets",""):p;b.guardFatal?b.guardFatal(l)(b,window):b.execute(function(){l(b,window)})})(function(l,p,B){l.when("A","a-modal","a-checkbox","aloha-simplebundle-common","ready").execute(function(b,p,l,k){function y(){b.declarative("show-review-tab","click",function(g){b.$(g.$target).closest(a.AUI_PAGE_ROOT).find(".popoverReviewsTab").click()});b.declarative("add-to-cart","click",function(g){b.$(a.SB_ROOT+
" "+a.SB_BUYBOX_ITEM_CHECKBOX+" "+a.INPUT_TYPE_CHECKBOX).filter(function(){return b.$(this).data("asin")===g.data.asin}).prop("checked",!0).change();b.$("[id^\x3dpopover-simpleBundle-]").each(function(){var a=p.get(b.$(this));a.isActive()&&a.hide()})});b.declarative("focus-image","mouseenter",function(b){var f=b.$target,k=f.parents(a.AUI_PAGE_ROOT);b=b.data;k.find("#productImageMain-"+b.asin).attr("src",b.imageUrl);k.find(".thumbnail-group").removeClass("a-button-selected");k.find("#"+f.prop("name")).addClass("a-button-selected")})}
var a={BUYBOX_ACCORDION:"#buyBoxAccordion",ADD_TO_CART_FORM:"#addToCart",ADD_TO_CART_ATTACH_BUTTON:"#add-to-cart-button.attach-dss-atc:button",SESSION_ID:"#session-id",OFFER_LISTING_ID:"#offerListingID",AUI_MODAL_SCROLLER:".a-modal-scroller",AUI_PAGE_ROOT:"#a-page",INPUT_TYPE_CHECKBOX:"input[type\x3d'checkbox']",BASE_PRODUCT_PRICE:"#base-product-price",BASE_PRODUCT_PRICE_DATA:"base-product-price",SB_ROOT:".showBundleAsins.simpleBundleFeatureContainer",SB_EXPANDED_MODAL_EXPANDER_HEADER_PREFIX:".simple-bundle-item-expand-header-",
SB_EXPANDED_MODAL_EXPANDER_CONTENT_PREFIX:".simple-bundle-item-expander-content-",SB_EXPANDED_MODAL_LINK:".simple-bundle-buybox-expanded-modal-link",SB_EXPANDED_MODAL_ITEM_LINK_PREFIX:".simple-bundle-item-link-",SB_ACCESSORY_ITEM_LINK_PREFIX:".popover-simpleBundle-link-",SB_BUYBOX_ITEM_CHECKBOX:".simple-bundle-buybox-item-checkbox",SB_BUYBOX_CHECKBOX_PREFIX:".simple-bundle-item-",SB_EXPANDED_CHECKBOX_PREFIX:".simple-bundle-modal-item-",SB_EXPANDER_TITLE:".aloha-simple-bundle-expand-header-title"},
f=!1,n=b.debounce(function(){var g=b.$(a.SB_ROOT);if(g.length){var h=b.$(a.ADD_TO_CART_FORM),n=h.find(":submit").length&&h.find(a.OFFER_LISTING_ID).val(),p=b.$(a.ADD_TO_CART_ATTACH_BUTTON),l=p.length;if(n||l){y();var q=k.getSimpleBundlePageState()||{},x=q.expandedBuyboxEnabled,H=q.selectionMode||"SINGLE",c=q.items||[],A=[],t=b.$(a.SESSION_ID).val(),F=g.find(a.SB_EXPANDED_MODAL_LINK),m,e={baseAsin:q.baseAsin,marketplaceId:q.marketPlaceId,baseItemPrice:b.$(a.BASE_PRODUCT_PRICE).data(a.BASE_PRODUCT_PRICE_DATA),
clientType:"aloha-simplebundle-desktop",currencyOfPreferenceSupported:q.currencyOfPreferenceSupported||!1},u=k.createMetricsLogger(e);f||(f=!0,b.defer(function(){u.logNexusImpression(c);u.logImpressionRefTag()}));F.click(function(b){b.originalEvent&&u.logExpandedLink()});c.forEach(function(e,d){function c(){var e=!1;h.click(function(){e=!e});g.find(a.SB_EXPANDED_MODAL_ITEM_LINK_PREFIX+d).click(function(){e||h.click();F.click();m=m||b.$(a.AUI_MODAL_SCROLLER);m.scrollTop(h.offset().top-m.offset().top+
m.scrollTop())})}function f(){var c=g.find(a.SB_EXPANDED_MODAL_EXPANDER_CONTENT_PREFIX+d),I="/gp/product/features/aloha-ppd/udp-ajax-handler/minidp.html?asin\x3d"+e.asin+"\x26marketplaceId\x3d"+q.marketPlaceId+"\x26offerId\x3d"+e.offerListingId+"\x26activeTab\x3d0",m="a:expander:simple-bundle-item-expander-"+d+":toggle",x=b.once(function(){c.load(I,null,function(e,a,d){b.$.trim(c.html())?(c.find(".a-span-last \x3e .a-spacing-top-base").remove(),c.find(".popover-add-to-cart-button").remove(),e=c.find("#a-page \x3e div \x3e div.a-row"),
a=c.find(".popover-in-stock"),a.remove(),a.addClass("aloha-simple-bundle-modal-detailed-info-header-row-text"),e.append(a),a=c.find(".popover-ship-sold-by"),a.remove(),a.addClass("aloha-simple-bundle-modal-detailed-info-header-row-text"),e.append(a),a=c.find(".popover-retail-domain"),a.remove(),e.append(a),e=c.find("#a-page \x3e div \x3e div.a-column.a-span9"),e.removeClass("a-span9"),e.addClass("a-span12")):c.text(q.ajaxFailMsg)})}),w=m+":expand";b.off(w);b.on(w,function(e){u.logItemLink(d);h.find(a.SB_EXPANDER_TITLE).removeClass("aloha-simple-bundle-expand-header-title-truncate");
b.$.trim(c.html())||x()});m+=":collapse";b.off(m);b.on(m,function(e){h.find(a.SB_EXPANDER_TITLE).addClass("aloha-simple-bundle-expand-header-title-truncate")})}var h=g.find(a.SB_EXPANDED_MODAL_EXPANDER_HEADER_PREFIX+d);if(x)c(),f();else{var n=g.find(a.SB_ACCESSORY_ITEM_LINK_PREFIX+d);n.unbind("click.MiniDpClickHandler");n.bind("click.MiniDpClickHandler",function(){u.logItemLink(d);u.logNexusOpenMiniDP(d,e);u.logMiniDPRefTag(d)})}k.setupCheckboxes(A,d,x,e.asin,q.maxBuyboxItemsDesktop,a.SB_BUYBOX_CHECKBOX_PREFIX+
d+" "+a.INPUT_TYPE_CHECKBOX,a.SB_EXPANDED_CHECKBOX_PREFIX+d+" "+a.INPUT_TYPE_CHECKBOX,a.SB_BUYBOX_CHECKBOX_PREFIX+d,a.SB_EXPANDED_CHECKBOX_PREFIX+d,H)});e=b.$(a.BUYBOX_ACCORDION);e.length?e.children().each(function(){h=b.$(this).find(a.ADD_TO_CART_FORM);var e=h.find(a.ADD_TO_CART_ATTACH_BUTTON),d=e.length,q=h.find(a.SB_ROOT).length,m=h.find(":submit").length&&h.find(a.OFFER_LISTING_ID).val();q&&m&&k.setupAddToCart(h,A,c,u,t,x);d&&k.setupAddToCartForButton(e,A,c,u,t,x,h)}):(n&&k.setupAddToCart(h,A,
c,u,t,x),l&&k.setupAddToCartForButton(p,A,c,u,t,x,h))}else g.hide()}},200);n();b.on("a:pageUpdate",n);b.on("attach:dss:initialized",function(){b.off("a:pageUpdate",n);n()})});"use strict";l.when("A","a-checkbox","aloha-uatc","aloha-buy-now-integration","aloha-buybox-form-util").register("aloha-simplebundle-common",function(b,v,D,k,y){function a(a,f){var h=b.$(a);h.change(function(){h.prop("checked",this.checked)});var c=b.$(f);c.length||(c=h);return{$element:h,$container:c,api:v(a),show:function(){c.hasClass(z.AUI_HIDDEN)&&
c.removeClass(z.AUI_HIDDEN);c.show()},hide:function(){c.hasClass(z.AUI_HIDDEN)||c.addClass(z.AUI_HIDDEN)},isVisible:function(){return!c.hasClass(z.AUI_HIDDEN)}}}function f(a,b,h){b.forEach(function(b){a.addItem(b.asin,b.offerListingId,b.quantity);h.logCheckboxSelected(b.index,b.quantity);h.logAddToCartRefTag(b.index)})}function n(b,a,h){var c=[],f=[];a.forEach(function(a,g){var m=b[g];a.api.isChecked()?c.push({asin:m.asin,offerListingId:m.offerListingId,ourPrice:m.ourPrice,ourPriceAmount:m.ourPriceAmount,
ourPriceSymbol:m.ourPriceSymbol,ourPriceCode:m.ourPriceCode,index:g,quantity:h}):f.push({asin:m.asin,ourPrice:m.ourPrice,ourPriceAmount:m.ourPriceAmount,ourPriceSymbol:m.ourPriceSymbol,ourPriceCode:m.ourPriceCode,index:g,isVisible:a.isVisible()})});return{selectedLineItems:c,unselectedItems:f}}var g=/[^\d,\.]/g,h=/,/g,E=/\./g,G=/(^\D+|\D+$)/,z={AUI_HIDDEN:"aok-hidden"};return{createMetricsLogger:function(a){function f(a,b){p.ue&&p.ue.count&&p.ue.count("aloha-simplebundle-"+a,b)}function n(){var e;
e=a.currencyOfPreferenceSupported?{priceFormatted:a.baseItemPrice,priceDecimal:null,currencySymbol:null}:l(a.baseItemPrice);return{baseAsin:a.baseAsin,baseItemPrice:e.priceFormatted,baseItemCurrencySymbol:e.currencySymbol,baseItemPriceDecimal:e.priceDecimal,clientType:a.clientType,feature:"abb"}}function c(e,b){p.ue&&p.ue.event&&(e.requestId=m,e.producerId="atch",e.obfuscatedMarketplaceId=a.marketplaceId,p.ue.event(e,"atch",b,{ssd:!0}))}function k(a){b.ajax("/gp/product/ajax-handlers/reftag.html?ref_\x3d"+
a,{method:"get"})}function t(b){return a.currencyOfPreferenceSupported?{priceFormatted:b.ourPrice,priceDecimal:parseFloat(b.ourPriceAmount)||null,currencySymbol:b.ourPriceSymbol}:l(b.ourPrice)}function l(a){a=a||"";var b=a.lastIndexOf(","),c=a.lastIndexOf("."),d;b>c?(c=E,d=h):(c=h,d=E);(b=a.match(G))&&(b=b[0].trim());c=a.replace(g,"").replace(c,"").replace(d,".");c=parseFloat(c);return{priceFormatted:a,currencySymbol:b,priceDecimal:c}}var m=Date.now().toString(10)+Math.random().toString(16).substring(2,
13);b.defer(function(){f("view",1)});return{logAddToCart:function(a){f("addtocart",a)},logExpandedLink:function(){f("buybox-expanded-link",1)},logCheckboxSelected:function(a,b){f("checkbox-"+(a+1),b)},logItemLink:function(a){f("link-"+(a+1),1)},logImpressionRefTag:function(){k("dp_atch_abb_i")},logAddToCartRefTag:function(a){k("dp_atch_abb_atc_"+(a+1))},logMiniDPRefTag:function(a){k("dp_atch_abb_smdp_"+(a+1))},logNexusImpression:function(a){var b=n();b.accessories=a.map(function(a,b){var c=t(a);return{asin:a.asin,
displayPosition:b+1,price:c.priceFormatted,currencySymbol:c.currencySymbol,priceDecimal:c.priceDecimal}});c(b,"attach.ABBImpression.5")},logNexusAddBaseToCart:function(a,b,f){var d=n();d.baseQuantity=Number(f);d.accessoriesAdded=a.map(function(a){var b=t(a);return{asin:a.asin,displayPosition:a.index+1,quantity:Number(a.quantity),price:b.priceFormatted,currencySymbol:b.currencySymbol,priceDecimal:b.priceDecimal}});d.accessoriesNotAdded=b.map(function(a){var b=t(a);return{asin:a.asin,displayPosition:a.index+
1,price:b.priceFormatted,currencySymbol:b.currencySymbol,priceDecimal:b.priceDecimal}});c(d,"attach.ABBAddBaseToCart.9")},logNexusOpenMiniDP:function(a,b){var f=t(b),d=n();d.accessoryAsin=b.asin;d.accessoryDisplayPosition=Number(a)+1;d.accessoryPrice=f.priceFormatted;d.accessoryItemCurrencySymbol=f.currencySymbol;d.accessoryItemPriceDecimal=f.priceDecimal;c(d,"attach.ABBShowMiniDP.4")}}},getSimpleBundlePageState:function(){var a=b.$(".simpleBundleJavascriptParameters").find("script").html();return b.parseJSON(a)},
getCheckboxCollectionObject:a,setupAddToCart:function(a,h,g,c,l,t){function v(a,r){if(m){var d=b.$(a.currentTarget);if(k.isBuyNow(d)){var q=t?1:e.find("*[name\x3d'quantity']").val()||1,w=n(g,h,q);k.checkoutWith(w.selectedLineItems,d)}else return}var C=D.createAddToCartRequest(l,function(){r()},function(){p.ueLogError&&p.ueLogError({message:"[There was an error while adding items to the cart using the universal add to cart api.]"},{logLevel:"ERROR",attribution:"SimpleBundle"});r()}),q=t?1:e.find("*[name\x3d'quantity']").val()||
1,w=n(g,h,q);f(C,w.selectedLineItems,c);d=w.unselectedItems.filter(function(a){return a.isVisible});c.logNexusAddBaseToCart(w.selectedLineItems,d,q);q=C.count();0!==q&&(d=b.$(a.currentTarget),k.isBuyNow(d)?k.checkoutWith(w.selectedLineItems,d):(m=!0,a.preventDefault(),c.logAddToCart(q),C.call()))}var m=!1,e=a;a.unbind("submit.SimpleBundleSubmitHandler");a.bind("submit.SimpleBundleSubmitHandler",function(a){var c=b.$(this);v(a,function(){c.submit()})});a.find(":submit").unbind("click.SBB");a.find(":submit").bind("click.SBB",
function(a){var c=b.$(this),d=c.closest(".a-accordion-row-container");d.length&&(e=d,v(a,function(){c.click()}))})},setupAddToCartForDeclarative:function(a,b,h,c,g,k,v){a.unbind("click.SimpleBundleClickHandler");a.bind("click.SimpleBundleClickHandler",function(a){a=D.createAddToCartRequest(g,function(){l.now("attach-external-atc-interceptor").execute(function(a){a&&q.selectedLineItems.forEach(function(b){a.updateAttachModule(b.asin)})})},function(){p.ueLogError&&p.ueLogError({message:"[There was an error while adding items to the cart using the universal add to cart api.]"},
{logLevel:"ERROR",attribution:"SimpleBundle"})});var e=k?1:v.find("*[name\x3d'quantity']").val()||1,q=n(h,b,e);f(a,q.selectedLineItems,c);var r=q.unselectedItems.filter(function(a){return a.isVisible});c.logNexusAddBaseToCart(q.selectedLineItems,r,e);if(e=a.count())c.logAddToCart(e),a.call()})},setupCheckboxes:function(b,f,h,c,g,k,n,m,e,l){var r=a(k,m);b.push(r);r.api.enable();r.$element.data("asin",c);if(h){var d=a(n,e);d.api.enable();d.api.check(r.api.isChecked());d.$element.change(function(){var a=
d.api.isChecked();r.api.check(a)});r.$element.change(function(){var a=r.api.isChecked();d.api.check(a);var c=0;b.forEach(function(a){c<g&&a.api.isChecked()?(c++,a.show()):a.hide()});c<g&&b.forEach(function(a){c<g&&a.api.isUnchecked()&&(c++,a.show())})})}else"SINGLE"===l&&r.$element.change(function(){r.api.isChecked()&&b.forEach(function(a,b){f!==b&&a.api.uncheck()})});0<b.length&&b[0].$element.change()},setupAddToCartForButton:function(a,f,h,c,g,k,p){function m(){var a=k?1:e.find("*[name\x3d'quantity']").val()||
1,b=n(h,f,a);y.addItems(p,b.selectedLineItems,c);var d=b.unselectedItems.filter(function(a){return a.isVisible});l.now("attach-external-atc-interceptor").execute(function(a){a&&b.selectedLineItems.forEach(function(b){a.updateAttachModule(b.asin)})});c.logNexusAddBaseToCart(b.selectedLineItems,d,a);c.logAddToCart(b.selectedLineItems.length)}var e=p;a.unbind("click.button.SBB");a.bind("click.button.SBB",function(){var a=b.$(this).closest(".a-accordion-row-container");a.length&&(e=a);m()})}}});"use strict";
l.when("A").register("aloha-uatc",function(b){function l(p,k,v,a,f){var n=0;f=f||5E3;a=a||v;var g={clientName:"AmazonWireless"};g.verificationSessionID=p;return{count:function(){return n},call:function(){n&&b.post("/gp/add-to-cart/json",{timeout:f,params:g,success:k,error:v,abort:a})},addItem:function(a,b,f){g["ASIN."+n]=a;g["offerListingID."+n]=b;g["quantity."+n]=f||1;n++}}}return{createAddToCartRequest:l,createSingleFinalCallbackAddToCartRequest:function(b,k){return l(b,k,k,k)}}});"use strict";
l.when("ready").register("aloha-buy-now-integration",function(){var b={};l.when("turbo-checkout-buy-now-integration").execute(function(l){b=l});return{isBuyNow:function(l){return"function"===typeof b.isBuyNow&&b.isBuyNow(l)},checkoutWith:function(l,p){return b.checkoutWith(l,p)}}});"use strict";l.when("A").register("aloha-buybox-form-util",function(b){function l(a){for(var b=2;0<a.find('input[name\x3d"asin.'+b+'"]').length||0<a.find('input[name\x3d"offeringID.'+b+'"]').length;)b++;return b}function p(a,
b){for(;0<a.find('input[name\x3d"asin.'+b+'"]').length||0<a.find('input[name\x3d"offeringID.'+b+'"]').length;)b++;return b}function k(a,f){return[b.$("\x3cinput /\x3e",{type:"hidden",name:"asin."+f,value:a.asin,class:"aloha-accessory-form-input"}),b.$("\x3cinput /\x3e",{type:"hidden",name:"offeringID."+f,value:a.offerListingId,class:"aloha-accessory-form-input"}),b.$("\x3cinput /\x3e",{type:"hidden",name:"quantity."+f,value:a.quantity||1,class:"aloha-accessory-form-input"})]}var y=[];b.on("aloha:detailPage:reappear",
function(){y=[];b.$(".aloha-accessory-form-input").remove()});return{addItems:function(a,b,n){var g=l(a);b.forEach(function(b){if(b!==B&&b.asin&&b.offerListingId){g=p(a,g);var f=k(b,g);f.forEach(function(b){a.append(b)});y.push(f);g++;n&&(n.logCheckboxSelected(b.index,b.quantity),n.logAddToCartRefTag(b.index))}});b=a.find('input[name\x3d"itemCount"]');0===b.length?a.append('\x3cinput type\x3d"hidden" name\x3d"itemCount" value\x3d"'+g+'"\x3e'):b[0].value=g}}})});
/* ******** */
(function(n){var p=window.AmazonUIPageJS||window.P,x=p._namespace||p.attributeErrors,a=x?x("DetailPageAttachAssets",""):p;a.guardFatal?a.guardFatal(n)(a,window):a.execute(function(){n(a,window)})})(function(n,p,x){"use strict";n.when("A").register("attach-variant-registration",function(a){var c={};return{registerVariantFlag:function(a){if(c.hasOwnProperty(a))throw"Variant flag already registered";c[a]=!0},getVariantFlag:function(a){return c.hasOwnProperty(a)}}});"use strict";n.when("A").register("attach-baselink",
function(){var a=null;n.when("BaseLinkFormHelper").execute(function(c){a=c});return{createBaseLinkFormFields:function(c,m){return a?a.addBaseLinkFields(c,m):null}}});"use strict";n.when("A").register("attach-external-atc-interceptor",function(a){var c=a.$,m=[],g=[],h=!1,t=!1,b=function(){t=!0},d=function(a){var b=g.indexOf(a);-1<b&&(a=c("#attach_add_accessory_alert_"+b),b=c("#attach_add_accessory_button_"+b),a&&b&&(a.removeClass("aok-hidden"),b.addClass("aok-hidden")))};return{updateAttachModule:function(a){b&&
(h?d(a):m.push(a))},loadAttachModule:function(a){if(t)for(h=!0,g=a;0<m.length;)a=m.shift(),d(a)},unloadAttachModule:function(){h=!1;g=[]},enableModule:b}});"use strict";n.when("A").register("attach-preinitiate-checkout",function(a){return{getCartInitiateId:function(){return(new Date).getTime()},preinitiateCheckout:function(c){var m;m=a.$("#attach-desktop-sideSheet");var g=a.$("#attach_accessory_sheet");m=m.length?m:g;m.find("iframe#checkoutPrefetch").remove();c="/gp/cart/checkout-prefetch.html?\x26cartInitiateId\x3d"+
c;g=document.createElement("iframe");g.setAttribute("src",c);g.setAttribute("style","width:0px;height:0px;display:none;position:absolute;");g.setAttribute("name","checkoutPrefetch");g.setAttribute("id","checkoutPrefetch");m.append(g)}}});"use strict";n.when("A","attach-common","attach-variant-registration").register("attach-weblabs",function(a,c,m){function g(b){var c=a.$(b).val();b=[];if(c&&0<c.length)for(var c=c.slice(1,-1).split(","),t=0;t<c.length;t++){var e=c[t].trim();0<e.length&&b.push(e)}return b}
var h={},t=h.Selectors={CORE_FREE_SHIPPING_MESSAGE:"#attach-core-free-shipping-message",CLIENT_SIDE_ATTACH_WEBLABS:"#attach-weblabsToTriggerClientSide",CLIENT_SIDE_EMPTY_ASIN_LIST_WEBLABS:"#attach-weblabsToTriggerClientSideWhenEmptyAsinList",WEBLABS_TO_TRIGGER_ON_ADD_TO_CART:"#attach-weblabsToTriggerOnAddToCart",SHOW_ACCESSORY_COUPONS_DSS:"#attach-accessory-coupons-dss",SHOW_ACCESSORY_COUPONS_MBS:"#attach-accessory-coupons-mbs"};h.isShowAccessoryCouponsDssEnabled=function(){return c.elementExists(t.SHOW_ACCESSORY_COUPONS_DSS)};
h.isShowAccessoryCouponsMbsEnabled=function(){return c.elementExists(t.SHOW_ACCESSORY_COUPONS_MBS)};h.isCoreFreeShippingMessageEnabled=function(){return c.elementExists(t.CORE_FREE_SHIPPING_MESSAGE)};h.isInstallmentsDssIntegrationEnabled=function(){return m.getVariantFlag("DP_INSTALLMENTS_DSS_231673:T1")};h.isInstallmentsOnMbsEnabled=function(){return m.getVariantFlag("DP_INSTALLMENTS_ON_MBS_241566:T1")};h.isAttachDebugParametersEnabled=function(){return m.getVariantFlag("ATTACH_DEBUG_PARAMS_266682")};
h.isAttachDynamicBundlingEnabled=function(){return m.getVariantFlag("HCTP_DP_ATTACH_DYNAMIC_BUNDLING_MOBILE_249346:T1")};h.isWarrantyServerSideDSSEnabled=function(){return m.getVariantFlag("WTY_DSS_SERVERSIDE_273709:T1")};h.isWarrantyServerSideMBSEnabled=function(){return m.getVariantFlag("WTY_MBS_SERVERSIDE_273712:T1")};h.isWarrantyTwisterPlusEnabled=function(){return m.getVariantFlag("AC_TWISTER_PLUS_LAUNCH_299301:T1")};h.getWeblabsToTriggerClientSide=function(){return g(t.CLIENT_SIDE_ATTACH_WEBLABS)};
h.getWeblabsToTriggerClientSideForEmptyAsinList=function(){return g(t.CLIENT_SIDE_EMPTY_ASIN_LIST_WEBLABS)};h.getWeblabsToTriggerOnAddToCart=function(){return g(t.WEBLABS_TO_TRIGGER_ON_ADD_TO_CART).map(function(a){return a.split(":")[0]})};h.getAllWeblabsToTriggerClientSide=function(){var a=h.getWeblabsToTriggerClientSide(),a=a.concat(h.getWeblabsToTriggerClientSideForEmptyAsinList());return a.concat(h.getWeblabsToTriggerOnAddToCart())};h.triggerClientSideWeblabs=function(b){b=b||[];b=b.concat(h.getAllWeblabsToTriggerClientSide());
0<b.length&&(b=a.$.param({weblabs:b},!0),a.$.post("/gp/product/features/aloha-ppd/getTreatmentAndRecordWeblabs.html",b))};return h});"use strict";n.when("A").register("attach-logging",function(a){var c={},m,g,h;c.NEXUS={PRODUCER_ID:"atch",ACCESSORY_IMPRESSIONS_PREFIX:"attach.AccessoryImpressions.",ACCESSORY_IMPRESSIONS_SCHEMA_VERSION:"10",ADD_ACCESSORY_PREFIX:"attach.AddAccessoryToCart.",ADD_ACCESSORY_SCHEMA_VERSION:"14",ADD_WARRANTY_PREFIX:"attach.AddWarrantyToCart.",ADD_WARRANTY_SCHEMA_VERSION:"5",
WARRANTY_IMPRESSION_PREFIX:"attach.WarrantyImpression.",WARRANTY_IMPRESSION_SCHEMA_VERSION:"6",DSS_WARNING_MESSAGE_PREFIX:"attach.DssWarningMessages.",DSS_WARNING_MESSAGE_VERSION:"2",PROMOTION_CLAIMED_PREFIX:"attach.ClaimPromotion.",PROMOTION_CLAIMED_SCHEMA_VERSION:"2",ACCESSORY_TYPE:{ACCESSORY:"accessory",WARRANTY:"warranty"}};c.FEATURES={DSS:"dss"};c.REF_TAGS={WARRANTY_IMPRESSION:"dp_atch_dss_w_i_",WARRANTY_ADD_TO_CART:"dp_atch_dss_w_y_"};c.initialize=function(a,b){m=a;g=b};c.setPayloadBuilder=
function(a){h=function(){var b=a();b.feature=m;b.obfuscatedMarketplaceId=g||p.ue_mid;b.producerId=c.NEXUS.PRODUCER_ID;b.requestId=c.getRandomHexString();return b}};c.getRandomHexString=function(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)};c.log=function(a,b){p.ue&&p.ue.event&&p.ue.event(a,c.NEXUS.PRODUCER_ID,b,{ssd:!0})};c.logAccessoryAddToCart=function(a){var b=c.NEXUS.ADD_ACCESSORY_PREFIX+c.NEXUS.ADD_ACCESSORY_SCHEMA_VERSION,d=h();d.type=c.NEXUS.ACCESSORY_TYPE.ACCESSORY;
d.displayPosition=parseInt(a.index)+1;d.accessoryAsin=a.asin;d.accessoryAsinPrice=a.priceFormatted;d.accessoryItemCurrencySymbol=a.currencySymbol;d.accessoryItemPriceDecimal=a.priceDecimal;d.couponType=a.couponType;d.couponDecimal=a.couponDecimal;d.dealType=a.dealType;d.dealPercentSavings=a.dealPercentSavings;d.dealDollarAmount=a.dealDollarAmount;d.categoryDisplayPosition=parseInt(a.categoryIndex)+1;d.categoryTitle=a.categoryTitle;d.displayPositionWithinCategory=parseInt(a.asinIndexWithinCategory)+
1;c.log(d,b)};c.logAccessoryImpressions=function(a){var b=c.NEXUS.ACCESSORY_IMPRESSIONS_PREFIX+c.NEXUS.ACCESSORY_IMPRESSIONS_SCHEMA_VERSION,d=h();d.accessories=[];for(var g=0;g<a.length;g++){var e=a[g];d.accessories.push({displayPosition:parseInt(e.index)+1,asin:e.asin,price:e.priceFormatted,currencySymbol:e.currencySymbol,priceDecimal:e.priceDecimal,couponType:e.couponType,couponDecimal:e.couponDecimal,dealType:e.dealType,dealPercentSavings:e.dealPercentSavings,dealDollarAmount:e.dealDollarAmount,
categoryDisplayPosition:parseInt(e.categoryIndex)+1,categoryTitle:e.categoryTitle,displayPositionWithinCategory:parseInt(e.asinIndexWithinCategory)+1})}c.log(d,b)};c.logWarrantyAddToCart=function(a){var b=c.NEXUS.ADD_WARRANTY_PREFIX+c.NEXUS.ADD_WARRANTY_SCHEMA_VERSION,d=h();d.asin=a.asin;d.price=a.priceFormatted;d.warrantyCurrencySymbol=a.currencySymbol;d.warrantyPriceDecimal=a.priceDecimal;c.log(d,b);c.logWarrantyRefTag(c.REF_TAGS.WARRANTY_ADD_TO_CART,a.asin)};c.logWarrantyImpression=function(a){var b=
c.NEXUS.WARRANTY_IMPRESSION_PREFIX+c.NEXUS.WARRANTY_IMPRESSION_SCHEMA_VERSION,d=h();d.asin=a.asin;d.price=a.priceFormatted;d.warrantyCurrencySymbol=a.currencySymbol;d.warrantyPriceDecimal=a.priceDecimal;c.log(d,b);c.logWarrantyRefTag(c.REF_TAGS.WARRANTY_IMPRESSION,a.asin)};c.logWarrantyRefTag=function(c,b){var d=h().baseAsin;a.get("/gp/product/ajax-handlers/reftag.html?ref_\x3d"+(c+d+"_"+b))};c.logSecondarySheetRefTag=function(c){var b=h().baseAsin;a.get("/gp/product/ajax-handlers/reftag.html?ref_\x3d"+
(c+"_"+b))};c.logMapleError=function(){p.ue&&p.ue.count&&p.ue.count("MAPLE::DSS::Error",(p.ue.count("MAPLE::DSS::Error")||0)+1)};c.logCount=function(a,b){p.ue&&p.ue.count&&(b=b||1,p.ue.count(a,(p.ue.count(a)||0)+b))};c.logDSSWarningMessage=function(a){var b=c.NEXUS.DSS_WARNING_MESSAGE_PREFIX+c.NEXUS.DSS_WARNING_MESSAGE_VERSION,d=h();c.log({quantity:d.quantity.toString(),baseAsin:d.baseAsin,warningMessage:a},b)};c.logPromotionClaimed=function(a){var b=c.NEXUS.PROMOTION_CLAIMED_PREFIX+c.NEXUS.PROMOTION_CLAIMED_SCHEMA_VERSION,
d=h();d.asin=a.asin;d.accessoryCurrencySymbol=a.currencySymbol;d.accessoryPriceDecimal=a.priceDecimal;d.displayPosition=a.index+1;null!==a.couponType&&(d.promoDecimal=a.couponDecimal,d.promoDecimalType=a.couponType,d.promoType="coupon");c.log(d,b)};return c});"use strict";n.when("A","attach-logging").register("attach-maple",function(a,c){var m={},g;m.initialize=function(){g=!1};m.loadBannerHTML=function(){var h=a.$.Deferred(),m={};g&&(m.cart=null);a.post("/gp/cobrandcard/dss-maple-banner.html",{params:m,
success:function(a){h.resolve(a)},error:function(){c.logMapleError();h.resolve(null)}});return h.promise()};m.suppressMathBox=function(){g=!0};m.updateMathBox=function(a){"undefined"!==typeof mapleMathBox&&null!==mapleMathBox&&mapleMathBox.updateMapleMath({totalCost:a})};return m});"use strict";n.when("A","attach-variant-registration").register("attach-common",function(a,c){function m(e){var c=g(e,d.UNIQ_ITEM_ASSOC_NAME),r=g(e,d.ITEM_ASSOC_TYPE_NAME),l=1,f=!1;null!==r&&(b.itemAssocTypeValue=e.find(d.INPUT_NAME+
r+d.CLOSED_BRACKET).val(),b.itemAssocTypeValue===d.ATTACH_ITEM_ASSOC_TYPE_VALUE&&(f=!0));null!==c?f?(r=g(e,d.ITEM_ASSOC_NAME),f=a.$("#attach-sessionId").val()+"-"+(new Date).getTime(),e.find(d.INPUT_NAME+c+d.CLOSED_BRACKET).val(f),e.find(d.INPUT_NAME+r+d.CLOSED_BRACKET).val(f),b.uniqueId=f):b.uniqueId=e.find(d.INPUT_NAME+c+d.CLOSED_BRACKET).val():(b.uniqueId=a.$("#attach-sessionId").val()+"-"+(new Date).getTime(),l=t(e,l),h(e,d.ITEM_ASSOC_NAME,b.uniqueId,l),l++,l=t(e,l),h(e,d.UNIQ_ITEM_ASSOC_NAME,
b.uniqueId,l),l++,l=t(e,l),h(e,d.ITEM_ASSOC_TYPE_NAME,b.itemAssocTypeValue,l),l++);l=t(e,l);h(e,d.ITEM_ASSOC_PROPERTIES_NAME,d.ITEM_ASSOC_PROPERTIES_VALUE,l)}function g(a,b){a=a.find(d.INPUT_VALUE+b+d.CLOSED_BRACKET);if(!a.length)return null;a=a[0].name.split(".");return 2<a.length?d.CUSTOM_VALUE_KEY+a[1]+"."+a[2]:null}function h(a,b,c,d){a.append('\x3cinput type\x3d"hidden" name\x3d"custom-name.1.'+d+'" value\x3d"'+b+'"/\x3e');a.append('\x3cinput type\x3d"hidden" name\x3d"custom-value.1.'+d+'" value\x3d"'+
c+'"/\x3e')}function t(a,b){for(;0<a.find('input[name\x3d"custom-name.1.'+b+'"]').length||0<a.find('input[name\x3d"custom-value.1.'+b+'"]').length;)b++;return b}var b={},d=b.ItemAssociationConstants={ITEM_ASSOC_NAME:"itemAssoc",UNIQ_ITEM_ASSOC_NAME:"UNIQ-itemAssoc",ITEM_ASSOC_TYPE_NAME:"itemAssocType",ATTACH_ITEM_ASSOC_TYPE_VALUE:"Attach",ITEM_ASSOC_RENDER_TYPE_NAME:"itemAssocRenderType",ITEM_ASSOC_RENDER_TYPE_VALUE:"renderAll",ITEM_ASSOC_PROPERTIES_NAME:"itemAssocProperties",ITEM_ASSOC_PROPERTIES_VALUE:"{\x26#34;QuantityEditable\x26#34;:\x26#34;1\x26#34;,\x26#34;QuantityInvarianceFactor\x26#34;:\x26#34;1\x26#34;}",
CUSTOM_VALUE_KEY:"custom-value.",INPUT_VALUE:"input[value\x3d'",INPUT_NAME:"input[name\x3d'",CLOSED_BRACKET:"']"};b.uniqueId=null;b.itemAssocTypeValue="Attach";b.FailureModes={ERROR_500:1,RESUBMIT_BUY_BOX:2,TRANSITION_TO_HUC:3};var n=b.Selectors={ADD_TO_CART_BUTTON:"#add-to-cart-button"};b.buyButton=a.$(n.ADD_TO_CART_BUTTON);b.reject=function(c,d){return b.rejectPromise(a.$.Deferred(),c,d)};b.rejectPromise=function(b,c,d){if(d&&d.count&&p.ue&&p.ue.count)if("string"===typeof d.count)p.ue.count(d.count,
1);else if(a.$.isArray(d.count))for(var l=0;l<d.count.length;l++)p.ue.count(d.count[l],1);return b.reject(c,d)};b.pipeJSON=function(a){try{return JSON.parse(a)}catch(c){return b.reject(null,{count:"ATTACH_DSS_JSON_PARSE_FAILURE"})}};b.unescapeJson=function(a){if(!a)return null;a=a.replace(/\|\|/g,'"');return a=a.replace(/&pipe;/g,"||")};b.elementExists=function(b){return b?b instanceof a.$?0!==b.length:0!==a.$(b).length:!1};b.moduleExists=function(b){return(b=a.$("#"+b+"_feature_div").html())?0<b.trim().length:
!1};b.isCurrencyOfPreferenceApplied=function(){return"true"===a.$("#attach-used-currency-of-preference").val()};b.hasWarranty=function(){return 0<a.$("#warrantyEscapedJson").length};b.submitATCForm=function(){var d=b.getAtcForm();c.getVariantFlag("HCTP_DP_ATTACH_DYNAMIC_BUNDLING_MOBILE_249346:T1")&&m(d);d=d.serialize();d=a.$.post("/gp/product/handle-buy-box/ref\x3ddp_start-bbf_1_glance",d);d.fail(function(){p.ue&&p.ue.count&&p.ue.count("ATTACH_DSS_ADD_BASE_FAILURE",1)});a.trigger("attach:add-base-to-cart",
d)};b.getAtcForm=function(){return b.buyButton.closest("form")};return b});"use strict";n.when("A","attach-common","attach-logging","attach-baselink","attach-weblabs","attach-variant-registration").register("attach-desktop-warranty-pane",function(a,c,m,g,h,n){function b(){for(var a=p.location.search.substring(1).split("\x26"),b=0;b<a.length;b++){var c=a[b].split("\x3d");if("smid"===c[0])return c[1]}return""}var d={name:"warranty"},v=d.Endpoints={RENDER:"/gp/product/features/aloha-ppd/udp-ajax-handler/warranty-render-desktop.html"},
e=d.Selectors={ASIN:"#attach-warranty-asin",PRICE_FORMATTED:"#attach-accessory-price-warranty",PRICE_AMOUNT:"#attach-accessory-price-warranty-amount",BASE_ASIN:"#ASIN",MARKETPLACE_ID:"#attach-marketplaceId",BASE_CURRENCY_SYMBOL:"#attach-base-product-currency-symbol",ATC_QUANTITY:"#quantity",ATC_WARRANTY:".attach-warranty-input",JSON_DATA:"#warrantyEscapedJson",PANE:"#attach-warranty-pane",PANE_IMAGE:"#attach-sheet-warranty-image",PANE_UPSELL_IMAGE:"#attach-sheet-warranty-upsell-image",PANE_ADD_BUTTON:"#attachSiAddCoverage",
PANE_NO_BUTTON:"#attachSiNoCoverage",PANE_WARRANTY_TITLE:"#attach-warranty-displayTitle"};d.getWarrantyLoggingPayload=function(){var b=a.$(e.ASIN).val(),d=a.$(e.PRICE_FORMATTED),l=a.$(e.PRICE_AMOUNT);return c.elementExists(l)?{asin:b,priceFormatted:d.text().trim(),priceDecimal:parseFloat(l.val())||null,currencySymbol:a.$(e.BASE_CURRENCY_SYMBOL).val()||null}:{asin:b,priceFormatted:d.text().trim(),priceDecimal:null,currencySymbol:null}};d.appendWarrantyToATCForm=function(b,d){if(a.$(e.BASE_ASIN).val()&&
b&&d){var l=c.getAtcForm();l.append('\x3cinput type\x3d"hidden" id\x3d"useABBHandler" class\x3d"attach-warranty-input" name\x3d"useABBHandler" value\x3d"1" /\x3e');var f=l.find("input[name^\x3d'offeringID']").length+1,h=a.$(e.ATC_QUANTITY).val()||1,k="quantity."+f,y="asin."+f;l.find('input[name\x3d"'+k+'"]').remove();l.find('input[name\x3d"'+y+'"]').remove();l.append('\x3cinput type\x3d"hidden" id\x3d"'+k+'" name\x3d"'+k+'" value\x3d"'+h+'" class\x3d"attach-warranty-input" /\x3e');l.append('\x3cinput type\x3d"hidden" id\x3d"'+
y+'" name\x3d"'+y+'" value\x3d"'+b+'" class\x3d"attach-warranty-input" /\x3e');l.append('\x3cinput type\x3d"hidden" id\x3d"offeringID.'+f+'" name\x3d"offeringID.'+f+'" value\x3d"'+d+'" class\x3d"attach-warranty-input"/\x3e');b=l.find('input[name\x3d"itemCount"]');0===b.length?l.append('\x3cinput type\x3d"hidden" name\x3d"itemCount" value\x3d"'+f+'"\x3e'):b[0].value=f;a.$("#atch__bl").length&&g.createBaseLinkFormFields(f+1,l)}};d.clearWarrantyFromATCForm=function(){c.getAtcForm().find(e.ATC_WARRANTY).remove()};
d.load=function(g){var r=p.ue,l;c.elementExists(e.JSON_DATA)&&(l=c.unescapeJson(a.$(e.JSON_DATA).val()),l=JSON.parse(l));if(!l)return c.reject(c.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_WARRANTY_LOAD_FAILURE"});if(!l.triggerInterstitialExperiment)return d.renderClientSide(g,l);if(!h.isWarrantyServerSideDSSEnabled())return r&&r.trigger&&r.trigger("WTY_DSS_SERVERSIDE_273709","C"),d.renderClientSide(g,l);r&&r.trigger&&r.trigger("WTY_DSS_SERVERSIDE_273709","T1");var f=a.$.Deferred(),r=a.$.get(v.RENDER+
"?asin\x3d"+a.$(e.BASE_ASIN).val()+"\x26marketplaceId\x3d"+a.$(e.MARKETPLACE_ID).val()+"\x26smid\x3d"+b());a.$.when(r).done(function(a){g.$container.append(a);f.resolve()}).fail(function(){m.logCount("ATTACH_DSS_WARRANTY_AJAX_FAILURE");d.renderClientSide(g,l);f.resolve()});return f.promise()};d.renderClientSide=function(b,c){if(c.triggerUpsellImageExperiment){var d=a.$.param({weblabs:["WTY_221862"]},!0);a.$.post("/gp/product/features/aloha-ppd/getTreatmentAndRecordWeblabs.html",d)}var d="",f=c.baseASIN,
e="dp_atch_dss_w_lm_"+f+"_"+c.asin,k="dp_atch_dss_w_r_"+f+"_"+c.asin,f="dp_atch_dss_w_lm_"+f+"_"+c.asin,y=a.$("#stringTranslation-si-warranty-title").val(),u=a.$("#stringTranslation-si-accident-protection").val(),h=a.$("#stringTranslation-si-from").val(),g=a.$("#stringTranslation-si-rating-out-of-5-stars").val(),m=a.$("#stringTranslation-item-added-to-cart").val(),p=a.$("#stringTranslation-desktop-attach-accessory-failed-add-to-cart").val(),n=a.$("#stringTranslation-desktop-attach-accessory-retry").val(),
t=a.$("#stringTranslation-si-add-coverage").val(),v=a.$("#stringTranslation-si-no-thanks").val(),x=a.$("#stringTranslation-services-bundle-detail-link").val(),d=d+('   \x3cdiv id\x3d"attach-warranty-pane" class\x3d"a-section"\x3e\n       \x3cdiv id\x3d"attach-warranty" class\x3d"a-section attach-sidesheet-card"\x3e\n           \x3cinput type\x3d"hidden" name\x3d"" value\x3d"'+c.asin+'" id\x3d"attach-warranty-asin"\x3e\n           \x3ch1 class\x3d"a-size-medium a-spacing-none a-color-base a-text-center"\x3e'+
y+'\x3c/h1\x3e\n           \x3chr class\x3d"a-spacing-base a-spacing-top-small a-divider-normal attach-warranty-divider"\x3e\n           \x3cdiv class\x3d"a-row a-spacing-micro"\x3e\n');null!==c.warrantyUpsellImage&&c.triggerUpsellImageExperiment&&(d+='                \x3cdiv class\x3d"a-row a-span-last"\x3e\n                    \x3cimg id\x3d"attach-sheet-warranty-upsell-image" src\x3d"" data-image-url\x3d"'+c.warrantyUpsellImage+'" class\x3d"attach-warranty-upsell-image"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"a-row a-spacing-micro"\x3e\n');
null!==c.thumbImage&&(d+='                \x3cdiv class\x3d"a-column a-span2"\x3e\n                    \x3cimg id\x3d"attach-sheet-warranty-image" src\x3d"" data-image-url\x3d"'+c.thumbImage+'" class\x3d"attach-accessory-image"\x3e\n                \x3c/div\x3e\n');d+='                \x3cdiv class\x3d"a-column a-span10 a-span-last"\x3e\n                    \x3ca class\x3d"a-size-large a-spacing-micro a-link-normal a-color-base" id\x3d"attach-warranty-displayTitle" target\x3d"_blank" rel\x3d"noopener" href\x3d"/dp/'+
c.asin+"/ref\x3d"+e+'"\x3e\n                        \x3cstrong\x3e'+(null!==c.displayTitle?c.displayTitle:u.replace("${brandName}",c.brandName))+'\x3c/strong\x3e\n                    \x3c/a\x3e\n                    \x3cbr\x3e\n                    \x3cspan class\x3d"a-size-base a-color-secondary"\x3e'+h+" "+c.merchantName+"\x3c/span\x3e\n";Number(c.averageRating)&&Number(c.numReviews)&&Number(c.numFullStars)&&"boolean"===typeof c.hasHalfStar&&(e=g.replace("${averageRating}",c.averageRating),d+='                    \x3cdiv class\x3d"a-icon-row a-spacing-micro"\x3e\n                        \x3ca class\x3d"a-link-normal" href\x3d"/product-reviews/'+
c.asin+"/ref\x3d"+k+'?ie\x3dUTF8\x26amp;showViewpoints\x3d1"\x3e\n                            \x3ci class\x3d"a-icon a-icon-star a-star-'+c.numFullStars+(c.hasHalfStar?"-5":"")+'"\x3e\x3cspan class\x3d"a-icon-alt"\x3e'+e+'\x3c/span\x3e\x3c/i\x3e\n                        \x3c/a\x3e\n                        \x3ca class\x3d"a-link-normal" href\x3d"/product-reviews/'+c.asin+"/ref\x3d"+k+'?ie\x3dUTF8\x26amp;showViewpoints\x3d1"\x3e\n                            '+c.numReviews+"\n                        \x3c/a\x3e\n                    \x3c/div\x3e\n");
null!==c.buyingPriceAmount&&(d+='                    \x3cinput id\x3d"attach-accessory-price-warranty-amount" type\x3d"hidden" value\x3d"'+c.buyingPriceAmount+'"\x3e\n');d+='                    \x3cspan id\x3d"attach-accessory-price-warranty" class\x3d"a-size-large a-color-base attach-warranty-price"\x3e'+c.formattedBuyingPrice+'\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"a-row"\x3e\n                \x3cdiv class\x3d"a-column a-span12"\x3e\n                    \x3cdiv id\x3d"warrantyBulletRowWrapper" class\x3d"a-section"\x3e\n                        \x3cdiv class\x3d"a-row a-spacing-micro"\x3e\n                            \x3cul class\x3d"a-unordered-list a-vertical a-spacing-none"\x3e\n';
for(k=0;k<c.bulletPoints.length;k++)d+='                                \x3cli\x3e\x3cspan class\x3d"a-list-item"\x3e'+c.bulletPoints[k].text+"\x3c/span\x3e\x3c/li\x3e\n";d+='                            \x3c/ul\x3e\n                        \x3c/div\x3e\n                        \x3cdiv id\x3d"attachWarrantyButtonWrapper" class\x3d"a-section a-box-inner a-color-alternate-background"\x3e\n                            \x3cdiv id\x3d"attachWarrantyButtonInnerWrapper" class\x3d"a-section a-box-inner"\x3e\n                                \x3cdiv id\x3d"attach_add_accessory_alert_warranty" class\x3d"a-box a-alert-inline a-alert-inline-success aok-hidden attach_add_accessory_alert"\x3e\n                                    \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                                        \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                                        \x3cdiv class\x3d"a-alert-content"\x3e\n                                            \x3cspan class\x3d"a-size-base a-color-success"\x3e'+
m+'\x3c/span\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cdiv id\x3d"attach_add_accessory_error_warranty" class\x3d"a-box a-alert-inline a-alert-inline-error aok-hidden attach_add_accessory_alert" aria-live\x3d"assertive" role\x3d"alert"\x3e\n                                    \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                                        \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                                        \x3cdiv class\x3d"a-alert-content"\x3e\n                                            \x3cspan class\x3d"a-size-base"\x3e\n                                                '+
p+'\x3cbr\x3e\n                                            \x3c/span\x3e\n                                            \x3ca class\x3d"a-link-normal attach-add-to-cart-retry" href\x3d"#"\x3e\n                                                '+n+'\n                                            \x3c/a\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cspan id\x3d"attach_add_accessory_spinner_warranty" class\x3d"a-spinner a-spinner-small attach-spinner aok-hidden"\x3e\x3c/span\x3e\n                                \x3cdiv class\x3d"a-section attach-warranty-button-row"\x3e\n                                    \x3cdiv class\x3d"a-button-stack"\x3e\n                                        \x3cspan id\x3d"attachSiAddCoverage" class\x3d"a-button a-button-primary attach-si-add-client"\x3e\n                                            \x3cspan class\x3d"a-button-inner"\x3e\n                                                \x3cbutton id\x3d"attachSiAddCoverage-announce" data-asin\x3d"'+
c.asin+'" data-offering-id\x3d"'+c.oid+'" class\x3d"a-button-text" type\x3d"button"\x3e\n                                                    '+t+'\n                                                \x3c/button\x3e\n                                            \x3c/span\x3e\n                                        \x3c/span\x3e\n                                        \x3cspan id\x3d"attachSiNoCoverage" class\x3d"a-button"\x3e\n                                            \x3cspan class\x3d"a-button-inner"\x3e\n                                                \x3cbutton id\x3d"attachSiNoCoverage-announce" class\x3d"a-button-text" type\x3d"button"\x3e\n                                                    '+
v+'\n                                                \x3c/button\x3e\n                                            \x3c/span\x3e\n                                        \x3c/span\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3ca class\x3d"a-link-normal" target\x3d"_blank" rel\x3d"noopener" href\x3d"/dp/'+
c.asin+"/ref\x3d"+f+'"\x3e\n                '+x+"\n            \x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n";b.$container.append(d)};d.onAttachAddBaseToCart=function(a){a.always(d.clearWarrantyFromATCForm)};d.setup=function(b){a.$(e.PANE).hide();var g=a.$(e.PANE_IMAGE).attr("data-image-url");a.$(e.PANE_IMAGE).attr("src",g);g=a.$(e.PANE_UPSELL_IMAGE).attr("data-image-url");a.$(e.PANE_UPSELL_IMAGE).attr("src",g);a.$(e.PANE_ADD_BUTTON).click(function(){var e=a.$(this).find("button");h.isWarrantyServerSideDSSEnabled()&&
(e=a.$(this).find("[data-asin]"));var f=e.attr("data-asin"),e=e.attr("data-offering-id");d.appendWarrantyToATCForm(f,e);c.submitATCForm();m.logWarrantyAddToCart(d.getWarrantyLoggingPayload());b.next()});a.$(e.PANE_NO_BUTTON).click(function(){c.submitATCForm();b.next()});a.off("attach:add-base-to-cart",d.onAttachAddBaseToCart);a.on("attach:add-base-to-cart",d.onAttachAddBaseToCart)};d.show=function(){a.$(e.PANE).fadeIn(400,d.setFocus);m.logWarrantyImpression(d.getWarrantyLoggingPayload())};d.hide=
function(){a.$(e.PANE).fadeOut()};d.setFocus=function(){a.$(e.PANE_WARRANTY_TITLE).get(0).focus()};return d});"use strict";n.when("A","attach-common","attach-weblabs","attach-maple","attach-logging","attach-variant-registration").register("attach-desktop-accessories-pane",function(a,c,m,g,h,t){var b={name:"accessories"},d=!0,v=!1,e,w=!1,r=!1,l=b.Endpoints={RENDER:"/gp/product/features/aloha-ppd/udp-ajax-handler/attach-render-desktop.html",GET_CART_DESCRIPTION:"/gp/product/features/aloha-ppd/udp-ajax-handler/attach-get-cart-description.html",
ADD_ACCESSORY_TO_CART:"/gp/product/features/aloha-ppd/udp-ajax-handler/attach-add-to-cart.html",PROCEED_TO_CHECKOUT:"/gp/cart/desktop/go-to-checkout.html?proceedToCheckout\x3dProceed"},f=b.Selectors={BASE_ASIN:"#attach-baseAsin",QUANTITY:"#quantity",ACCESSORY_ASIN_LIST:"#attach-asin-list",MARKETPLACE_ID:"#attach-marketplaceId",LANGUAGE_OF_PREFRENCE:"#attach-languageOfPreference",PANE:"#attach-accessory-pane",PANE_CLOSE_BUTTON:"#attach-close_sideSheet-link",PANE_CART_BASE_ALERT_IMAGE_AREA:"#attach-added-to-cart-alert-and-image-area",
PANE_CART_BASE_ALERT:"#attachDisplayAddBaseAlert",PANE_CART_BASE_SUCCESS_ALERT:"#attachAddBaseItemSuccessAlert",PANE_CART_BASE_ERROR_ALERT:"#attachAddBaseItemErrorAlert",PANE_CART_BASE_INITIAL_IMAGE:"#attach-sheet-view-base-product-image",PANE_CART_BASE_HUC_IMAGE:".huc-image-wrapper",PANE_CART_BLOCK:".attach-primary-atc-confirm-box",PANE_CART_BLOCK_INNER:"#attach-added-to-cart-message",PANE_CART_BLOCK_SUBTOTAL_LABEL:"#attach-accessory-cart-total-string",PANE_CART_BLOCK_SUBTOTAL_PRICE:"#attach-accessory-cart-subtotal",
PANE_CART_BLOCK_CORE_FREE_SHIPPING_MESSAGE:"#attach-core-free-shipping-message",PANE_CART_BLOCK_PROCEED_TO_CHECKOUT:"#attach-accessory-proceed-to-checkout-text",PANE_CART_SPINNER:"#attach-add-to-cart-message-spinner",PANE_VIEW_CART_BUTTON:"#attach-sidesheet-view-cart-button",PANE_CHECKOUT_BUTTON:"#attach-sidesheet-checkout-button",PANE_HUC_MESSAGE:".attach-add-to-cart-message-card",PANE_ACCESORIES_CARD:"#attach-accessories",PANE_CATEGORIZED_ACCESSORIES_TILES_CARD:"#attach-categorized-accessories-tiles",
PANE_ACCESSORY_RETRY_BUTTON:".attach-add-to-cart-retry",PANE_ACCESSORY_ADD_DECLARATIVES:'.a-declarative[data-action\x3d"attach-accessory-add"]',PANE_ACCESSORY_IMAGE:".attach-accessory-image",PANE_ACCESSORY_ASIN:".attach-accessory-asin",PANE_ACCESSORY_ADD_BUTTON_PREFIX:"#attach_add_accessory_button_",PANE_ACCESSORY_ADD_SPINNER_PREFIX:"#attach_add_accessory_spinner_",PANE_ACCESSORY_ADD_SUCCESS_PREFIX:"#attach_add_accessory_alert_",PANE_ACCESSORY_ADD_ERROR_PREFIX:"#attach_add_accessory_error_",PANE_ACCESSORY_FIRST_ASIN:"#attach_accessory_dp_1",
PANE_CATEGORIZED_ACCESSORIES_CARD:"#attach-categorized-accessories",PANE_ACCESSORY_TITLE:".attach-accessory-title",PANE_ACCESSORY_TILE_ITEM:".attach-accessory-tile",PANE_ACCESSORY_TILE_ITEM_PREFIX:"#attach-accessory-tile-",PANE_ACCESSORY_CAROUSEL:"#attach-accessories .a-carousel-container",PANE_ACCESSORY_CARD:"#attach-accessories.card-expandable",PANE_ACCESSORY_CARD_SEE_MORE:".card-toggle-see-more",PANE_ACCESSORY_CARD_SEE_LESS:".card-toggle-see-less",PANE_ACCESSORY_CARD_PEEK_CONTENT:".card-peek-content",
PANE_ACCESSORY_CARD_EXPAND_CONTENT:".card-expand-content",PANE_MAPLE_SLOT:"#maple-dss-slot",PANE__DATA_CATEGORY_VIEW:"categoryView",PANE__DATA_ASIN_INDEX:"asinindex",PANE_ACCESSORY_COUPON:".attach-accessory-coupon",PANE_ACCESSORY_COUPON_PREFIX:"#attach-accessory-coupon-",PANE_ACCESSORY_COUPON_UNCLIPPED_CLASS:".attach-coupon-unclipped",PANE_ACCESSORY_COUPON_CLIPPED_CLASS:".attach-coupon-clipped",PANE_ACCESSORY_COUPON_ERROR_CLASS:".attach-coupon-error",PANE_ACCESSORY_COUPON_BADGE_CLASS:".attach-coupon-short-badge",
PANE_ACCESSORY_COUPON_BADGE_UNCLIPPED_CLASS:".attach-coupon-badge-unclipped",PANE_ACCESSORY_COUPON_BADGE_CLIPPED_CLASS:".attach-coupon-badge-clipped",PANE_ACCESSORY_LIGHTNING_DEAL:".attach-accessory-lightning-deal",PANE_ACCESSORY_LIGHTNING_DEAL_PREFIX:"#attach-accessory-lightning-deal-",PANE_ACCESSORY_LIGHTNING_DEAL_JOIN_WAITLIST_PREFIX:"#attach-accessory-deal-on-waitlist-",PANE_ACCESSORY_CSRF_TOKEN:"#attach-accessory-deal-csrf-token",DEBUG_IS_DEBUG:"#attach-debug-isDebug",DEBUG_QUERY_STRING:"#attach-debug-queryString"},
q=b.AccessoryAddStatus={INITIAL:0,ADDING:1,SUCCESS:2,ERROR:3};b.setShouldIncludeMaple=function(a){v=a};b.load=function(b){n.now("attach-external-atc-interceptor").execute(function(a){e=a});a.trigger("LOADED_ACCESSORIES_PANE_SUCCESSFULLY");var d=a.$.Deferred(),u,p;n.now("dp-util-cookie").execute(function(b){b&&b("session-id")!==a.$("#attach-sessionId").val()&&c.rejectPromise(d,c.FailureModes.TRANSITION_TO_HUC,{count:"ATTACH_DSS_INVALID_SESSION_ID"})});u={attachAccessoryAsinList:a.$(f.ACCESSORY_ASIN_LIST).val(),
marketplaceId:a.$(f.MARKETPLACE_ID).val(),asin:a.$(f.BASE_ASIN).val(),deviceType:"desktop",attachWeblabsToTrigger:[]};m.isAttachDebugParametersEnabled()&&(u.isDebug=a.$(f.DEBUG_IS_DEBUG).val(),u.queryString=a.$(f.DEBUG_QUERY_STRING).val());u=a.$.param(u,!0);u=a.$.post(l.RENDER,u);v&&(c.isCurrencyOfPreferenceApplied()&&g.suppressMathBox(),p=g.loadBannerHTML());a.$.when(u,p).done(function(e,u){var g=a.$(e[0].trim()),l=!g.is(f.PANE),g=0===g.find(f.PANE_ACCESSORY_ASIN).length;l||g?c.rejectPromise(d,c.FailureModes.TRANSITION_TO_HUC,
{count:["ATTACH_DSS_RENDER_FAILURE","ATTACH_DSS_RENDER_FAILURE_INVALID_HTML"]}):(b.$container.append(a.$(e[0]).get(0)),u&&0<u.trim().length&&(u=a.$(u),e=u.not("script"),u=u.filter("script"),c.elementExists(f.PANE_CATEGORIZED_ACCESSORIES_TILES_CARD)?e.insertAfter(f.PANE_CATEGORIZED_ACCESSORIES_TILES_CARD):e.insertAfter(f.PANE_ACCESORIES_CARD),e.wrap('\x3cdiv id\x3d"maple-dss-slot"\x3e\x3cdiv id\x3d"maple-dss-card" class\x3d"a-section attach-sidesheet-card"\x3e\x3c/div\x3e\x3c/div\x3e'),u.each(function(){a.$.globalEval(this.innerHTML)}),
h.logCount("ATTACH_DSS_MAPLE_RENDERED")),d.resolve())}).fail(function(){c.rejectPromise(d,c.FailureModes.TRANSITION_TO_HUC,{count:"ATTACH_DSS_RENDER_FAILURE"})});return d.promise()};b.onAttachAddBaseToCart=function(a){d=!1;a.pipe(b.handleAddBaseAndGetCartDescription).pipe(c.pipeJSON).pipe(b.handleCartDescription).fail(function(a,k){b.sheet.fail(a||c.FailureModes.ERROR_500,k)})};b.runOnceSetup=function(){w||(w=!0,a.declarative("attach-accessory-add","click",function(k){var c=k.$currentTarget,d=k.data,
e=d.a,g=d.oid,d=d.isLightningDeal;k=!0===a.$(f.PANE_CATEGORIZED_ACCESSORIES_CARD).data(f.PANE__DATA_CATEGORY_VIEW)?a.$(k.$target).data(f.PANE__DATA_ASIN_INDEX):a.$(f.PANE_ACCESSORY_ADD_DECLARATIVES).index(c);d?b.addAccessoryToCartWithLightningDeal(k):b.addAccessoryToCart(e,g,k)}))};b.setup=function(k){b.runOnceSetup();a.$(f.PANE).hide();b.sheet=k;a.off("attach:add-base-to-cart",b.onAttachAddBaseToCart);a.on("attach:add-base-to-cart",b.onAttachAddBaseToCart);a.$(f.PANE_VIEW_CART_BUTTON).click(b.viewCart);
a.$(f.PANE_CHECKOUT_BUTTON).click(b.proceedToCheckout);a.$(f.PANE_ACCESSORY_RETRY_BUTTON).click(function(){var k=a.$(this).attr("data-asin"),c=a.$(this).attr("data-oid"),d=a.$(this).attr("data-idx");b.addAccessoryToCart(k,c,d)});a.$(f.PANE_CLOSE_BUTTON).appendTo(f.PANE_CART_BLOCK).click(k.next);a.$(f.PANE_ACCESSORY_IMAGE).each(function(){a.$(this).attr("src",a.$(this).attr("data-image-url"))});m.isShowAccessoryCouponsDssEnabled()&&b.initializeCoupons();a.$(f.PANE_ACCESSORY_LIGHTNING_DEAL).each(function(){var k=
a.$(this).data().idx;b.updateLightningDealTimer(k);b.initializeLightningDealStatusRefresher(k)})};b.show=function(){d&&c.submitATCForm();a.$(f.PANE).css({opacity:0}).show().animate({opacity:1},500,"linear",b.setFocus);var k=a.$(f.PANE_CART_BLOCK_INNER);k.find("div").addClass("aok-hidden");k.append(a.$(f.PANE_CART_SPINNER).removeClass("aok-hidden"));b.initializeAccessoriesDisplay();n.now("attach-categorized-cards").execute(function(a){a!==x&&a.initializeCategorizedCards()})};b.hide=function(){a.$(f.PANE).hide();
a.$(f.PANE_CART_SPINNER).addClass("aok-hidden");a.$(f.PANE_HUC_MESSAGE).remove();a.$(f.PANE_ACCESSORY_ASIN).each(function(k,c){(c=a.$(c).data(f.PANE__DATA_ASIN_INDEX))&&(k=c);b.updateAccessoryStatus(k,q.INITIAL)});a.trigger("RESET_SECONDARY_SIDE_SHEET_MODULE");e&&e.unloadAttachModule();a.trigger("aloha:detailPage:reappear");d=!0};b.setFocus=function(){a.$(f.PANE_ACCESSORY_FIRST_ASIN).length&&a.$(f.PANE_ACCESSORY_FIRST_ASIN).get(0).focus()};b.viewCart=function(){h.logCount("ATTACH_DSS_CART_BUTTON_CLICK");
document.location=""};b.proceedToCheckout=function(){h.logCount("ATTACH_DSS_CHECKOUT_CLICK");document.location=r?l.PROCEED_TO_CHECKOUT+"\x26cartInitiateId\x3d"+r+"\x26ref_\x3ddp_atch_dss_proceed":l.PROCEED_TO_CHECKOUT+"\x26ref_\x3ddp_atch_dss_proceed"};b.updateNavCartDisplayQuantity=function(b){var c=Number(b);b=isNaN(c)?"":100>c?b:"99+";a.$("#nav-cart-count").toggleClass("nav-cart-0",0===c).toggleClass("nav-cart-1",1<=c&&10>c).toggleClass("nav-cart-10",10<=c&&20>c).toggleClass("nav-cart-20",20<=
c&&100>c).toggleClass("nav-cart-100",100<=c).text(b)};b.handleAddBaseAndGetCartDescription=function(k){k=a.$(k);b.renderHUCFeedback(k);b.renderBaseAddStatusIcon(k);if(e)try{var d=a.$(f.PANE_ACCESSORY_ASIN).map(function(){return this.value}).get();e.loadAttachModule(d)}catch(g){n.logError(g,"Could not update ABB/DSS external interceptor: ","ERROR","attach-desktop-accessories-pane")}d={marketplaceId:a.$(f.MARKETPLACE_ID).val(),asin:a.$(f.BASE_ASIN).val(),languageOfPreference:a.$(f.LANGUAGE_OF_PREFRENCE).val(),
customerId:a.$("#attach-customerId").val(),sessionId:a.$("#attach-sessionId").val()};return a.$.post(l.GET_CART_DESCRIPTION,d).pipe(null,function(a,b,k){n.logError(Error(b),"AJAX cart description call failed: ","ERROR","attach-desktop-accessories-pane");return c.reject(null,{count:"ATTACH_DSS_GET_CART_DESCRIPTION_AJAX_FAILURE"})})};b.handleCartDescription=function(k){try{if(isNaN(parseInt(k.totalPrice))||isNaN(parseInt(k.itemQuantity))||!a.$.isArray(k.includedAsins)||0===k.formattedTotalPrice.trim().length||
0===k.cartSubtotalString.trim().length||0===k.itemQuantityString.trim().length)throw Error("Received invalid cart description");b.updateNavCartDisplayQuantity(k.itemQuantity);a.$(f.PANE_CART_BLOCK_SUBTOTAL_LABEL).html(k.cartSubtotalString);a.$(f.PANE_CART_BLOCK_SUBTOTAL_PRICE).html(k.formattedTotalPrice);a.$(f.PANE_CART_BLOCK_PROCEED_TO_CHECKOUT).html(k.itemQuantityString);a.$("#attach-customerId").val()&&n.when("attach-preinitiate-checkout").execute(function(a){r=a.getCartInitiateId();a.preinitiateCheckout(r)});
k.coreFreeShippingMessage&&a.$(f.PANE_CART_BLOCK_CORE_FREE_SHIPPING_MESSAGE).html(k.coreFreeShippingMessage);v&&g.updateMathBox(Number(k.totalPrice));a.$(f.PANE_CART_BLOCK_INNER).find("div").removeClass("aok-hidden");a.$(f.PANE_CART_SPINNER).addClass("aok-hidden");setTimeout(b.revealHUCFeedback,200);n.when("EWC").execute(function(a){a.refresh()});return k}catch(d){return n.logError(d,"Could not process the cart description: ","ERROR","attach-desktop-accessories-pane"),c.reject(null,{count:"ATTACH_DSS_HANDLE_CART_DESCRIPTION_FAILURE"})}};
b.updateAccessoryStatus=function(b,c){a.$(f.PANE_ACCESSORY_ADD_BUTTON_PREFIX+b).toggleClass("aok-hidden",c!==q.INITIAL);a.$(f.PANE_ACCESSORY_ADD_SPINNER_PREFIX+b).toggleClass("aok-hidden",c!==q.ADDING);a.$(f.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+b).toggleClass("aok-hidden",c!==q.SUCCESS);a.$(f.PANE_ACCESSORY_ADD_ERROR_PREFIX+b).toggleClass("aok-hidden",c!==q.ERROR);a.$("#tile-add-accessory-badge-"+b).toggleClass("aok-hidden",c!==q.SUCCESS);a.$("#attach-accessory-tile-"+b).toggleClass("in-cart",c===q.SUCCESS)};
b.addAccessoryToCart=function(k,d,e){d={marketplaceId:a.$(f.MARKETPLACE_ID).val(),asin:a.$(f.BASE_ASIN).val(),customerId:a.$("#attach-customerId").val(),sessionId:a.$("#attach-sessionId").val(),accessoryItemAsin:k,accessoryItemOfferingId:d,languageOfPreference:a.$(f.LANGUAGE_OF_PREFRENCE).val(),accessoryItemQuantity:a.$(f.QUANTITY).val(),accessoryItemPrice:a.$("#attach-accessory-base-price-"+e).val(),accessoryMerchantId:a.$("#attach-accessory-merchantId-"+e).val(),accessoryProductGroupId:a.$("#attach-accessory-product-category-code-"+
e).val()};m.isAttachDynamicBundlingEnabled()&&(d.keyValuePairs=JSON.stringify({itemAssoc:c.uniqueId,itemAssocType:c.itemAssocTypeValue,itemAssocRenderType:"renderAll"}));b.updateAccessoryStatus(e,q.ADDING);a.$.post(l.ADD_ACCESSORY_TO_CART,d).pipe(c.pipeJSON).pipe(b.handleCartDescription).pipe(function(d){if(-1===a.$.inArray(k,d.includedAsins))return c.reject(null,{count:"ATTACH_DSS_ADD_ACCESSORY_NOT_IN_CART"});b.updateAccessoryStatus(e,q.SUCCESS);h.logAccessoryAddToCart(b.getAccessoryLoggingData(e));
a.trigger("UPSELL_ASIN_ADDED_TO_CART",e);n.when("EWC").execute(function(a){a.refresh()})}).fail(function(){h.logCount("ATTACH_DSS_ADD_ACCESSORY_FAILURE");b.updateAccessoryStatus(e,q.ERROR);a.trigger("UPSELL_ASIN_NOT_ADDED_TO_CART",e)})};b.addAccessoryToCartWithLightningDeal=function(k){b.updateAccessoryStatus(k,q.ADDING);var d=a.$("#attach-accessory-claim-deal-url-"+k).val(),e=a.$("#attach-accessory-claim-deal-params-"+k).val();if(d&&e){e=JSON.parse(c.unescapeJson(e));e.clientId="attach";var g=a.$(f.PANE_ACCESSORY_CSRF_TOKEN).val();
a.$.ajax({type:"POST",url:d,data:e,headers:{"X-CSRFToken":g}}).pipe(function(d){var e=d.dealItemStatus&&d.dealItemStatus.customerState;if("1"!==d.isClaimed&&"INWAITLIST"!==e)return c.reject(null,{count:"ATTACH_DSS_ADD_ACCESSORY_NOT_IN_CART"});"INWAITLIST"===e?a.$(f.PANE_ACCESSORY_ADD_SPINNER_PREFIX+k).addClass("aok-hidden"):b.updateAccessoryStatus(k,q.SUCCESS);h.logAccessoryAddToCart(b.getAccessoryLoggingData(k));d=d.dealItemStatus&&d.dealItemStatus.msToCustomerStateExpiry;b.handleLightningDealAddToCart(k,
d?d:900,e);a.trigger("UPSELL_ASIN_ADDED_TO_CART",k);n.when("EWC").execute(function(a){a.refresh()});e={marketplaceId:a.$(f.MARKETPLACE_ID).val(),asin:a.$(f.BASE_ASIN).val(),customerId:a.$("#attach-customerId").val(),sessionId:a.$("#attach-sessionId").val(),languageOfPreference:a.$(f.LANGUAGE_OF_PREFRENCE).val(),isLightningDeal:!0};a.$.post(l.GET_CART_DESCRIPTION,e).pipe(c.pipeJSON).pipe(b.handleCartDescription)}).fail(function(){h.logCount("ATTACH_DSS_ADD_ACCESSORY_FAILURE");b.updateAccessoryStatus(k,
q.ERROR);a.trigger("UPSELL_ASIN_NOT_ADDED_TO_CART",k)})}};b.revealHUCFeedback=function(){var b=a.$(f.PANE_HUC_MESSAGE);if(b.hasClass("aok-hidden")){b.css({position:"absolute",top:0}).removeClass("aok-hidden");var c=b.children().height();0<c&&b.css({marginTop:-1*(c+4)+"px",position:"initial"}).animate({marginTop:"14px"},800)}};b.renderHUCFeedback=function(b){var d=b.find("#hlb-ship-message");b=a.$().add(b.find("#huc-v2-message-group")).add(b.find("#hlb-imb"));m.isCoreFreeShippingMessageEnabled()&&
c.elementExists(d)&&a.$(f.PANE_CART_BLOCK_CORE_FREE_SHIPPING_MESSAGE).html(d.html());0<b.length&&(d=a.$("\x3cdiv class\x3d'attach-sidesheet-card attach-add-to-cart-message-card aok-hidden'\x3e\x3c/div\x3e"),d.append(b),d.insertAfter(f.PANE_CART_BLOCK),d.find(".a-declarative a").unwrap(),d.find(".a-declarative span").removeClass("a-color-link huc-cursor-pointer").unwrap(),d.find(".sc-action-quantity").hide(),(d=b.find(".a-alert-heading").text())&&h.logDSSWarningMessage(d))};b.renderBaseAddStatusIcon=
function(b){var d;c.elementExists(b.find("#huc-v2-order-row-confirm-text"))?d=b.find("#huc-v2-order-row-confirm-text").hasClass("a-color-error"):c.elementExists(b.find("#hl-confirm-text"))&&(d=b.find("#hl-confirm-text").hasClass("a-alert-warning"));d=(d?a.$(f.PANE_CART_BASE_ERROR_ALERT):a.$(f.PANE_CART_BASE_SUCCESS_ALERT)).clone().prop("id","attachDisplayAddBaseAlert");a.$(f.PANE_CART_BASE_ALERT).remove();a.$(f.PANE_CART_BASE_ALERT_IMAGE_AREA).prepend(d);d=b.find(".huc-v2-order-row-image").clone();
c.elementExists(d)||(d=b.find(".hlb-product-image").clone());if(1<d.length){d=d.first();var e=a.$('input[name^\x3d"asin"].attach-warranty-input');0===e.length&&(e=a.$('.abbListItem.mbb__r input[name^\x3d"asin"]'));if(c.elementExists(e))for(var g=0;g<e.length;g++){var l=e[g].value,h=b.find("#huc-v2-order-row-item-"+l);if(h.length){b=c.elementExists(h)?h.find(".huc-v2-order-row-image"):b.find(".hlb-item-link.hlb-asin-"+l+" \x3e img");d=d.add(b.clone());break}}}a.$(f.PANE_CART_BASE_HUC_IMAGE).remove();
a.$(f.PANE_CART_BASE_INITIAL_IMAGE).hide().parent().append(d);d.wrap('\x3cdiv class\x3d"huc-image-wrapper"\x3e\x3c/div\x3e')};b.getAccessoryLoggingData=function(b){return{asin:a.$("#attach-accessory-asin-"+(parseInt(b)+1)).val(),index:b,priceFormatted:a.$("#attach-accessory-price-"+b+" \x3e .a-offscreen").text(),priceDecimal:parseFloat(a.$("#attach-accessory-base-price-"+b).val())||null,currencySymbol:a.$("#attach-accessory-base-currency-symbol-"+b).val()||null,couponDecimal:parseFloat(a.$("#attach-accessory-coupon-benefit-amount-"+
b).val())||null,couponType:a.$("#attach-accessory-coupon-benefit-type-"+b).val()||null,dealType:a.$("#attach-accessory-deal-type-"+b).val()||null,dealPercentSavings:parseInt(a.$("#attach-accessory-deal-percent-savings-"+b).val())||null,dealDollarAmount:a.$("#attach-accessory-deal-dollar-savings-"+b).val()||null,categoryIndex:a.$("#attach-accessory-category-index-"+b).val()||null,categoryTitle:a.$("#attach-accessory-category-title-"+b).val()||null,asinIndexWithinCategory:a.$("#attach-accessory-asin-category-index-"+
b).val()||null}};b.createAccessoryImpressions=function(){var c=[];a.$(f.PANE_ACCESSORY_ASIN).parent().each(function(d,e){e=a.$(e);if(e.is(":hidden")||"hidden"===e.css("visibility")||e.prop("data-accessory-seen"))return null;e.prop("data-accessory-seen",!0);c.push(b.getAccessoryLoggingData(d))});return c};b.resetAccessoryImpressions=function(){a.$(f.PANE_ACCESSORY_ASIN).parent().removeProp("data-accessory-seen")};b.initializeAccessoriesDisplay=function(){b.initializeAccessoriesCards();b.initializeAccessoriesTiles();
b.initializeCategorizedAccessoriesCards();a.animationFrameDelay(function(){b.resetAccessoryImpressions();h.logAccessoryImpressions(b.createAccessoryImpressions())})};b.initializeAccessoriesCards=function(){a.$(f.PANE_ACCESSORY_CARD).each(function(){var c=a.$(this),d=c.find(f.PANE_ACCESSORY_CARD_SEE_MORE),e=c.find(f.PANE_ACCESSORY_CARD_SEE_LESS),g=c.find(f.PANE_ACCESSORY_CARD_EXPAND_CONTENT);d.show();e.hide();g.hide();c.removeProp("data-card-expanded");c.removeProp("data-card-previously-expanded");
d.click(function(){d.hide();e.show();g.slideDown(400);c.prop("data-card-expanded",!0);c.parent().animate({scrollTop:c.get(0).offsetTop-30},400);c.prop("data-card-previously-expanded")||(c.prop("data-card-previously-expanded",!0),h.logAccessoryImpressions(b.createAccessoryImpressions()))});e.click(function(){e.hide();d.show();g.slideUp(400);c.prop("data-card-expanded",!1)})})};b.initializeAccessoriesTiles=function(){n.when("a-truncate").execute(function(b){a.$(f.PANE_ACCESSORY_TITLE).each(function(){b.get(this).update()});
a.$(f.PANE_ACCESSORY_TILE_ITEM).hover(function(){var c=a.$(this).find(f.PANE_ACCESSORY_TITLE);c.length&&b.get(c.get()).update()})})};b.initializeCategorizedAccessoriesCards=function(){c.elementExists(f.PANE_CATEGORIZED_ACCESSORIES_TILES_CARD)&&(a.on("a:expander:attach_see_more_expander:toggle:expand",function(){h.logAccessoryImpressions(b.createAccessoryImpressions())}),a.on("a:expander:attach_category_expander:toggle:expand",function(){h.logAccessoryImpressions(b.createAccessoryImpressions())}))};
b.initializeAccessoriesCarousel=function(){n.when("a-truncate","a-carousel-framework").execute(function(c,d){if(a.$(f.PANE_ACCESSORY_CAROUSEL).length){a.$(f.PANE_ACCESSORY_TITLE).each(function(){c.get(this).update()});d.createAll();var e=d.getCarousel(a.$(f.PANE_ACCESSORY_CAROUSEL));e&&(e.attachViewedPages=[1],e.gotoPage(1,{animationDuration:1}),a.on("a:carousel:attach-carousel:change:animating",function(a){a.newValue||(a=e.getAttr("pageNumber"),-1===e.attachViewedPages.indexOf(a)&&(e.attachViewedPages.push(a),
h.logAccessoryImpressions(b.createAccessoryImpressions())))}))}})};b.initializeCoupons=function(){var c;a.$(f.PANE_ACCESSORY_COUPON_BADGE_CLASS).each(function(){var b=a.$(this).text().replace(/\s+/g," ");a.$(this).attr("title",b)});a.on("a:popover:positionUpdated:attach-coupon-popover",b.handleCouponPopoverPositionUpdated);a.on("a:popover:beforeShow:attach-coupon-popover",function(d){d.popover.$trigger.parents(f.PANE_ACCESSORY_TILE_ITEM).addClass("hover");c=b.createCouponPopoverPositionHandler(d);
a.$(p).bind("scroll",c);a.$(f.PANE+" \x3e .a-scroller").bind("scroll",c)});a.on("a:popover:afterHide:attach-coupon-popover",function(b){b.popover.$trigger.parents(f.PANE_ACCESSORY_TILE_ITEM).removeClass("hover");a.$(p).unbind("scroll",c);a.$(f.PANE+" \x3e .a-scroller").unbind("scroll",c)});a.declarative("attach-coupon-checkbox","change",function(c){var d=c.data,e=c.$currentTarget.parents(f.PANE_ACCESSORY_COUPON);d&&d.ajaxClaimUrl?a.$.get(d.ajaxClaimUrl).done(function(){b.handleCouponClaimSuccess(e,
d.accessoryItemIndex)}).fail(function(a,c,d){n.logError(Error(d),"Could not clip coupon: ","ERROR","attach-desktop-accessories-pane");b.handleCouponClaimError(e)}):(n.logError(Error("Coupon claim URL not available"),"Could not clip coupon: ","ERROR","attach-desktop-accessories-pane"),b.handleCouponClaimError(e))})};b.handleCouponPopoverPositionUpdated=function(a){a.popover.$container.css("z-index",6E3)};b.createCouponPopoverPositionHandler=function(a){return function(){a.popover.updatePosition()}};
b.handleCouponClaimSuccess=function(a,c){h.logPromotionClaimed(b.getAccessoryLoggingData(c-1));a.find(f.PANE_ACCESSORY_COUPON_UNCLIPPED_CLASS).addClass("aok-hidden");a.find(f.PANE_ACCESSORY_COUPON_CLIPPED_CLASS).removeClass("aok-hidden");a=a.parents(f.PANE_ACCESSORY_TILE_ITEM);a.length&&(a.find(f.PANE_ACCESSORY_COUPON_BADGE_UNCLIPPED_CLASS).addClass("aok-hidden"),a.find(f.PANE_ACCESSORY_COUPON_BADGE_CLIPPED_CLASS).removeClass("aok-hidden"))};b.handleCouponClaimError=function(a){a.find(f.PANE_ACCESSORY_COUPON_UNCLIPPED_CLASS).addClass("aok-hidden");
a.find(f.PANE_ACCESSORY_COUPON_CLIPPED_CLASS).addClass("aok-hidden");a.find(f.PANE_ACCESSORY_COUPON_ERROR_CLASS).removeClass("aok-hidden")};b.updateLightningDealTimer=function(c){var d=a.$("#attach-accessory-deal-timer-"+c).val()-1;a.$("#attach-accessory-deal-timer-"+c).val(d);var e=b.convertTimeLeftToString(d);a.$("#attach-accessory-deal-timer-string-"+c).text(e);0===d?b.handleDealHasEnded(c):setTimeout(b.updateLightningDealTimer,1E3,c)};b.convertTimeLeftToString=function(a){var c=Math.floor(a/3600),
d=Math.floor(a/60)%60;a%=60;return 0>=c?b.appendZeroIfSingleDigit(d)+":"+b.appendZeroIfSingleDigit(a):c+":"+b.appendZeroIfSingleDigit(d)+":"+b.appendZeroIfSingleDigit(a)};b.appendZeroIfSingleDigit=function(a){return(10>a?"0":"")+a};b.handleDealHasEnded=function(b){a.$(f.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+b).hasClass("aok-hidden")&&(a.$("#attach-accessory-asin-"+(b+1)).parent().addClass("lightning-deal-ended"),a.$("#attach-accessory-deal-on-waitlist-"+b).addClass("aok-hidden"),a.$("#attach-accessory-deal-has-ended-"+
b).removeClass("aok-hidden"))};b.updateLightningDealTimeToCheckoutTimer=function(c){var d=a.$("#attach-accessory-time-to-checkout-"+c).val()-1;a.$("#attach-accessory-time-to-checkout-"+c).val(d);var e=b.convertTimeLeftToString(d);a.$("#attach-accessory-time-to-checkout-string-"+c).text(e);0===d?(a.$("#attach-accessory-ld-in-cart-details-"+c).addClass("aok-hidden"),a.$(f.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+c).addClass("aok-hidden"),a.$("#tile-add-accessory-badge-"+c).addClass("aok-hidden"),a.$(f.PANE_ACCESSORY_ADD_BUTTON_PREFIX+
c).removeClass("aok-hidden"),a.$("#attach-accessory-deal-availability-details-"+c).removeClass("aok-hidden")):setTimeout(b.updateLightningDealTimeToCheckoutTimer,1E3,c)};b.handleLightningDealAddToCart=function(c,d,e){a.$("#attach_add_accessory-button-row-"+c).addClass("aok-hidden");"INWAITLIST"===e?a.$("#attach-accessory-deal-on-waitlist-"+c).removeClass("aok-hidden"):(a.$("#attach-accessory-deal-availability-details-"+c).addClass("aok-hidden"),a.$("#attach-accessory-time-to-checkout-"+c).val(d/1E3),
b.updateLightningDealTimeToCheckoutTimer(c),a.$("#attach-accessory-ld-in-cart-details-"+c).removeClass("aok-hidden"))};b.initializeLightningDealStatusRefresher=function(d){var e=a.$("#attach-accessory-claim-deal-params-"+d).val(),g=JSON.parse(c.unescapeJson(e));a.$("#attach-accessory-deal-has-ended-"+d).hasClass("aok-hidden")&&(e=[{dealID:g.dealId}],e=JSON.stringify({requestMetadata:{marketplaceID:a.$(f.MARKETPLACE_ID).val(),clientID:"goldbox_udp",sessionID:a.$("#attach-sessionId").val(),customerID:a.$("#attach-customerId").val()},
dealTargets:e,responseSize:"STATUS_ONLY",itemResponseSize:"NONE"}),a.$.ajax({type:"POST",url:"/xa/dealcontent/v2/GetDealStatus",dataType:"json",headers:{"cache-control":"no-cache"},data:e,success:function(a){a=a.dealStatus[g.dealId];var c=Number.MAX_VALUE;a&&b.updateLightningDealInfo(d,a.dealState,a.percentClaimed)&&setTimeout(b.initializeLightningDealStatusRefresher,c<a.msCacheTtl?c:3E4,d)}}))};b.updateLightningDealInfo=function(c,d,e){if("AVAILABLE"!==d&&"WAITLIST"!==d)return b.handleDealHasEnded(c),
!1;var f=a.$("#attach_add_accessory_button_"+c+"-announce");"WAITLIST"===d?f.html(a.$("#attach-accessory-join-waitlist-string").html()):"AVAILABLE"===d&&f.html(a.$("#attach-accessory-add-to-cart-string").html());a.$("#attach-accessory-percent-claimed-"+c).text(e);a.$("#attach-accessory-deal-progress-bar-width-"+c).width(e+"%");return!0};return b});"use strict";n.when("A","attach-common","attach-weblabs").register("attach-desktop-side-sheet",function(a,c,m){var g={},h=[],n=-1,b,d,v,e,w,r=g.Selectors=
{PLACEHOLDER:"#attach-dss-placeholder",SHEET:"#attach-desktop-sideSheet",LIGHTBOX:"#attach-popover-lgtbox.attach-popover"};g.transitionDuration=500;g.onKeyDown=function(a){27===a.which&&g.next()};g.initialize=function(){h=[];c.elementExists(r.SHEET)||c.elementExists(r.LIGHTBOX)||(g.$container=a.$('\x3cdiv id\x3d"attach-desktop-sideSheet" class\x3d"a-section attach-desktop-sideSheet"\x3e\x3c/div\x3e'),g.$container.addClass("aok-hidden"),g.$container.appendTo(r.PLACEHOLDER),e=a.$("\x3cdiv id\x3d'attach-popover-lgtbox' class\x3d'a-declarative attach-popover a-modal' data-action\x3d'a-popover-floating-close' style\x3d'z-index: 1008; opacity: 0.4; cursor: pointer'\x3e\x3c/div\x3e"),
e.hide(),e.appendTo(r.PLACEHOLDER),e.click(g.next));a.$(document).unbind("keydown",g.onKeyDown);a.$(document).keydown(g.onKeyDown);b=function(){};d=function(){};v=!0};g.setFailureHandler=function(a){b=a};g.setCloseHandler=function(a){d=a};g.fail=function(a,c){b(a,c)};g.addPane=function(a){h.push(a)};g.removePane=function(a){a=h.indexOf(a);-1<a&&h.splice(a,1)};g.next=function(){n+1===h.length?(e.hide(),g.$container.animate({right:w},{duration:g.transitionDuration,complete:function(){h[n].hide();n=
-1;d()}}),p.ue&&p.ue.count&&p.ue.count("ATTACH_DSS_CLOSE_ACCESSORY_PANE",(p.ue.count("ATTACH_DSS_CLOSE_ACCESSORY_PANE")||0)+1),a.trigger("HIDE_SIDE_SHEET")):-1!==n&&(h[n].hide(),h[n+1].show(),n+=1)};g.show=function(){if(v){v=!1;var b=a.$.map(h,function(a){return a.load(g)});a.$.when.apply(a.$,b).fail(g.fail).done(function(){a.$.each(h,function(a,b){b.setup(g)});g.show()})}else n=0,h[n].show(),w=g.$container.css("right"),g.$container.removeClass("aok-hidden"),g.$container.animate({right:"0"},g.transitionDuration,
"linear"),e.show(),p.ue&&p.ue.count&&(b=a.$("#attach-customerId").val()?"ATTACH_DSS_SHOW_HAS_CUSTOMER_ID":"ATTACH_DSS_SHOW_NO_CUSTOMER_ID",p.ue.count(b,(p.ue.count(b)||0)+1),b="true"===a.$("#attach-is-prime-member").val()?"ATTACH_DSS_IS_PRIME_MEMBER":"ATTACH_DSS_IS_NOT_PRIME_MEMBER",p.ue.count(b,(p.ue.count(b)||0)+1))};return g});"use strict";n.when("A","attach-common","attach-weblabs","attach-logging","attach-maple","attach-desktop-warranty-pane","attach-desktop-accessories-pane","attach-desktop-side-sheet",
"attach-variant-registration").register("attach-desktop",function(a,c,m,g,h,t,b,d,v){var e={};e.SUPRESS_WARRANTY_PANE=v.getVariantFlag("ATTACH_SUPPRESS_WARRANTY_PANE");var w,r=p.ue,l=e.Events={ATTACH_ATC_CLICK_NAMESPACE:"click.attachDSS",WARRANTY_SI_CLICK_NAMESPACE:"click.siatc"},f=e.Endpoints={ERROR_500_URL:"/gp/errors/500.html",WARRANTY_SI_CHECK:"/gp/si/util/is-si-with-triggers.html",GET_TREATMENT_AND_RECORD_WEBLABS:"/gp/product/features/aloha-ppd/getTreatmentAndRecordWeblabs.html"},q=e.Selectors=
{ADD_TO_CART_BUTTON:"#add-to-cart-button",INSTALLMENTS_BUTTON:"#installments-button",ASIN:"#ASIN",QUANTITY:"#quantity",BASE_ITEM_PRICE_DECIMAL:"#attach-base-product-price",BASE_ITEM_CURRENCY_SYMBOL:"#attach-base-product-currency-symbol",ATTACH_ASIN_LIST:"#attach-asin-list",ATTACH_MARKETPLACE_ID:"#attach-marketplaceId",ATTACH_BASE_ASIN:"#attach-baseAsin",MBB_WARRANTY_ITEM:"#abbWrapper .abbListItem input[type\x3dcheckbox]"},k=e.Classes={ATTACH_DSS_ATC:"attach-dss-atc"};e.initialize=function(){if(!c.elementExists(d.Selectors.PLACEHOLDER)&&
0===m.getAllWeblabsToTriggerClientSide().length)return!1;e.setupDependencies();e.setupSideSheet();e.setupAddToCartButton()};e.setupDependencies=function(){var b=a.$(q.ATTACH_MARKETPLACE_ID).val();g.initialize(g.FEATURES.DSS,b);g.setPayloadBuilder(function(){return{baseAsin:a.$(q.ASIN).val(),baseItemPriceDecimal:parseFloat(a.$(q.BASE_ITEM_PRICE_DECIMAL).val())||null,baseItemCurrencySymbol:a.$(q.BASE_ITEM_CURRENCY_SYMBOL).val()||null,quantity:Number(a.$(q.QUANTITY).val())||1}});h.initialize();n.when("attach-external-atc-interceptor").execute(function(a){w=
a;w.enableModule()})};e.setupSideSheet=function(){d.initialize();d.setFailureHandler(e.failure);d.setCloseHandler(e.setupAddToCartButton);!e.SUPRESS_WARRANTY_PANE&&c.hasWarranty()?d.addPane(t):b.setShouldIncludeMaple(!0);d.addPane(b)};e.setupAddToCartButton=function(){a.$(document.body).delegate(q.ADD_TO_CART_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE,e.handleAddToCartClick);a.$(q.ADD_TO_CART_BUTTON).prop("type","button").addClass(k.ATTACH_DSS_ATC);m.isInstallmentsDssIntegrationEnabled()?(a.$(document.body).delegate(q.INSTALLMENTS_BUTTON,
l.ATTACH_ATC_CLICK_NAMESPACE,e.handleAddToCartClick),a.$(q.INSTALLMENTS_BUTTON).prop("type","button").addClass(k.ATTACH_DSS_ATC),a.$(q.INSTALLMENTS_BUTTON).click(function(){r&&r.trigger&&r.trigger("DP_INSTALLMENTS_DSS_231673","T1")})):a.$(q.INSTALLMENTS_BUTTON).click(function(){r&&r.trigger&&r.trigger("DP_INSTALLMENTS_DSS_231673","C")})};e.failure=function(a,b){switch(a){case c.FailureModes.ERROR_500:e.failureError500();break;case c.FailureModes.RESUBMIT_BUY_BOX:e.failureResubmitBuyBox();break;default:case c.FailureModes.TRANSITION_TO_HUC:e.failureTransitionToHUC()}};
e.failureError500=function(){p.location=f.ERROR_500_URL};e.failureResubmitBuyBox=function(){a.$(document.body).undelegate(q.ADD_TO_CART_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE);a.$(q.ADD_TO_CART_BUTTON).prop("type","submit");m.isInstallmentsDssIntegrationEnabled()&&(a.$(document.body).undelegate(q.INSTALLMENTS_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE),a.$(q.INSTALLMENTS_BUTTON).prop("type","submit"));c.buyButton.click()};e.failureTransitionToHUC=function(){a.$(document.body).undelegate(q.ADD_TO_CART_BUTTON,
l.WARRANTY_SI_CLICK_NAMESPACE);m.isInstallmentsDssIntegrationEnabled()&&a.$(document.body).undelegate(q.INSTALLMENTS_BUTTON,l.WARRANTY_SI_CLICK_NAMESPACE);e.failureResubmitBuyBox()};e.handleAddToCartClick=function(b){c.buyButton=a.$(b.target);a.$(document.body).undelegate(q.ADD_TO_CART_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE);m.isInstallmentsDssIntegrationEnabled()&&(a.$(document.body).undelegate(q.INSTALLMENTS_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE),c.getAtcForm().append(c.buyButton.filter("input").clone().attr("type",
"hidden")));a.$.when().pipe(e.checkWarranty).pipe(e.checkClientSideWeblabTriggering).pipe(e.checkFeatureExists).pipe(e.show).fail(e.failure);b.preventDefault();b.stopImmediatePropagation();return!1};e.checkFeatureExists=function(){if(e.shouldSuppressForFeatureNotPresent())return c.reject(c.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_FEATURE_DOES_NOT_EXIST"})};e.checkWarranty=function(){if(!e.SUPRESS_WARRANTY_PANE)if(e.shouldSuppressForWarrantyInMbb())d.removePane(t),b.setShouldIncludeMaple(!0),
g.logCount("ATTACH_DSS_SUPPRESSED_MBB_WARRANTY_CHECKED",1);else if(c.hasWarranty())return a.$.get(f.WARRANTY_SI_CHECK).pipe(e.handleSICheck,e.handleSIFailure)};e.checkClientSideWeblabTriggering=function(){m.triggerClientSideWeblabs();if(!c.elementExists(q.ATTACH_ASIN_LIST))return c.reject(c.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_EMPTY_ASIN_LIST"})};e.handleSICheck=function(a){if(!a)return c.reject(c.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_SI_CHECK_FAILURE"});
a.suppressSi&&(d.removePane(t),b.setShouldIncludeMaple(!0),g.logCount("ATTACH_DSS_SUPPRESSED_SI",1))};e.handleSIFailure=function(){return c.reject(c.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_SI_CHECK_FAILURE"})};e.shouldSuppressForFeatureNotPresent=function(){return!c.elementExists(d.Selectors.PLACEHOLDER)||!c.elementExists(q.ATTACH_ASIN_LIST)||!c.elementExists(q.ATTACH_MARKETPLACE_ID)||!c.elementExists(q.ATTACH_BASE_ASIN)};e.shouldSuppressForWarrantyInMbb=function(){return 0<a.$(q.MBB_WARRANTY_ITEM).filter(":checked").length};
e.show=function(){d.show()};return e});n.when("A","attach-desktop","attach-weblabs","ready").execute("attach-desktop-main",function(a,c,m){c.initialize();a.on("a:pageUpdate",a.debounce(function(){c.initialize();a.trigger("attach:dss:initialized")},300))});"use strict";n.when("A","attach-desktop","dp-util-cookie","cf").execute(function(a,c,m){"000-0000000-8675309"===a.$("#attach-sessionId").val()&&a.$("#attach-sessionId").val(m("session-id"))})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageComparisonChartAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(f){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,b=h?h("DetailPageFluxComponents",""):g;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,g,h){f.when("dp-flux-utils").register("dp-flux-action",function(b){function e(d,a,c){if(b.isNonEmptyString(d)&&b.isNonEmptyString(a))this._name=d,this._source=a,this._metadata=c;else throw Error("Action(...): Action must be created with valid name and source");}e.prototype={getName:function(){return this._name},
getSource:function(){return this._source},getMetaData:function(){return this._metadata}};return e.prototype.constructor=e});f.when("dp-flux-utils").register("dp-flux-attribution",function(b){function e(d,a,c,k){if(b.isNonEmptyString(d)&&b.isNonEmptyString(a)&&b.isNonEmptyString(c)&&b.isNonEmptyString(k))this._name=d,this._category=a,this._type=c,this._item=k;else throw Error("All parameters (name, categoty, type, item) must be a non-empty string");}e.prototype={getName:function(){return this._name},
getAttribution:function(){return"name: "+this._name+"; CTI\x3d "+this._category+"/"+this._type+"/"+this._item}};return e.prototype.constructor=e});f.when("A","dp-flux-action","dp-flux-attribution").register("dp-flux-dispatcher",function(b,e,d){function a(){this._callbacks={};this._isDispatching=!1;this._pendingAction=null;this._lastID=1}var c=b.$;a.prototype={register:function(a,b){if(!(a instanceof d))throw Error("Dispatch.register(...): attribution must be instance of Attribution");if(!c.isFunction(b))throw Error("Dispatch.register(...): callback must be a function");
var e="ID_"+this._lastID++;this._callbacks[e]={attribution:a,callback:b,_isCallbackExecutionStarted:!1,_isCallbackExecutionCompleted:!1};return e},unregister:function(a){if(this._callbacks[a])delete this._callbacks[a];else throw Error("Dispatcher.unregister(...): "+a+" does not map to a registered callback");},dispatch:function(a){if(this._isDispatching)throw Error("Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch");if(!(a instanceof e))throw Error("Dispatch.dispatch(...): action param must be of type Action");
this._startDispatching(a);for(var c in this._callbacks)this._callbacks[c]._isCallbackExecutionStarted||this._invokeCallback(c);this._stopDispatching()},waitFor:function(a){if(!this._isDispatching)throw Error("Dispatcher.waitFor(...): Must be invoked while dispatching");if(!c.isArray(a))throw Error("Dispatcher.waitFor(...): dispatchTokenList must be an array");for(var b=0;b<a.length;b++){var d=a[b];if(!this._callbacks[d])throw Error("Dispatcher.waitFor(...): "+d+" does not map to a registered callback. ");
if(this._callbacks[d]._isCallbackExecutionStarted)if(this._callbacks[d]._isCallbackExecutionCompleted)continue;else throw Error("Dispatcher.waitFor(...): Circular dependency detected while waiting for "+d);this._invokeCallback(d)}},_invokeCallback:function(a){this._callbacks[a]._isCallbackExecutionStarted=!0;try{this._callbacks[a].callback(this._pendingAction)}catch(c){f.log("Dispatcher._invokeCallback(...): Error while calling dispatcher callback: error message \x3d "+c.message,"FATAL",this._callbacks[a].attribution.getAttribution())}this._callbacks[a]._isCallbackExecutionCompleted=
!0},_startDispatching:function(a){for(var c in this._callbacks)this._callbacks[c]._isCallbackExecutionStarted=!1,this._callbacks[c]._isCallbackExecutionCompleted=!1;this._pendingAction=a;this._isDispatching=!0},_stopDispatching:function(){this._pendingAction=null;this._isDispatching=!1}};return a.prototype.constructor=a});f.when("A","dp-flux-utils").register("dp-flux-emitter",function(b,e){function d(){this._subscriptions={}}var a=b.$;d.prototype={emit:function(a){if(e.isNonEmptyString(a))b.each(this._subscriptions[a]||
[],function(a){a()});else throw Error("Emitter.emit()...: eventType must be a non empty string");},addListener:function(c,b){if(e.isNonEmptyString(c)&&a.isFunction(b))this._subscriptions[c]=this._subscriptions[c]||[],this._subscriptions[c].push(b);else throw Error("Emitter.addListener()...: Invalid arguments - eventType must be a non empty string \x26 callback must be a function ");},removeListener:function(c,b){if(e.isNonEmptyString(c)&&a.isFunction(b)){if(c=this._subscriptions[c])b=a.inArray(b,
c),-1!==b&&c.splice(b,1)}else throw Error("Emitter.removeListener()...: Invalid arguments - eventType must be a non empty string \x26 callback must be a function");}};return d});f.when("A","dp-flux-emitter","dp-flux-attribution","dp-flux-dispatcher","dp-flux-utils").register("dp-flux-store",function(b,e,d,a,c){function f(b,k,g,h){if(!(b instanceof d))throw Error("storeAttribution should be instance of Attribution");if(!(g instanceof a))throw Error("dispatcher must be an instance of Dispatcher");if(!l.isFunction(k))throw Error("Store must provide a reduce callback method");
this.reduce=k;this.dispatcher=g;this._storeAttribution=b;this._state=h||{};c.deepFreeze(this._state);this._dispatchToken=this.dispatcher.register(this._storeAttribution,this._invokeOnDispatch.bind(this));this._changed=!1;this._changeEvent=this._storeAttribution.getName()+":change";this._emitter=new e}var l=b.$;f.prototype={addListener:function(a){return this._emitter.addListener(this._changeEvent,a)},removeListener:function(a){this._emitter.removeListener(this._changeEvent,a)},getDispatcher:function(){return this.dispatcher},
getDispatchToken:function(){return this._dispatchToken},getState:function(){return this._state},getStoreAttribution:function(){return this._storeAttribution},_invokeOnDispatch:function(a){this._changed=!1;var b=this._state;(a=this.reduce(this._state,a)||b)&&a!==b&&(this._state=a,c.deepFreeze(this._state),this._changed=!0,this._emitter.emit(this._changeEvent))}};return f.prototype.constructor=f});f.when("A","dp-flux-attribution").register("dp-flux-store-group",function(b){function e(b,a,c){this._stores=
a;this._callBack=c;this._attribution=b;this._registerStoreGroup()}e.prototype={_registerStoreGroup:function(){var b=this._getUniformDispatcher();this._dispatchToken=b.register(this._attribution,function(){b.waitFor(this._getStoreTokens());this._callBack()}.bind(this))},unregisterStoreGroup:function(){this._getUniformDispatcher().unregister(this._dispatchToken)},_getUniformDispatcher:function(){var d=this._stores[0].getDispatcher();b.each(this._stores,function(a){if(d!==a.getDispatcher())throw Error("All stores must have common dispatcher");
});return d},_getStoreTokens:function(){return b.map(this._stores,function(b){return b.getDispatchToken()})}};return e.prototype.constructor=e});f.when("A","dp-flux-store-group").register("dp-flux-store-subscription",function(b,e){function d(a,b,d){this._stores=b;this._changed=!1;this._updatedStores=[];this._viewUpdateCallBack=d;this._viewAttribution=a;this._allListeners=[];this._addListenerToAllStores();this._storeGroup=new e(a,b,this._viewCallBack.bind(this))}d.prototype={_storeListener:function(a){this._changed=
!0;this._updatedStores.push(a)},_addListenerToAllStores:function(){var a;b.each(this._stores,function(b){a=this._storeListener.bind(this,b);this._allListeners.push({listener:a,store:b});b.addListener(a)},this)},_removeListenerFromAllStores:function(){b.each(this._allListeners,function(a){a.store.removeListener(a.listener)})},_viewCallBack:function(){if(this._changed){try{this._viewUpdateCallBack(this._updatedStores)}catch(a){f.log("StoreSubscription._viewCallBack(...): view callback failed "+a,"WARN",
this._viewAttribution.getAttribution())}this._changed=!1;this._updatedStores=[]}},reset:function(){this._removeListenerFromAllStores();this._storeGroup.unregisterStoreGroup()}};return d.prototype.constructor=d});f.when("A").register("dp-flux-utils",function(b){function e(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}function d(a){if(!Object.isFrozen(a)){var c=Object.getOwnPropertyNames(a);b.each(c,function(b){var c=a[b];a[b]=c&&"object"===typeof c?d(c):c});Object.freeze(a)}return a}
return{isString:e,isNonEmptyString:function(a){return!(!e(a)||!b.trim(a).length)},deepFreeze:function(a){return Object.freeze&&Object.getOwnPropertyNames&&Object.isFrozen?(d(a),!0):!1}}});f.when("A","dp-flux-attribution","dp-flux-store","dp-flux-store-subscription").register("dp-flux-view",function(b,e,d,a){function c(c,g,h){if(!(c instanceof e))throw Error("View(...): viewAttribution should be an instance of Attribution");if(f.isArray(g)&&1<=g.length)b.each(g,function(a){if(!(a instanceof d))throw Error("View(...): storeList contains an object which is not of type Store");
});else throw Error("View(...): View must listen on at least one store");if(!f.isFunction(h))throw Error("View(...): View must provide update callback method");this._viewAttribution=c;this._storeSubscription=new a(c,g,h)}var f=b.$;c.prototype.getViewAttribution=function(){return this._viewAttribution};c.prototype.unregisterStores=function(){this._storeSubscription.reset()};return c})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageCCXUSSProductInfoAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var x=window.AmazonUIPageJS||window.P,v=x._namespace||x.attributeErrors,r=v?v("DetailPageUSSAssets",""):x;r.guardFatal?r.guardFatal(e)(r,window):r.execute(function(){e(r,window)})})(function(e,x,v){e.when("A").register("uss-constants-common",function(r){return{classList:{SHOW_ELEMENT:"aok-block",HIDE_ELEMENT:"aok-hidden",STOP_SCROLLING:"uss-u-no-scroll",LIGHT_BOX_JS_HOOK:"js-light-box",LIGHT_BOX_IDENTIFIER:"uss-o-light-box",RIGHT_SIDE_SHEET:"uss-o-right-side-sheet",RIGHT_SIDE_SHEET_LAYOUT:"uss-l-right-side-sheet",
SHEET_OPEN:"is-open",SHEET_CLOSE:"is-close",USS_SHEET_VIEW_IDENTIFIER:"uss-sheet-view",CLOSE_ICON:"uss-o-close-icon",CLOSE_ICON_MEDIUM:"uss-o-close-icon-medium",USS_SHEET_VIEW_CLOSE_ICON:"uss-sheet-view-close-icon",PROMISING_UI_ELEMENT:"uss-o-promising-ui-element",PROMISING_UI_ELEMENT_ANIMATION:"uss-o-promising-ui-element-animation",IS_LOADING:"is-loading",IS_RESOLVED:"is-resolved",UI_PROMISE:"ui-promise",UI_VALUE:"ui-value",TEMPLATE_STORE:"uss-template-store",TEMPLATE:"uss-template",TEMPLATE_NAME:"template-name",
ATC_ACKNOWLEDGEMENT_MESSAGE:"atc-acknowledgement-message",ATC_GENERIC_ERROR:"atc-generic-error",ATC_STATUS_MESSAGE_COMPONENT:"uss-c-atc-status-msg",ATC_SUCCESS:"atc-success",ATC_ERROR:"atc-error",ITEM_IN_CART:"item-in-cart",CART_STATUS_MESSAGE_COMPONENT:"uss-c-cart-status-msg",CART_SUB_TOTAL:"cart-sub-total",CART_COUNT:"cart-count",SHIPPING_DETAILS:"uss-c-shipping-details",SHIPPING_MESSAGE_PLACEHOLDER:"shipping-message-placeholder",MAIN_IMAGE:"main-image",SUB_NAV:"uss-c-sub-nav",CHECKOUT_BUTTON:"checkout-btn",
CART_BUTTON:"cart-btn",CHECKOUT_FORM:"checkout-form",FACEOUT_IMAGE:"p13n-sc-dynamic-image",FACEOUT_TITLE:"uss-asin-title",FACEOUT_REVIEW_STARS:"uss-review-stars",FACEOUT_BEST_SELLER:"p13n-best-seller",FACEOUT_PRICE:"uss-price",CONTINUE_SHOPPING_LINK:"continue-shopping",SUCCESS_ELEMENT:".p13n-sc-atc-success",ERROR_ELEMENT:".p13n-sc-atc-error",BUTTON_ELEMENT:".a-button-primary",DISABLE_BUTTON:"a-button-disabled"},fatalMessagesList:{INVALID_SHEET_ID:"sheetID must be valid string",INVALID_CONSTRUCTOR_USAGE:"Constructor needs to be called with 'new' keyword",
INCORRECT_PARAMETER_PASSED:"Incorrect parameter passed."},widgetType:{WIDGET:"uss-widget",RECOMMENDATION_WIDGET:"uss-recommendation-widget",NO_RECOMMENDATION_WIDGET:"uss-no-recommendation-widget",LIST_RECOMMENDATION:"uss-list-recommendation-widget",CAROUSEL_RECOMMENDATION:"uss-carousel-recommendation-widget",PRIMARY_ACTION_STATUS_WIDGET:"uss-primary-action-status-widget",ATCStatusWidget:"uss-c-atc-status-widget",ATC_STATUS_IMB_WIDGET:"atc-status-imb-widget",MAPLE_WIDGET:"maple-recommendation-widget"},
layout:{defaultLayout:{DEFAULT_LAYOUT:"uss-l-default-layout",HEAD:"uss-c-head",BODY:"uss-c-body",HEAD_DIVIDER:"uss-c-head-divider",BOTTOM_MARGIN_BETWEEN_WIDGETS:"a-spacing-medium",TOP_MARGIN_BETWEEN_WIDGETS:"a-spacing-top-medium",SKELETON_LOADER:"uss-loading-skeleton",RECOMMENDATION_LOADING_MESSAGE:"loading-message",RECOMMENDATION_LOADED_MESSAGE:"uss-recommendations-loaded-message"}},actionSources:{DP_ATC_CLICK:"dp-atc-click",USS_INGRESS_CLICK:"uss-ingress-click",USS_INLINE_ATC_CLICK:"uss-inline-atc-click",
SHEET_CLOSE_BUTTON_CLICK:"sheet-close",CONTINUE_SHOPPING_CLICK:"continue-shopping-click"},stores:{ATC_STATUS_STORE:"uss-atc-status-store",RECOMMENDATION_DATA_STORE:"uss-recommendation-data-store",USS_SHEET_STORE:"uss-sheet-store"},actions:{USS_OPEN:"uss-open",USS_CLOSE:"uss-close",RECOMMENDATION_DATA_RECEIVE:"recommendation-data-receive",ATC_RECEIVE:"atc-receive"},metrics:{ATC_PROMISE_RESOLVED_TIMER:"atcPromiseResolve",PERCOLATE_DATA_PROMISE_RESOLVED_TIMER:"percolateDataPromiseResolve",ATC_PROMISE_REJECTED_COUNTER:"atcPromiseRejected",
PERCOLATE_DATA_PROMISE_REJECTED_COUNTER:"percolateDataPromiseRejected",SECONDARY_ADD_TO_CART_CLICK_COUNTER:"secondaryAtcClick",COMPATIBLE_BROWSER_COUNTER:"compatibleBrowser",NON_COMPATIBLE_BROWSER_COUNTER:"nonCompatibleBrowser",FACEOUT_IMAGE_CLICK_COUNTER:"faceout:imageClick",FACEOUT_REVIEW_STARS_CLICK_COUNTER:"faceout:reviewStarClick",FACEOUT_TITLE_CLICK_COUNTER:"faceout:titleClick",FACEOUT_PRICE_CLICK_COUNTER:"faceout:priceClick",FACEOUT_BEST_SELLER_CLICK_COUNTER:"faceout:bestSellerClick",SEE_MORE_EXISTENCE_COUNTER:"ussListWidget:seeMore",
SEE_MORE_CLICK_COUNTER:"ussListWidget:seeMoreClick",SEE_LESS_CLICK_COUNTER:"ussListWidget:seeLessClick",CHECKOUT_FORM_CLICK_COUNTER:"checkoutFormClick",CART_BUTTON_CLICK_COUNTER:"cartButtonClick",CONTINUE_SHOPPING_CLICK:"continueShoppingClick",PAGE_LANDING_PRECONDITIONS_PASSED:"pageLandingPreconditionsPassed",POST_ATC_PRECONDITIONS_FAILED:"postATCPreconditionsFailed"},transitionTimingFunction:{EVEN_EASE:"cubic-bezier(0.4, 0, 0.6, 1)",ENTER_EASE:"cubic-bezier(0, 0, 0.2, 1)",EXIT_EASE:"cubic-bezier(0.4, 0, 1, 1)",
EASE_IN:"ease-in",EASE_OUT:"ease-out"},animationType:{FADE_IN:"fadeIn",NO_ANIMATION:"noAnimation"}}});e.when("dp-flux-attribution","uss-constants-common").register("uss-constants",function(r,e){e.ussCTI={CATEGORY:"Website",TYPE:"Detail Page",ITEM:"USS"};e.metrics.PREFIX="uss:";e.ajaxParams={BASE_URL:"/gp/product/handle-buy-box",REFTAG:"dp_start-bbf_1_glance",ASIN:"ASIN",AJAX_TIMEOUT:1E4};e.actionSources.SHEET_CLOSE_BUTTON_CLICK="sheet-close-button-click";e.ussCommonAttribution=new r("uss-common",
e.ussCTI.CATEGORY,e.ussCTI.TYPE,e.ussCTI.ITEM);e.defaultAtcAnimationType=e.animationType.FADE_IN;e.atcAnimationStatusEvent="uss:atc:animation:status:resolved";return e});e.when("dp-flux-utils","uss-constants").register("uss-logger-service",function(e,p){function l(a,b){if(e.isNonEmptyString(a))a=p.metrics.PREFIX+a,ue&&ue.count&&(b===v&&(b=(ue.count(a)||0)+1),ue.count(a,b));else throw Error("counterKey must be non empty string");}function t(a){if(e.isNonEmptyString(a))this._timerName=a,this._startTime=
0;else throw Error("timerName must be non empty string");}t.prototype={start:function(){this._startTime=Date.now()},stop:function(){this._startTime&&l(this._timerName,Date.now()-this._startTime)}};return{logCounter:l,Timer:t}});e.when("A","uss-utils","uss-logger-service","uss-constants").register("uss-preconditions",function(e,p,l,t){function a(a){a=e.$("#"+a+"_feature_div").html();null!==a&&(a=a.trim());return null!==a&&0<a.length}function b(){return e.capabilities.transform&&e.capabilities.transition&&
p.isFlexBoxSupported()}function c(){return e.$("#uss-weblabTreatment").val()}var d=/^T[0-9]+$/;b()?l.logCounter(t.metrics.COMPATIBLE_BROWSER_COUNTER):l.logCounter(t.metrics.NON_COMPATIBLE_BROWSER_COUNTER);return{isUssConditionsPassed:function(){return"true"===e.$("#uss-serverPreconditionsPassed").val()&&b()&&!a("scheduledDelivery")&&!a("simpleBundle")&&!a("partialStateBuyBox")},isUssWeblabInTreatment:function(){return d.test(c())},triggerUSSWeblabValue:function(){return d.test(e.$("#uss-miniFrameworkWeblabTreatment").val())?
e.$("#uss-weblabValue").val():1},ussWeblabTreatmentValue:c,isBrowserUssCompatible:b}});e.when("A","3p-promise","uss-constants","uss-logger-service").register("uss-utils",function(e,p,l,t){var a=e.$,b=l.classList,c=a("body"),d={},n=["isPreview","forceWidgets","previewCampaigns","auditEnabled"];(function(){var a=x.location.search,a=a.substr(1);a.split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(d[a[0]]=a[1])})})();return{loadImage:function(b,f){return new p(function(k,g){f=f||"";var q=
a("\x3cimg src\x3d'"+b+"' alt\x3d'"+f+"'\x3e");q.load(function(){k(q)});q.error(function(a){g(a)});q[0].complete&&k(q)})},isFlexBoxSupported:function(){var a=e.$("\x3cdiv\x3e\x3c/div\x3e")[0];return""===a.style.flex||""===a.style.webkitFlex||""===a.style.msFlex||""===a.style.MozBoxFlex||""===a.style.webkitBoxFlex?!0:!1},disablePageScroll:function(){c.addClass(b.STOP_SCROLLING)},enablePageScroll:function(){c.removeClass(b.STOP_SCROLLING)},isMobileApp:function(){return"true"===e.$("#uss-mobileApp").val()},
getDebugParams:function(){var a={};n.forEach(function(f){var b;b=null;d.hasOwnProperty(f)&&(b=d[f]);b&&(a[f]=b)});return a},shouldFireAndForgetWeblabTrigger:function(){var b=!1;0!=a("#uss-shouldFireAndForgetWeblabTrigger").length&&(b="true"===a("#uss-shouldFireAndForgetWeblabTrigger").val());return b},fireAndForgetWeblabTrigger:function(a,b){var c="/gp/uss/weblab-trigger.html?",c=/^T[0-9]+$/.test(e.$("#uss-miniFrameworkWeblabTreatment").val())?c+("weblabValue\x3d"+a+"\x26treatment\x3d"+b):c+("triggerWeblab\x3d"+
a+"\x26treatment\x3d"+b);x.navigator&&navigator.sendBeacon?navigator.sendBeacon(c)||e.$.ajax({url:c}):e.$.ajax({url:c})},showATCSuccess:function(){e.$("#atc-toast").length&&e.$("#atc-success").length&&(e.$("#atc-toast").css("display","block"),e.$("#atc-toast").addClass("atc-toast-success-styles"),e.$("#atc-success").css("display","block"),setTimeout(function(){e.$("#atc-success").css("display","none");e.$("#atc-toast").css("display","none");e.$("#atc-toast").removeClass("atc-toast-success-styles")},
1500))},showATCFailure:function(){e.$("#atc-toast").length&&e.$("#atc-failed").length&&(e.$("#atc-toast").css("display","block"),e.$("#atc-toast").addClass("atc-toast-failure-styles"),e.$("#atc-failed").css("display","block"),setTimeout(function(){e.$("#atc-failed").css("display","none");e.$("#atc-toast").css("display","none");e.$("#atc-toast").removeClass("atc-toast-failure-styles")},1500))}}});e.when("A","atf","uss-utils").register("uss-init-helper",function(r,p,l,t){return{loadUssCommonAssetsAfterPreload:function(){e.when("uss-constants",
"dp-flux-action","uss-dispatcher","uss-utils").register("uss-action-creator-helper",function(a,b,c,d){function n(){r.$("#add-to-cart-button").removeAttr("disabled")}return{primaryATCClick:function(h,f){var k=new b(a.actions.USS_OPEN,a.actionSources.DP_ATC_CLICK,{recommendationBaseIdentifier:h});f.percolateData.then(function(g){var q={isContainsRecommendation:!1,widgets:[]};g.recommendationData&&(q.widgets=g.recommendationData.widgets||[]);n();q.widgets.length||(q.widgets.push({widgetType:a.widgetType.NO_RECOMMENDATION_WIDGET}),
q.recommendationBaseIdentifier=h);c.dispatch(k);f.atcData.then(function(g){var f={};1===g.isOk?f=g.atcStatusData:f.isAtcGenericError=!0;g=new b(a.actions.ATC_RECEIVE,a.actionSources.DP_ATC_CLICK,f);c.dispatch(g)},function(){var g=new b(a.actions.ATC_RECEIVE,a.actionSources.DP_ATC_CLICK,{isAtcGenericError:!0});c.dispatch(g)});q.recommendationBaseIdentifier=h;g=new b(a.actions.RECOMMENDATION_DATA_RECEIVE,a.actionSources.DP_ATC_CLICK,q);c.dispatch(g)},function(){f.atcData.then(function(a){n();1===a.isOk?
d.showATCSuccess():d.showATCFailure()},function(){d.showATCFailure()})})},secondaryATCClick:function(d){d.atcData.then(function(f){var d={};1===f.isOk?d=f.atcStatusData:d.isAtcGenericError=!0;f=new b(a.actions.ATC_RECEIVE,a.actionSources.USS_INLINE_ATC_CLICK,d);c.dispatch(f)},function(){})}}})},loadUssCommonAssets:function(){e.when("dp-flux-dispatcher").register("uss-dispatcher",function(a){return new a});e.when("A","uss-constants").register("promising-ui-element",function(a,b){var c=b.classList;
return a.createClass({_element:null,_uiPromiseElement:null,_uiValueElement:null,_isResolved:!1,init:function(a){var b=a.find("."+c.UI_PROMISE),h=a.find("."+c.UI_VALUE);if((a.hasClass(c.PROMISING_UI_ELEMENT)||a.hasClass(c.PROMISING_UI_ELEMENT_ANIMATION))&&b.length&&h.length)this._uiPromiseElement=b,this._uiValueElement=h,this._element=a,this.showUIPromise();else throw Error("PromisingUIElement.init()...: HTML structure is not compatible with PromisingUIElement");},showUIPromise:function(){this._element.addClass(c.IS_LOADING);
this._element.removeClass(c.IS_RESOLVED);this._isResolved=!1},showUIValue:function(){this._element.addClass(c.IS_RESOLVED);this._element.removeClass(c.IS_LOADING);this._isResolved=!0},getValueElement:function(){return this._uiValueElement},getElement:function(){return this._element},isResolved:function(){return this._isResolved}})});e.when("A","uss-sheet-component","uss-constants","uss-store-repository","dp-flux-attribution","uss-layout","dp-flux-view","widget-creation-helper","dp-flux-action","uss-dispatcher").register("uss-sheet-view",
function(a,b,c,d,n,h,f,k,g,q){function m(){w=!0;var a=c.classList,m=c.ussCTI,u=d.getStore(c.stores.USS_SHEET_STORE),y=d.getStore(c.stores.RECOMMENDATION_DATA_STORE),z=[u,y],m=new n("uss-sheet-view",m.CATEGORY,m.TYPE,m.ITEM),l=new b(a.USS_SHEET_VIEW_IDENTIFIER,{beforeClose:function(){q.dispatch(new g(c.actions.USS_CLOSE,c.actionSources.SHEET_CLOSE_BUTTON_CLICK))}}),a=l.getSheetElement(),A=new h(a);new f(m,z,function(a){var g;if(-1!==e.inArray(u,a))if(g=u.getState(),g.isSheetOpen()){if(g.getActionSource()===
c.actionSources.DP_ATC_CLICK){A.reset();var b=k.createAtcStatusWidget();g=k.createIMBWidget(g.getActionSource());A.renderWidgets([b,g])}l.open()}else g.getActionSource()!==c.actionSources.SHEET_CLOSE_BUTTON_CLICK&&l.close();-1!==e.inArray(y,a)&&A.renderWidgets(k.createRecommendationWidget(y))})}var e=a.$,w=!1;return{initializeUSSSheetView:function(){w||m()}}});e.when("A","uss-constants","uss-template-store","uss-widget-factory").register("widget-creation-helper",function(a,b,c,d){return{createAtcStatusWidget:function(){var a=
{content:c.getTemplate(b.widgetType.ATCStatusWidget),widgetType:b.widgetType.ATCStatusWidget};return d.getWidget(a)},createRecommendationWidget:function(b){var c,f=[];b=b.getState().getNewRecommendations();a.each(b,function(a){(c=d.getWidget(a))&&f.push(c)});return f},createIMBWidget:function(){return d.getWidget({content:"\x3cdiv\x3e\x3c/div\x3e",widgetType:b.widgetType.ATC_STATUS_IMB_WIDGET})}}});e.when("A","dp-flux-store","uss-dispatcher").register("uss-store-repository",function(a,b,c){var d=
{};return{registerStore:function(a,h,f){h=new b(a,h,c,f);return d[a.getName()]=h},getStore:function(a){return d[a]},getDispatcher:function(){return c}}});e.when("A","uss-store-repository","dp-flux-attribution","uss-sheet-store","uss-constants").register("uss-recommendation-data-store",function(a,b,c,d,e){function h(a,b,f){this._unprocessedChunkIndex=f||0;this._recommendationBaseIdentifier=a;this._dataChunks=b||[]}var f=a.$,k=e.ussCTI;c=new c(e.stores.RECOMMENDATION_DATA_STORE,k.CATEGORY,k.TYPE,k.ITEM);
d=b.getStore(e.stores.USS_SHEET_STORE);h.prototype={_getRecommendations:function(g){var b=[];g<this._dataChunks.length&&a.each(this._dataChunks,function(f,c){c>=g&&a.each(f,function(a){b.push(a)})});return b},getAllRecommendations:function(){return this._getRecommendations(0)},getNewRecommendations:function(){return this._getRecommendations(this._unprocessedChunkIndex)},getRecommendationBaseIdentifier:function(){return this._recommendationBaseIdentifier},addRecommendationChunk:function(g){var b=[];
a.each(g,function(a){a.widgetType=a.widgetType||e.widgetType.RECOMMENDATION_WIDGET});b=f.merge(b,this._dataChunks);b=f.merge(b,[g]);return new h(this._recommendationBaseIdentifier,b,this._dataChunks.length)}};k=new h;return b.registerStore(c,function(a,f){var c=a,k=e.actions;switch(f.getName()){case k.USS_OPEN:b.getDispatcher().waitFor([d.getDispatchToken()]);d.getState().getActionSource()===e.actionSources.DP_ATC_CLICK&&(c=new h(d.getState().getRecommendationBaseIdentifier()));break;case k.RECOMMENDATION_DATA_RECEIVE:k=
d.getState().getRecommendationBaseIdentifier(),f=f._metadata,f.recommendationBaseIdentifier===k&&(c=a.addRecommendationChunk(f.widgets))}return c},k)});e.when("uss-store-repository","dp-flux-attribution","uss-constants").register("uss-sheet-store",function(a,b,c){function d(a,b,g){this._isSheetOpen=a||!1;this._actionSource=b;this._recommendationBaseIdentifier=g}var e=c.actions,h=c.ussCTI;b=new b(c.stores.USS_SHEET_STORE,h.CATEGORY,h.TYPE,h.ITEM);d.prototype={isSheetOpen:function(){return this._isSheetOpen},
getActionSource:function(){return this._actionSource},getRecommendationBaseIdentifier:function(){return this._recommendationBaseIdentifier}};h=new d(!1);return a.registerStore(b,function(a,b){var g=a;switch(b.getName()){case e.USS_OPEN:a.isSheetOpen()||(b.getSource()===c.actionSources.DP_ATC_CLICK?g=new d(!0,b.getSource(),b.getMetaData().recommendationBaseIdentifier):b.getSource()===c.actionSources.USS_INGRESS_CLICK&&a.getRecommendationBaseIdentifier()&&(g=new d(!0,b.getSource(),a.getRecommendationBaseIdentifier())));
break;case e.USS_CLOSE:a.isSheetOpen()&&(g=new d(!1,b.getSource(),a.getRecommendationBaseIdentifier()))}return g},h)});e.when("A","uss-store-repository","dp-flux-attribution","uss-constants","dp-flux-utils").register("uss-atc-status-store",function(a,b,c,d,e){function h(){this.status=v;this.cart={subTotal:{}};this.mainImage={};this.isAtcGenericError=this.shippingMessageHTML=this.imbHTML=v}a=new c("uss-atc-status-store",d.ussCTI.CATEGORY,d.ussCTI.TYPE,d.ussCTI.ITEM);h.prototype={setStatus:function(a){this.status=
1===a||a===d.classList.ATC_SUCCESS?d.classList.ATC_SUCCESS:d.classList.ATC_ERROR},setCart:function(a,b,g){e.isNonEmptyString(a)&&(this.cart.count=parseInt(a));b&&(this.cart.subTotal=b);e.isNonEmptyString(g)&&(this.cart.checkoutUrl=g)},setMainImage:function(a,b){e.isNonEmptyString(a)&&(this.mainImage.src=a,e.isNonEmptyString(b)?this.mainImage.altText:this.mainImage.altText="")},setImbHTML:function(a){e.isNonEmptyString(a)&&(this.imbHTML=a)},setShippingMessageHTML:function(a){e.isNonEmptyString(a)&&
(this.shippingMessageHTML=a)},setIsAtcGenericError:function(a){this.isAtcGenericError=a}};c=new h;b.registerStore(a,function(a,b){var g=a;switch(b.getName()){case d.actions.ATC_RECEIVE:var c=b.getMetaData();b.getSource()===d.actionSources.DP_ATC_CLICK?(g=new h,c.isAtcGenericError?g.setIsAtcGenericError(!0):(g.setStatus(c.status),g.setCart(c.cart.count,c.cart.subTotal,c.cart.checkoutUrl),g.setMainImage(c.mainImage.src,c.mainImage.altText),g.setImbHTML(c.imbHTML),g.setShippingMessageHTML(c.shippingMessageHTML))):
b.getSource()!==d.actionSources.USS_INLINE_ATC_CLICK||c.isAtcGenericError||(g=new h,g.setStatus(a.status),g.setMainImage(a.mainImage.src,a.mainImage.altText),g.setImbHTML(a.imbHTML),g.setShippingMessageHTML(a.shippingMessageHTML),c.cart&&g.setCart(c.cart.count,c.cart.subTotal,a.cart.checkoutUrl));break;case d.actions.USS_OPEN:b.getSource()===d.actionSources.DP_ATC_CLICK&&(g=new h)}return g},c)});e.when("A","uss-constants").register("uss-template-store",function(a,b){var c=a.$,d=b.classList,e={};return{init:function(){var a=
c("."+d.TEMPLATE_STORE),b;1===a.length&&a.find("."+d.TEMPLATE).each(function(a,g){b=c("\x3cdiv\x3e\x3c/div\x3e");g=c(g);b.append(g);(a=g.data(d.TEMPLATE_NAME))&&(e[a]=b.html())})},getTemplate:function(a){return e[a]},_nameToTemplateMap:e}});e.when("A","dp-flux-attribution","dp-flux-utils","uss-store-repository","uss-widget","uss-constants").register("uss-widget-factory",function(a,b,c,d,n,h){var f=a.$,k={};k[h.widgetType.WIDGET]=n;a=h.ussCTI;var g=new b("uss-widget-factory",a.CATEGORY,a.TYPE,a.ITEM);
return{registerWidgetType:function(a,b){if(!c.isNonEmptyString(a))throw Error("uss-widget-factory.registerWidgetType()... : name parameter must be valid string. provided name param is \x3d "+a);if(!(b.prototype instanceof n))throw Error("uss-widget-factory.registerWidgetType()... : constructor.prototype must be instance of Widget. provided constructor param is \x3d "+b);k[a]=b},getWidgetType:function(a){return k[a]},getWidget:function(a){var c,d=g;try{var n=a.widgetType||h.widgetType.WIDGET,l=k[n];
if(!l)return e.log("Widget.getWidget()... : Constructor not exist for type : "+n,"FATAL",d.getAttribution()),c;var C=l.getAttribution&&l.getAttribution();C&&(d=C);if(a.attribution)var u=a.attribution,d=new b(u.name,u.category,u.type,u.item);var y=f(a.content),z=f("\x3cdiv\x3e\x3c/div\x3e");z.append(y);c=new l(d,z)}catch(r){e.log("Widget.getWidget()... : "+r.message,"FATAL",d.getAttribution&&d.getAttribution())}return c}}});e.when("A","uss-constants","dp-flux-view","uss-store-repository","uss-dispatcher").register("uss-widget",
function(a,b,c,d,e){function h(b){var c=[];a.each(b,function(a){var b=d.getStore(a);if(b)c.push(b);else throw Error("Widget.getWidget().getStores()... : store with name \x3d "+a+" not exists");});return c}var f=b.classList,k=b.widgetType;return a.createClass({init:function(a,b){this._element=b;this._element.addClass(k.WIDGET);this._element.addClass(f.HIDE_ELEMENT);this._attribution=a;this._dispacther=e;this.getStoreNames().length&&(b=h(this.getStoreNames()),this._fluxView=new c(a,b,this.update.bind(this)),
this.update(b))},show:function(c){c=c||{};c=c.showWidgetAnimation||{};var d=b.animationType;c.animationType=c.animationType||d.NO_ANIMATION;switch(c.animationType){case d.FADE_IN:a.fadeIn(this._element,c.timeDuration||100,c.transitionTimingFunction||b.transitionTimingFunction.EVEN_EASE);break;case d.NO_ANIMATION:this._element.addClass(f.SHOW_ELEMENT),this._element.removeClass(f.HIDE_ELEMENT)}},hide:function(){this._element.addClass(f.HIDE_ELEMENT);this._element.removeClass(f.SHOW_ELEMENT)},beforeRender:function(){},
afterRender:function(){},getElement:function(){return this._element},getAttribution:function(){return this._attribution},getDispatcher:function(){return this._dispacther},update:function(a){},getStoreNames:function(){return[]},deleteWidget:function(){this._element.remove();this._fluxView&&this._fluxView.unregisterStores()}})});e.when("A","uss-constants","uss-widget-factory","uss-logger-service").register("uss-recommendation-widget",function(a,b,c,d){var e=b.widgetType;a=c.getWidgetType(e.WIDGET);
var h=b.classList,f=b.metrics;b=a.extend({init:function(a,b){this._super(a,b);this._element.addClass(e.RECOMMENDATION_WIDGET);this._addTrackingMetrics()},_addTrackingMetrics:function(){this._element.find("."+h.FACEOUT_IMAGE).click(function(){d.logCounter(f.FACEOUT_IMAGE_CLICK_COUNTER)});this._element.find("."+h.FACEOUT_REVIEW_STARS).click(function(){d.logCounter(f.FACEOUT_REVIEW_STARS_CLICK_COUNTER)});this._element.find("."+h.FACEOUT_PRICE).click(function(){d.logCounter(f.FACEOUT_PRICE_CLICK_COUNTER)});
this._element.find("."+h.FACEOUT_TITLE).click(function(){d.logCounter(f.FACEOUT_TITLE_CLICK_COUNTER)});this._element.find("."+h.FACEOUT_BEST_SELLER).click(function(){d.logCounter(f.FACEOUT_BEST_SELLER_CLICK_COUNTER)})}});c.registerWidgetType(e.RECOMMENDATION_WIDGET,b);return b});e.when("A","uss-constants","uss-widget-factory","dp-flux-attribution","uss-template-store","dp-flux-action","uss-logger-service").register("uss-no-recommendation-widget",function(a,b,c,d,e,h,f){var k=b.widgetType;a=c.getWidgetType(k.WIDGET);
var g=b.ussCTI,q=new d(b.widgetType.NO_RECOMMENDATION_WIDGET,g.CATEGORY,g.TYPE,g.ITEM);d=a.extend({init:function(a,c){this._super(a,c);this._element.addClass(k.NO_RECOMMENDATION_WIDGET);a=e.getTemplate(b.widgetType.NO_RECOMMENDATION_WIDGET);this._element.append(a);this._continueShoppingLink=this._element.find("."+b.classList.CONTINUE_SHOPPING_LINK);this._continueShoppingLink.click(function(a){a.preventDefault();f.logCounter(b.metrics.CONTINUE_SHOPPING_CLICK);this.getDispatcher().dispatch(new h(b.actions.USS_CLOSE,
b.actionSources.CONTINUE_SHOPPING_CLICK))}.bind(this))}});d.getAttribution=function(){return q};c.registerWidgetType(k.NO_RECOMMENDATION_WIDGET,d);return d});e.when("A","uss-constants","uss-widget-factory").register("primary-action-status-widget",function(a,b,c){var d=b.widgetType;a=c.getWidgetType(d.WIDGET).extend({init:function(a,b){this._super(a,b);this.getElement().addClass(d.PRIMARY_ACTION_STATUS_WIDGET)}});c.registerWidgetType(d.PRIMARY_ACTION_STATUS_WIDGET,a);return a});e.when("A","promising-ui-element",
"uss-utils","uss-constants").register("promising-image",function(a,b,c,d){var n=a.$,h=d.classList;return b.extend({init:function(a,b){this._element=n(b);this._attribution=a;this._super(this._element);this._eventHandle=v},_showTickMarkImage:function(b){switch(b){case h.ATC_SUCCESS:this._showSuccessTickMark();break;case h.ATC_ERROR:this._showErrorTickMark();break;default:return}a.off(this._eventHandle.event,this._eventHandle.callback)},_showSuccessTickMark:function(){n(".main-image").find(".success-tick-mark-placeholder").addClass("success-tick-mark-image")},
_showErrorTickMark:function(){var b=n(".main-image").find(".error-tick-mark-placeholder");b.addClass("error-tick-mark-image");a.fadeIn(b,200,d.transitionTimingFunction.EASE_OUT)},showUIValue:function(b,h,g){var q=this,m=d.defaultAtcAnimationType,B=this._super.bind(this);m===d.animationType.FADE_IN&&(this._eventHandle=a.on(d.atcAnimationStatusEvent,this._showTickMarkImage.bind(this,g)));return c.loadImage(b,h).then(function(b){if(m===d.animationType.FADE_IN){var c=n(".main-image").find(".ui-promise");
a.fadeOut(c,200,d.transitionTimingFunction.EASE_IN,function(){q._appendImageToUIValue(b);B();var c=n(".main-image").find(".ui-value");a.fadeIn(c,200,d.transitionTimingFunction.EASE_OUT)})}else this._appendImageToUIValue(b),B();return!0}.bind(this),function(){e.log("PromisingImage.showUIValue() ... : failed to load image","FATAL",this._attribution.getAttribution());return!1}.bind(this))},_appendImageToUIValue:function(a){this.getValueElement().empty();this.getValueElement().append(a)}})});e.when("A",
"promising-ui-element","uss-constants").register("atc-status-msg",function(a,b,c){var d=c.classList;return b.extend({init:function(a){this._atcStatusElement=a;this._super(this._atcStatusElement)},_showSuccessMessage:function(){this._atcStatusElement.addClass(d.ATC_SUCCESS);this._atcStatusElement.removeClass(d.ATC_ERROR);this._atcStatusElement.removeClass(d.ITEM_IN_CART)},_showFailureMessage:function(){this._atcStatusElement.addClass(d.ATC_ERROR);this._atcStatusElement.removeClass(d.ATC_SUCCESS);this._atcStatusElement.removeClass(d.ITEM_IN_CART)},
_showItemInCartMessage:function(){this._atcStatusElement.addClass(d.ITEM_IN_CART);this._atcStatusElement.removeClass(d.ATC_ERROR);this._atcStatusElement.removeClass(d.ATC_SUCCESS)},showUIValue:function(b){var e=this,f=c.defaultAtcAnimationType;switch(b){case d.ATC_SUCCESS:this._showSuccessMessage();break;case d.ATC_ERROR:this._showFailureMessage();break;case d.ITEM_IN_CART:this._showItemInCartMessage();break;default:return}this._super();f===c.animationType.FADE_IN&&(b=this._atcStatusElement.find("."+
d.UI_PROMISE),a.fadeOut(b,200,c.transitionTimingFunction.EASE_IN,function(){var b=e._atcStatusElement.find("."+d.UI_VALUE);a.fadeIn(b,200,c.transitionTimingFunction.EASE_OUT,function(){a.trigger(c.atcAnimationStatusEvent)})}))}})});e.when("A","promising-ui-element","uss-constants","dp-flux-utils").register("cart-status-message",function(a,b,c,d){var e=c.classList;return b.extend({init:function(a){this._cartStatusElement=a;this._subTotalElement=this._cartStatusElement.find("."+e.CART_SUB_TOTAL);this._cartCountElement=
this._cartStatusElement.find("."+e.CART_COUNT);this._cartCountSingularTemplate=this._cartCountElement.data("cart-count-singular-template");this._cartCountPluralTemplate=this._cartCountElement.data("cart-count-plural-template");this._super(this._cartStatusElement);this._eventHandle=v},_atcAnimationStatusResolved:function(){setTimeout(function(){this._cartStatusElement.addClass("uss-c-cart-status-msg-transition");a.off(this._eventHandle.event,this._eventHandle.callback)}.bind(this),200)},showUIValue:function(b,
e){var k=c.defaultAtcAnimationType;if("number"===typeof b&&d.isNonEmptyString(e)){var g;1===b?g=this._cartCountSingularTemplate.replace("###cartCount",b):1<b&&(g=this._cartCountPluralTemplate.replace("###cartCount",b));this._cartCountElement.html(g);this._subTotalElement.html(e);this._super();k===c.animationType.FADE_IN&&(this._eventHandle=a.on(c.atcAnimationStatusEvent,this._atcAnimationStatusResolved.bind(this)))}}})});e.when("A","a-button","uss-constants","uss-logger-service").register("uss-sub-nav",
function(a,b,c,d){var e=c.classList,h=c.metrics;return{getInstance:function(f){var k={},g=f.find("."+e.CHECKOUT_FORM);b("."+e.CHECKOUT_BUTTON,f);var q=f.find("."+e.CART_BUTTON),m=v;g.submit(function(){d.logCounter(h.CHECKOUT_FORM_CLICK_COUNTER)});q.click(function(){d.logCounter(h.CART_BUTTON_CLICK_COUNTER)});k.updateCheckoutUrl=function(a){g.attr("action",a)};k.hide=function(){a.$(f).addClass("is-hidden")};k.atcAnimationStatusResolved=function(){setTimeout(function(){a.$(f).addClass("uss-c-sub-nav-margin");
a.$(f).addClass("uss-c-sub-nav-transition");a.off(m.event,m.callback)}.bind(),200)};k.show=function(){a.$(f).removeClass("is-hidden");c.defaultAtcAnimationType===c.animationType.FADE_IN&&(m=a.on(c.atcAnimationStatusEvent,k.atcAnimationStatusResolved.bind()))};k.preInitiate=function(){var a=g.parent();a.find("iframe#ussCheckoutPrefetch").remove();var b=(new Date).getTime(),c="/gp/checkoutprefetch/checkout-prefetch.html?cartInitiateId\x3d"+b,d=document.createElement("iframe");d.setAttribute("src",c);
d.setAttribute("style","width:0px;height:0px;display:none;position:absolute;");d.setAttribute("name","ussCheckoutPrefetch");d.setAttribute("id","ussCheckoutPrefetch");a.append(d);a=g.find("#cartInitiateId");a.length?a.val(b):g.append("\x3cinput type\x3d'hidden' name\x3d'cartInitiateId' id\x3d'cartInitiateId' value\x3d'"+b+"'\x3e")};k.hide();return k}}});e.when("A","uss-constants").register("uss-shipping-details",function(a,b){var c=a.$;return{getInstance:function(d){var e=d.find("."+b.classList.SHIPPING_DETAILS),
h=e.find("."+b.classList.SHIPPING_MESSAGE_PLACEHOLDER),f=b.defaultAtcAnimationType,k=v,g=function(){var a=h.find(".a-row").find("a"),b=a.attr("onclick");if("undefined"!==typeof b&&b.includes("amz_js_PopWin")){var d=[];c.each(a[0].attributes,function(a,b){d.push(b.name)});c.each(d,function(b,c){a.removeAttr(c)});a.attr("href","/gp/help/customer/display.html?nodeId\x3d527692")}},q={hide:function(){e.addClass(b.classList.HIDE_ELEMENT);e.removeClass(b.classList.SHOW_ELEMENT)},atcAnimationStatusResolved:function(){setTimeout(function(){e.addClass("uss-c-shipping-details-transition");
a.off(k.event,k.callback)}.bind(),200)},show:function(c){h.empty();h.append(a.$(c));g();e.addClass(b.classList.SHOW_ELEMENT);e.removeClass(b.classList.HIDE_ELEMENT);f===b.animationType.FADE_IN&&(k=a.on(b.atcAnimationStatusEvent,q.atcAnimationStatusResolved.bind()))}};q.hide();return q}}});e.when("A","uss-constants","primary-action-status-widget","dp-flux-attribution","uss-widget-factory","atc-status-msg","cart-status-message","promising-image","uss-sub-nav","uss-shipping-details").register("atc-status-widget",
function(a,b,c,d,e,h,f,k,g,q){var m=b.ussCTI,l=b.widgetType,w=b.classList,r=new d(b.widgetType.ATCStatusWidget,m.CATEGORY,m.TYPE,m.ITEM);c=c.extend({init:function(a,b){this._atcGenericError=b.find("."+w.ATC_GENERIC_ERROR);this._atcAcknowledgementMessage=b.find("."+w.ATC_ACKNOWLEDGEMENT_MESSAGE);this._mainImage=new k(a,this._atcAcknowledgementMessage.find("."+w.MAIN_IMAGE));this._atcStatusMessage=new h(this._atcAcknowledgementMessage.find("."+w.ATC_STATUS_MESSAGE_COMPONENT));this._cartStatusMessage=
new f(this._atcAcknowledgementMessage.find("."+w.CART_STATUS_MESSAGE_COMPONENT));this._subNav=g.getInstance(this._atcAcknowledgementMessage.find("."+w.SUB_NAV));this._shippingDetails=q.getInstance(this._atcAcknowledgementMessage);this._viewState={};this._super(a,b)},update:function(c){var d;a.each(c,function(c){if(c.getStoreAttribution().getName()===b.stores.ATC_STATUS_STORE){var g=c.getDispatcher()._pendingAction;g&&g.getName()===b.actions.ATC_RECEIVE&&this._subNav.preInitiate();d=c.getState();d.isAtcGenericError?
this.showGenericError():(c=a.diff(this._viewState,d),c.status&&d.status&&this._atcStatusMessage.showUIValue(d.status),c.cart.count&&d.cart.count&&(this._cartStatusMessage.showUIValue(d.cart.count,d.cart&&d.cart.subTotal&&d.cart.subTotal.displayString||""),c.cart.checkoutUrl&&d.cart.checkoutUrl&&this._subNav.updateCheckoutUrl(d.cart.checkoutUrl),this._subNav.show()),c.mainImage.src&&d.mainImage.src&&this._mainImage.showUIValue(d.mainImage.src,d.mainImage.altText,d.status),c.shippingMessageHTML&&d.shippingMessageHTML&&
this._shippingDetails.show(d.shippingMessageHTML));this._viewState=d}}.bind(this))},showGenericError:function(){this._atcAcknowledgementMessage.addClass(w.HIDE_ELEMENT);this._atcAcknowledgementMessage.removeClass(w.SHOW_ELEMENT);this._atcGenericError.removeClass(w.HIDE_ELEMENT);this._atcGenericError.addClass(w.SHOW_ELEMENT)},getStoreNames:function(){return[b.stores.ATC_STATUS_STORE]}});c.getAttribution=function(){return r};e.registerWidgetType(l.ATCStatusWidget,c);return c});e.when("A","uss-constants",
"dp-flux-attribution","uss-widget-factory").register("atc-status-imb-widget",function(a,b,c,d){var n=d.getWidgetType(b.widgetType.WIDGET),h=b.ussCTI,f=new c("atc-status-imb-widget",h.CATEGORY,h.TYPE,h.ITEM);c=n.extend({init:function(a,c){c.addClass(b.widgetType.ATC_STATUS_IMB_WIDGET);this._super(a,c)},update:function(c){var d;a.each(c,function(c){if(c.getStoreAttribution().getName()===b.stores.ATC_STATUS_STORE)if(d=c.getState(),d.imbHTML){this.getElement().empty();c=a.$(d.imbHTML);var h=c.children().length;
if(1<=h){c.find(".a-declarative a").unwrap();var k=c.find(".a-declarative span");k.removeClass("a-color-link huc-cursor-pointer");k.unwrap();this.getElement().append(c);this.show();1<h&&e.log("ImbWidget.update(...): More than one IMB message exist : html \x3d "+d.imbHTML,"WARN",f.getAttribution())}else this.hide()}else this.hide()}.bind(this))},afterRender:function(){this.hide()},getStoreNames:function(){return[b.stores.ATC_STATUS_STORE]}});c.getAttribution=function(){return f};d.registerWidgetType(b.widgetType.ATC_STATUS_IMB_WIDGET,
c);return c});e.when("A").register("uss-base-layout",function(a){return a.createClass({init:function(a){this._ussSheetElement=a},renderWidgets:function(a){throw Error("Layout.renderWidgets()...: Subclass must implement update method");},reset:function(){throw Error("Layout.reset()...: Subclass must implement reset method");},getUssSheetElement:function(){return this._ussSheetElement}})});e.when("A","uss-base-layout","promising-ui-element","uss-constants","primary-action-status-widget","atc-status-imb-widget").register("uss-default-layout",
function(a,b,c,d,e,h){var f=d.layout.defaultLayout;return b.extend({init:function(b){this._super(b);this._element=b.find("."+f.DEFAULT_LAYOUT);this._ussHead=this._element.find("."+f.HEAD);this._ussBody=this._element.find("."+f.BODY);this._widgetList=[];this._recommendationLoader=a.$("."+f.SKELETON_LOADER);this._recommendationLoadingMessage=a.$("."+f.RECOMMENDATION_LOADING_MESSAGE);this._recommendationLoadedMessage=a.$("."+f.RECOMMENDATION_LOADED_MESSAGE);this._ussBody.append(this._recommendationLoader);
this._recommendationLoaderFadeOutOptions={timeDuration:200,transitionTimingFunction:d.transitionTimingFunction.EASE_IN};this._recommendationLoaderFadeInOptions={timeDuration:200,transitionTimingFunction:d.transitionTimingFunction.EASE_OUT};this._recommendationWidgetOptions={showWidgetAnimation:{animationType:d.animationType.FADE_IN,timeDuration:200,transitionTimingFunction:d.transitionTimingFunction.EASE_OUT}}},renderWidgets:function(b){var c,d=!1;a.each(b,function(b){c={};b.beforeRender();this._widgetList.push(b);
if(b instanceof e)this._ussHead.prepend(b.getElement());else if(b.getElement().addClass(f.BOTTOM_MARGIN_BETWEEN_WIDGETS),b.getElement().addClass(f.TOP_MARGIN_BETWEEN_WIDGETS),b instanceof h)this._ussBody.prepend(b.getElement());else{if(!d){d=!0;var k=this;a.fadeOut(this._recommendationLoader,this._recommendationLoaderFadeOutOptions.timeDuration,this._recommendationLoaderFadeOutOptions.transitionTimingFunction,function(){a.fadeIn(k._recommendationLoadedMessage,k._recommendationLoaderFadeInOptions.timeDuration,
k._recommendationLoaderFadeInOptions.transitionTimingFunction)})}c=this._recommendationWidgetOptions;this._ussBody.append(b.getElement())}b.show(c);b.afterRender()}.bind(this))},reset:function(){a.each(this._widgetList,function(a){a.deleteWidget()});this._widgetList=[];this._ussBody.empty();this._ussBody.append(this._recommendationLoader);this._ussBody.append(this._recommendationLoadedMessage);this._recommendationLoader.css({display:"block"});this._recommendationLoadingMessage.css({display:"none"});
this._recommendationLoadedMessage.css({display:"none"});this.resetScrollPosition()},resetScrollPosition:function(){this._ussBody.scrollTop(0)}})});e.when("uss-constants","dp-flux-action","uss-dispatcher","uss-utils").register("uss-action-creator-helper",function(a,b,c,d){function e(){r.$("#add-to-cart-button").removeAttr("disabled")}return{primaryATCClick:function(h,f){var k=new b(a.actions.USS_OPEN,a.actionSources.DP_ATC_CLICK,{recommendationBaseIdentifier:h});f.percolateData.then(function(d){var q=
{isContainsRecommendation:!1,widgets:[]};d.recommendationData&&(q.widgets=d.recommendationData.widgets||[]);e();q.widgets.length||(q.widgets.push({widgetType:a.widgetType.NO_RECOMMENDATION_WIDGET}),q.recommendationBaseIdentifier=h);c.dispatch(k);f.atcData.then(function(d){var e={};1===d.isOk?e=d.atcStatusData:e.isAtcGenericError=!0;d=new b(a.actions.ATC_RECEIVE,a.actionSources.DP_ATC_CLICK,e);c.dispatch(d)},function(){var d=new b(a.actions.ATC_RECEIVE,a.actionSources.DP_ATC_CLICK,{isAtcGenericError:!0});
c.dispatch(d)});q.recommendationBaseIdentifier=h;d=new b(a.actions.RECOMMENDATION_DATA_RECEIVE,a.actionSources.DP_ATC_CLICK,q);c.dispatch(d)},function(){f.atcData.then(function(a){e();1===a.isOk?d.showATCSuccess():d.showATCFailure()},function(){d.showATCFailure()})})},secondaryATCClick:function(d){d.atcData.then(function(d){var e={};1===d.isOk?e=d.atcStatusData:e.isAtcGenericError=!0;d=new b(a.actions.ATC_RECEIVE,a.actionSources.USS_INLINE_ATC_CLICK,e);c.dispatch(d)},function(){})}}})},initializeUSSComponents:function(){e.when("uss-template-store",
"uss-sheet-store","uss-recommendation-data-store","uss-store-repository","uss-widget","uss-recommendation-widget","primary-action-status-widget","uss-widget-factory","uss-sheet-view","uss-layout").register("uss-framework-ready",function(a){a.init()});e.when("uss-sheet-view","uss-framework-ready").register("uss-sheet-view-ready",function(a){a.initializeUSSSheetView()})},initializeBuyBox:function(){e.when("buy-box-override","atc-status-widget","atc-status-imb-widget","uss-atc-status-store","uss-framework-ready",
"uss-sheet-view-ready").execute(function(a){a.init()})}}});e.when("A","atf","uss-init-helper","uss-preconditions","uss-logger-service","uss-constants").register("uss-init",function(r,p,l,t,a,b){function c(){l.loadUssCommonAssets();e.when("A","3p-promise","uss-light-box","uss-constants","uss-logger-service").register("uss-sheet-component",function(a,b,c,d,e){function m(b,f){if(!(this instanceof m))throw Error(p.INVALID_CONSTRUCTOR_USAGE);if("string"===typeof b)if(this._sheet=n("#"+b),1===this._sheet.length)this._sheetID=
b,this._sheet.addClass(l.RIGHT_SIDE_SHEET),this._sheet.addClass(l.RIGHT_SIDE_SHEET_LAYOUT),this._sheet.addClass(l.SHEET_CLOSE),this._sheet.attr("role","dialog"),this._sheet.appendTo(y),this._closeIcon=this._createCloseIcon(),this._closeIcon.click(function(){var a=this.close();f.beforeClose&&f.beforeClose(a);e.logCounter(this._sheetID+":closeIconClick")}.bind(this)),this._sheet.append(this._closeIcon),c.getElement().click(function(){var a=this.close();f.beforeClose&&f.beforeClose(a);e.logCounter(this._sheetID+
":lightBoxClick")}.bind(this)),this._sheet.removeClass(l.HIDE_ELEMENT),a.on(d.atcAnimationStatusEvent,function(){z.is(":visible")&&a.fadeIn(t,200,r.EASE_OUT)});else throw Error("Unique element with id '"+b+"' must exist inside a DOM");else throw Error(p.INVALID_SHEET_ID);}var n=a.$,l=d.classList,r=d.transitionTimingFunction,p=d.fatalMessagesList,u=d.layout.defaultLayout,y=n("body"),z=n("."+u.SKELETON_LOADER),t=n("."+u.RECOMMENDATION_LOADING_MESSAGE);m.prototype.open=function(){var d=this;return new b(function(b){var g=
d._getSheetSize();d._sheet.css({right:"-"+g+"px"});c.show();a.animationFrameDelay(function(){a.animate(d._sheet,{right:0},400,r.ENTER_EASE,function(){d._sheet.removeClass(l.SHEET_CLOSE);d._sheet.addClass(l.SHEET_OPEN);d.showCloseIcon();b(!0);e.logCounter(d._sheetID+":open")})});d._closeIcon.css({right:g+15+"px"})})};m.prototype.close=function(){return new b(function(b){var d="-"+this._getSheetSize()+"px";a.animate(this._sheet,{right:d},300,r.EXIT_EASE,function(){this._sheet.removeClass(l.SHEET_OPEN);
this._sheet.addClass(l.SHEET_CLOSE);b(!0);e.logCounter(this._sheetID+":close")}.bind(this));this.hideCloseIcon();c.hide()}.bind(this))};m.prototype.getSheetElement=function(){return this._sheet};m.prototype._getSheetSize=function(){return this._sheet.outerWidth()};m.prototype._createCloseIcon=function(){return n("\x3cdiv class \x3d '"+(l.CLOSE_ICON+" "+l.CLOSE_ICON_MEDIUM+"  "+l.HIDE_ELEMENT)+"'\x3e\x3c/div\x3e")};m.prototype.showCloseIcon=function(){a.fadeIn(this._closeIcon,200,r.EVEN_EASE)};m.prototype.hideCloseIcon=
function(){a.fadeOut(this._closeIcon,200,r.EVEN_EASE)};return m});e.when("A","uss-constants","uss-utils").register("uss-light-box",function(a,b,c){var d=a.$,e=b.classList,m=d("\x3cdiv class\x3d'"+e.LIGHT_BOX_IDENTIFIER+" "+e.LIGHT_BOX_JS_HOOK+" "+e.HIDE_ELEMENT+"'\x3e\x3c/div\x3e");d("body").append(m);return{show:function(){m.addClass(e.SHOW_ELEMENT);m.removeClass(e.HIDE_ELEMENT);c.disablePageScroll();a.animationFrameDelay(function(){a.animate(m,{opacity:.6},400,b.transitionTimingFunction.EVEN_EASE)})},
hide:function(){m.removeClass(e.SHOW_ELEMENT);a.animate(m,{opacity:0},300,b.transitionTimingFunction.EVEN_EASE,function(){m.addClass(e.HIDE_ELEMENT);m.removeClass(e.SHOW_ELEMENT);c.enablePageScroll()})},getElement:function(){return m}}});e.when("A","uss-constants","dp-flux-attribution","dp-flux-view","uss-store-repository","uss-atc-status-store").register("nav-bar-cart-count-view",function(a,b,c,d,e,m){var l=a.$;a=b.ussCTI;c=new c("nav-bar-cart-count-view",a.CATEGORY,a.TYPE,a.ITEM);m=e.getStore(b.stores.ATC_STATUS_STORE);
new d(c,[m],function(a){if(-1!==l.inArray(m,a)){var b=m.getState();x.$Nav.when("api.setCartCount").run(function(a){b.cart.count&&a(b.cart.count)})}})});e.when("A").register("buy-box-utility",function(a){var b=a.$;return{isWarrantySelectedInBuyBox:function(){var a=!1;b("#abbWrapper .abbListItem input[type\x3dcheckbox]").each(function(){a=a||b(this).prop("checked")});return a}}});e.when("A","uss-action-creator-helper","uss-preconditions","uss-logger-service","uss-constants","uss-utils").register("uss-atc",
function(a,b,c,d,e,m){function l(a){this.widgetName=a;this.isPrimaryAtc="DetailPageBuyBox"===a}var n=a.$,r=e.ajaxParams.AJAX_TIMEOUT,p=e.ajaxParams.BASE_URL,u={};l.prototype._getAtcUrl=function(a){var b=p;a.hasOwnProperty("ref")&&(b=b+"/ref\x3d"+a.ref);(a=a.linkParams)&&""!==a.trim()&&("\x26"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),b=b+"?"+a);return b};l.prototype._addUssParameters=function(a){a.params.isUSSAjax=1;this.isPrimaryAtc&&(a.params.isPrimaryATC=1,m.shouldFireAndForgetWeblabTrigger()||
(a.params.triggerUSSWeblab=c.triggerUSSWeblabValue()));var b=m.getDebugParams();Object.keys(b).forEach(function(c){a.params[c]=b[c]});return a};l.prototype._callback=function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);"function"===typeof a&&a.apply(this,b)};l.prototype._addToCart=function(b,d){this.isPrimaryAtc&&c.isUssWeblabInTreatment()&&a.$("#add-to-cart-button").attr("disabled",!0);var e=this;b=this._getAtcUrl(b);d=this._addUssParameters(d);var g=n.Deferred(),f=n.Deferred(),
m={};a.post(b,{params:d.params,success:function(b,c,g){d.hasOwnProperty("success")&&e._callback(d.success,b,c,g);a.trigger("USS ATC: Success")},error:function(b,c,k){g.reject();f.reject();d.hasOwnProperty("error")&&e._callback(d.error,b,c,k);a.trigger("USS ATC : Failure")},abort:function(a){g.reject();f.reject();d.hasOwnProperty("abort")&&e._callback(d.abort,a)},chunk:function(a){if(a&&a.hasOwnProperty("name")){switch(a.name){case "atc-data":g.resolve(a.response);break;case "percolate-data":f.resolve(a.response);
break;default:var b={message:"ATC Failed for widget "+e.widgetName+". Unrecognized chunk name found. ",logLevel:"FATAL"};x.ueLogError&&x.ueLogError("USS ATC Failure for widget "+e.widgetName,b)}d.hasOwnProperty("chunk")&&e._callback(d.chunk,a)}},timeout:d.timeout||r});m.atcData=g;this.isPrimaryAtc&&(m.percolateData=f);return m};return{addToCart:function(a,c,h){if(!a||!a.trim().length||"object"!==typeof c)throw e.fatalMessagesList.INCORRECT_PARAMETER_PASSED;var k="DetailPageBuyBox"===a;u[a]||(u[a]=
new l(a));a=u[a]._addToCart(h,c);k||(d.logCounter(e.metrics.SECONDARY_ADD_TO_CART_CLICK_COUNTER),b.secondaryATCClick(a));return a}}});e.when("A","uss-atc","uss-action-creator-helper","uss-preconditions","uss-logger-service","uss-constants","buy-box-utility","uss-utils").register("buy-box-override",function(a,b,c,d,e,m,l,n){var r=a.$,p=m.metrics;a={actionButton:null,whitelistedActions:{"submit.add-to-cart":1},init:function(){this.checkPreconditionsAndManipulateBuyBox()},checkPreconditionsAndManipulateBuyBox:function(){this.buyBoxForm=
r("#addToCart");d.isUssConditionsPassed()&&this.attachFormHandler()},attachFormHandler:function(){this.buyBoxForm.submit(this.submitForm.bind(this));this.buyBoxForm.find("input[type\x3dsubmit], input[type\x3dbutton]").click(function(a){this.actionButton=a.target}.bind(this))},isValidAction:function(){return this.actionButton&&this.actionButton.name in this.whitelistedActions},submitForm:function(a){if(!l.isWarrantySelectedInBuyBox()&&this.isValidAction())if(d.isUssWeblabInTreatment()){a.preventDefault();
a=this.getAddToCartParameters();var h={params:a},r={ref:m.ajaxParams.REFTAG};n.shouldFireAndForgetWeblabTrigger()&&n.fireAndForgetWeblabTrigger(d.triggerUSSWeblabValue(),d.ussWeblabTreatmentValue());var h=b.addToCart("DetailPageBuyBox",h,r),t=new e.Timer(p.ATC_PROMISE_RESOLVED_TIMER),v=new e.Timer(p.PERCOLATE_DATA_PROMISE_RESOLVED_TIMER);t.start();v.start();h.atcData.then(function(a){1===a.isOk&&t.stop()},function(){e.logCounter(p.ATC_PROMISE_REJECTED_COUNTER)});h.percolateData.then(function(){v.stop()},
function(){e.logCounter(p.PERCOLATE_DATA_PROMISE_REJECTED_COUNTER)});c.primaryATCClick(a[m.ajaxParams.ASIN],h)}else e.logCounter(m.metrics.POST_ATC_PRECONDITIONS_FAILED),this.addHiddenUSSField("isUSSControl",1),n.shouldFireAndForgetWeblabTrigger()?n.fireAndForgetWeblabTrigger(d.triggerUSSWeblabValue(),d.ussWeblabTreatmentValue()):this.addHiddenUSSField("triggerUSSWeblab",d.triggerUSSWeblabValue());else e.logCounter(m.metrics.POST_ATC_PRECONDITIONS_FAILED)},addHiddenUSSField:function(a,b){r("\x3cinput\x3e").attr({type:"hidden",
id:a,name:a,value:b}).appendTo(this.buyBoxForm)},getAddToCartParameters:function(){var a={},b=this.buyBoxForm.serializeArray();r.each(b,function(b,c){a[c.name]=c.value});return a}};return{init:a.init.bind(a)}})}function d(){t.isUssConditionsPassed()&&(a.logCounter(b.metrics.PAGE_LANDING_PRECONDITIONS_PASSED),n||(c(),n=!0,l.initializeUSSComponents()),l.initializeBuyBox())}var n=!1;r.on("PageRefresh:ATF",function(){d()});d()});"use strict";e.when("jQuery","A","a-component","uss-widget-footer","uss-widget-partial-content",
"uss-widget-full-content","p13n-sc-call-on-visible","p13n-sc-logger").register("uss-list-widget",function(e,p,l,t,a,b,c,d){function n(a){var b="a:expandControl:"+a._$footer.getName()+":toggle";p.on(b,function(){var b=!a.isExpanded();a._$element.attr("data-a-expanded",b);f(a,b);a._$firstToggleEvent&&0<a._$widgetImpressionElement.length&&(a._$firstToggleEvent=0,h(a._$widgetImpressionElement,a._$fullContent._$element,{action:"see_more"}))})}function h(a,b,f){c.register(a,function(){d.logAsyncAction(e.extend(!0,
{},{featureElement:a,isEventComplete:function(){return b.is(":visible")},logOnlyNew:!0,replicateAsinImpressions:!0},f))},{distance:10})}function f(a,b){a._$footer.toggleExpansion(b,!a.isExpanded(),a._$firstToggleEvent);a._$fullContent.toggleExpansion(b);a._$partialContent.toggleExpansion(b)}var k=l.create({_componentName:"ussListWidget",init:function(c,e){this._super(c,e);this._$partialContent=a(this._$element.find(".uss-partial-list-container"));this._$fullContent=b(this._$element.find(".uss-full-list-container"));
this._$footer=t(this._$element.find(".uss-widget-footer"));this._$firstToggleEvent=1;this._$widgetImpressionElement=this._$element.find(".p13n-sc-static-list");0<this._$widgetImpressionElement.length&&("function"===typeof d.resetImpressions&&d.resetImpressions(this._$widgetImpressionElement.attr("data-p13n-feature-name")),h(this._$widgetImpressionElement,this._$partialContent._$element,{action:"view",initialDelay:0}));n(this);f(this,this.isExpanded())},isExpanded:function(){return"true"===this._$element.attr("data-a-expanded")}});
return function(a,b){return new k(a,b)}});e.when("jQuery","A").execute("uss-sp-help-link",function(e,p){p.on("a:popover:beforeShow:uss-sp-help-link-popover",function(e){e.popover.$container.css("z-index",501)})});"use strict";e.when("jQuery","A","p13n-sc-line-truncator","a-component").register("uss-widget-partial-content",function(e,p,l,t){var a=t.create({_componentName:"ussWidgetPartialContent",init:function(a,c){this._super(a,c);this._$element.find(".p13n-sc-truncate").toggleClass("uss-asin-title");
l.truncateLines(this._$element);p.loadDynamicImage(this._$element.find(".p13n-sc-dynamic-image"))},toggleExpansion:function(a){var c=this;c._$element.attr("data-a-expanded",a);a?c._$element.hide():p.delay(function(){c._$element.show()},50)}});return function(b,c){return new a(b,c)}});"use strict";e.when("jQuery","A","p13n-sc-line-truncator","a-component").register("uss-widget-full-content",function(e,p,l,t){var a=t.create({_componentName:"ussWidgetFullcontent",init:function(a,c){this._super(a,c);
this._$dynamicImagesLoaded=this._$isTitleTruncated=!1;a=this._$element.find(".p13n-sc-truncate");a.toggleClass("uss-asin-title");a.attr("data-rows","4")},toggleExpansion:function(a){var c=this;c._$element.attr("data-a-expanded",a);a?p.delay(function(){c._$element.show();l.truncateLines(c._$element);c._$dynamicImagesLoaded||(p.loadDynamicImage(c._$element.find(".p13n-sc-dynamic-image")),c._$dynamicImagesLoaded=!0)},50):c._$element.hide()}});return function(b,c){return new a(b,c)}});"use strict";e.when("jQuery",
"A","a-component","uss-widget-see-more","uss-widget-expander-icon","uss-constants","uss-logger-service").register("uss-widget-footer",function(e,p,l,t,a,b,c){function d(a){var b=a.getName();a=a.isExpanded();p.trigger("a:expandControl:"+b+":toggle");a?(c.logCounter(n.SEE_LESS_CLICK_COUNTER),c.logCounter(n.SEE_LESS_CLICK_COUNTER+":"+b)):(c.logCounter(n.SEE_MORE_CLICK_COUNTER),c.logCounter(n.SEE_MORE_CLICK_COUNTER+":"+b))}var n=b.metrics,h=function(a,b){return a+":"+b},f=l.create({_componentName:"ussWidgetFooter",
init:function(b,e){var f=this;f._super(b,e);f._$expanderIcon=a(f._$element.find(".uss-expander-icon-container"));f._$seeMore=t(f._$element.find(".uss-see-more"));f._$element.length&&(c.logCounter(n.SEE_MORE_EXISTENCE_COUNTER),c.logCounter(h(n.SEE_MORE_EXISTENCE_COUNTER,f.getName())));f._$element.click(function(){d(f)});f._$element.keypress(function(a){var b=p.constants.keycodes;a=a.which;a!==b.ENTER&&a!==b.SPACE||d(f)})},toggleExpansion:function(a,b,c){var d=this;d._$element.attr("data-a-expanded",
a);p.fadeOut(d._$element,200,"linear",function(){d._$seeMore.toggleSeeMore(a);d._$expanderIcon.toggleExpanderIcon(a);p.fadeIn(d._$element,200)});a||!b||c||d._$element.parent().get(0).scrollIntoView(!0)},isExpanded:function(){return"true"===this._$element.attr("data-a-expanded")},getName:function(){return this._$element.attr("data-name")}});return function(a,b){return new f(a,b)}});"use strict";e.when("jQuery","A","a-component").register("uss-widget-see-more",function(e,p,l){var t=l.create({_componentName:"ussWidgetSeeMore",
init:function(a,b){this._super(a,b);this._$seeMoreText=this._$element.find(".uss-see-more-text");this._$seeLessText=this._$element.find(".uss-see-less-text")},toggleSeeMore:function(a){this._$seeMoreText.toggle(!a);this._$seeLessText.toggle(a)}});return function(a,b){return new t(a,b)}});"use strict";e.when("jQuery","A","a-component").register("uss-widget-expander-icon",function(e,p,l){var t=l.create({_componentName:"ussWidgetExpanderIcon",init:function(a,b){this._super(a,b);this._$icon=this._$element.find(".uss-expander-icon")},
toggleExpanderIcon:function(a){this._$icon.toggleClass("a-css-icon-expand",!a).toggleClass("a-css-icon-collapse",a)}});return function(a,b){return new t(a,b)}});"use strict";e.when("jQuery","A","uss-atc").execute("uss-inline-atc",function(e,p,l){function t(a){var c={};a.find("input[type\x3dhidden]").each(function(a,b){c[b.name]=e(b).val()});return c}function a(a,c,d,e){a.atcData.then(function(a){e.hide();1===a.isOk?c.show():d.show()},function(){e.hide();d.show()})}(function(){e("body").delegate(".uss-list-widget .uss-add-to-cart-button",
"click",function(b){b=e(b.currentTarget);var c=b.parent().find("input[name\x3dASIN]").val(),d=e(".uss-add-to-cart-form-"+c),c=d.siblings(".uss-atc-success"),n=d.siblings(".uss-atc-error"),h=d.siblings(".uss-atc-spinner");d.hide();h.show();var f={params:t(d)},k=JSON.parse(d.attr("data-link-params")),d={linkParams:e.param(k),ref:d.attr("data-ref")};b=l.addToCart(b.parents(".uss-widget-body").attr("data-p13n-feature-name"),f,d);a(b,c,n,h)})})()})});
/* ******** */
