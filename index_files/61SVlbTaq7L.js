(function(D){var r=window.AmazonUIPageJS||window.P,ra=r._namespace||r.attributeErrors,f=ra?ra("DetailPageImageBlockAssets",""):r;f.guardFatal?f.guardFatal(D)(f,window):f.execute(function(){D(f,window)})})(function(D,r,ra){D.register("postMetric",function(){return{postCountMetric:function(f){if("undefined"!==typeof f){var a=r.ue;if(a){var c=a.count(f)||0;a.count(f,c+1)}}},postTimeMetric:function(f,a){if("undefined"!==typeof f&&"undefined"!==typeof a){var c=r.ue;c&&c.count(f,a)}}}});"use strict";D.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});D.register("postEarlyMetric",function(){return null});"use strict";D.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(f,a,c,n){f=f.extend(!0,{},c,n);var q=new a(f);D.register("ImageBlockAPI",function(){return q.api});return q});"use strict";D.when("A","jQuery").execute(function(f,a){f.on("a:image:load:landingImage",function(){r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",
performance.now())});f.loadDynamicImage(a("#landingImage"))});"use strict";D.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(f){function a(a){a&&(D.load.js(a),r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",r.parseInt(performance.now())))}function c(a){a&&D.load.css(a)}var n=f.airyConfig;void 0===n?D.when("ImageBlockBTF").execute(function(f){n=f.airyConfig;a(n.jsUrl);c(n.cssUrl)}):(a(n.jsUrl),c(n.cssUrl))});"use strict";D.when("jQuery","ImageBlockModel",
"ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(f,a,c,n,q){var h={};return function(E){var l=this;l.dispatch=function(a,c){var l=h[a];n.isDefined(l)&&f.each(l,function(a,h){h.call(r,c)})};l.register=function(a,c){n.isDefined(h[a])||(h[a]=[]);"function"===typeof c&&h[a].push(c)};l.model=new a(E,l);l.view=new c(E,l,l.model);l.api=new q(E,l,l.model);l.init=function(){l.model.init();l.view.init()};l.init()}});"use strict";D.when("A","imageBlockUtils").register("ImageBlockModel",
function(f,a){function c(c,h,f,l,q){a.isDefined(c)&&(y.type=c);a.isDefined(h)&&(y.index=h);a.isDefined(f)&&(y.thumbnailIndex=f);a.isDefined(l)&&(y.variant=l);a.isDefined(q)&&(y.color=q)}function n(a){c("image",0,0,"MAIN",a||l.landingAsinColor||l.defaultColor)}function q(a){a=a.data;v=f.copy(y);c(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function h(a){q(a);a=f.copy(a);a.data=f.copy(y);x.dispatch("updateView",a)}function E(){v=f.copy(y);n(y.color)}var l,x,y={},v={},I,r;return function(a,c){x=
c;l=a;x.register("updateSelection",h);x.register("updateModel",q);x.register("resetModel",E);this.init=function(){n()};this.getCurrentItem=function(){return f.copy(y)};this.getPreviousItem=function(){return f.copy(v)};this.setCurrentEvent=function(a){I=a};this.getCurrentEvent=function(){return I};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(a){l.title=a}}});"use strict";D.when("ImageBlockBTF","postMetric").execute(function(f,
a){function c(a,c,E,l,n){function y(a){"click"===a.type&&l.postCountMetric("thumbClick");"click"===a.type&&m.overrideAltImageClickAction?p.dispatch("thumbActionClick",a):p.dispatch("updateSelection",a)}function v(a){m.useClickZoom||p.dispatch("imageClick",a)}function I(a){m.useClickZoom||p.dispatch("imageHover",a)}function O(a){p.dispatch("button360Click",a)}function C(c){!E.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(k.update(c),"swatchHover"!==c.type&&w.getPreviousItem().thumbnailIndex!==
c.data.thumbnailIndex&&l.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):(k.render(c.data.color,!1,c.onload),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",c))}function H(a){p.dispatch("resize",a)}function N(a){E.selectThumbnail(a,G)}function M(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function z(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===f.useIV?D.when("a-modal").execute(function(){M()}):M();m.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],y);a.declarative("thumb-action",["click"],
y);a.declarative("main-image-click",["click"],v);a.declarative("main-image-click",["mouseenter","mouseleave"],I);a.declarative("button-360-click",["click"],O);a.on("resize",H)}function d(a){var c=a.data,e;c&&"ingress"!==c.type&&"click"===a.type&&(e=a);return e}function B(a){var c=w.getCurrentItem(),e={type:"click"};e.$declarativeParent=a;e.data=c;return e}var k,m,p,w,G;return function(a,f,e){k=this;m=a;p=f;w=e;G=c("#imageBlock #altImages ul");var b=c("#imageBlock .canvas"),g=c("#main-image-container"),
l;k.subViews=[];for(f=0;f<n.length;f++)k.subViews.push(new n[f](a,e,k,p));k.render=function(a,e,d){var p=0;G.find(".item").remove();a=a||w.getCurrentItem().color;c.each(k.subViews,function(c,h){p=h.render(a,p,b,G,g,e,d)||p});var m=G.find(".a-button-selected").closest(".a-declarative");l=B(m)};k.init=function(){G=c("#imageBlock #altImages ul");var a=G.find(".a-button-selected").closest(".a-declarative"),b=a.data("action"),a=a.data(b)||{};a.color=m.landingAsinColor||m.defaultColor;p.dispatch("updateModel",
{data:a});k.render(a.color,!0);m.isDebug&&r.console&&console.log(m);p.register("updateView",C);p.register("selectThumbnail",N);z()};k.update=function(a){c.each(k.subViews,function(c,b){b.update(a)});m.usePeekHover&&("mouseleave"===a.type?p.dispatch("updateSelection",l):"click"===a.type&&(l=d(a)||l))}}}var n=["A","jQuery","imageBlockUtils","postMetric"].concat(f.views);D.when.apply(D,n).register("ImageBlockView",function(){for(var a=arguments[0],h=arguments[1],f=arguments[2],l=arguments[3],n=[],y=
4,v=arguments.length;y<v;y++)n.push(arguments[y]);return c(a,h,f,l,n)})});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(f,a,c,n,q,h,E){function l(b,e,d,g){if(!c.isjQueryObjDefined(b.find(".a-button-selected"))){var h=w.getCurrentItem();if(!g||"chromeless-video"!==h.type||!p.autoplayVideo){g=0;"image"===h.type&&(g=Math.max(v(h.color,h.variant),0));var m=e+g;m>=d&&(g=0,m=e);
e=c.getImageHash(h.color,g,p);-1!==e&&(G.dispatch("updateModel",{data:{index:g,thumbnailIndex:m,variant:e.variant,type:"image"}}),e=b.find(".item").get(m),c.selectGivenThumbnail(a(e),b))}}}function x(b,e,d){e=p.colorImages&&p.colorImages[e];var g=b;c.isDefined(e)&&(a.each(e,function(a,e){b<p.maxAlts&&(c.createThumbnail({type:"image",index:a,thumbnailIndex:b,variant:e.variant},e.thumb,J,"imageThumbnail"),b++)}),h.isEnabled&&E.logAltImgRequestPlacedOnThumbnails(a,h,w),l(J,g,b,d));return b}function y(b,
c){if("image"===b.type){var e=a("#image-canvas-caption #canvasCaption"),d,g=p.staticStrings,h=p.colorImages,m=b.color,k=b.index;c&&p.useIV?d=g.clickToExpand:h[m]&&h[m][k].hiRes&&p.useHoverZoom?(d=p.useHoverZoomIpad?g.touchToZoom:p.useClickZoom?g.clickToZoom:g.rollOverToZoom,p.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+p.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):p.useIV&&(d=g.clickToExpand);e.html(d)}}function v(a,b){return c.getIndexForVariant(a,b,p)}function I(b,d){var g="a-dynamic-image";
if(!p.acEnabled){var h;a.each(b.main,function(a,b){c.isDefined(h)||(h=parseFloat(b[1]/b[0])<=parseFloat(p.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});g+=h}var m=c.getMaxDimensionsOfMainImage(b.main,e,p),k=m[0],f=m[1],m=a("\x3cdiv\x3e\x3c/div\x3e"),k={"max-height":k,"max-width":f};m.addClass(g).css(k).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:d}).data("a-dynamic-image",b.main);return m}function r(a){var b=t.find(".swatchHoverExp");a=I(a);b.find(".imgTagWrapper").html(a);
f.loadImageManually(a);return b}function C(a){var b=e.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");p.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function H(a,b){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){var e=c.getImageHash(a.color,a.index,p);if(-1===e)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},c.lazyLoadingRequired(a,w,p)?z(a,!1,b):(G.dispatch("updateModel",e),c.showUnavailable(a.color)),
-1;var d=t.find(".item.itemNo"+a.thumbnailIndex);if(!c.isjQueryObjDefined(d)){var d=a.thumbnailIndex,d=t.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+d+" maintain-height"),g=I(e,b);d.find(".placeHolder").replaceWith(g);t.find(".list").append(d);f.loadImageManually(g)}C(d);G.dispatch("loadMagnifier");y(a);p.useIV&&c.isDefined(e.hiRes)&&d.css("cursor","pointer");a.isUserGenerated&&(d=w.getPreviousItem(),g=a.variant,c.isDefined(g)&&d.thumbnailIndex!==
a.thumbnailIndex&&(h.isEnabled&&E.logAltImgRequestServed(h),q.postCountMetric("ImageThumbnailSelectedVariant:"+g),0===g.indexOf("IG")&&(q.postCountMetric("IGImageSelectedVariant:"+g),q.postCountMetric("IGImageSelectedEvent:"+a.interaction))));f.trigger("dp:image-block:update",e)}}function N(a){var b=Math.max(v(a.color,w.getCurrentItem().variant),0),b=c.getImageHash(a.color,b,p);if(-1===b)return c.lazyLoadingRequired(a,w,p)?c.lazyLoadOnHoverEnabled(p)&&(M(".3",!0),c.spinner(t,!0),f.delay(function(){w.getCurrentEvent().data===
a&&z(a,!0)},500)):c.showUnavailable(a.color),-1;var e=r(b);C(e);f.trigger("dp:image-block:update",b)}function M(b,c){c?t.css("opacity",b):a("#imageBlock").css("opacity",b)}function z(a,e,h){b=e;g=h;var m=a.color,k=p.colorToAsin[m];if(k&&k.asin){var f={};f.params={asin:k.asin,productGroupID:p.productGroupID,color:m};f.success=function(f){f?(c.ajaxState(k.asin,"success"),p.colorImages[m]=f.colorImage,c.isDefined(p.spin360ColorEnabled)&&(p.spin360ColorEnabled[m]=f.enable360),m===a.color&&(e&&b?a===w.getCurrentEvent().data&&
(d(a),N(a)):(f={type:"updatedData",data:w.getCurrentItem(),onload:h||g},G.dispatch("updateView",f))),D.register(c.rankedImagesReadyEvent(k.asin))):c.ajaxState(k.asin,"fail")};f.error=function(){c.ajaxState(k.asin,"fail")};f.indicator=c.spinner(t);c.ajaxState(k.asin,void 0)&&"fail"!==c.ajaxState(k.asin,void 0)||(M(".3",e),n.load("/gp/product/features/apparel-main-image/ranked-images.html",f),c.ajaxState(k.asin,"sent"));return p.colorImages&&p.colorImages[m]}}function d(b,e){c.lazyLoadingRequired(b,
w,p)||(a("#imageBlock").css("opacity","1"),t.css("opacity","1"),c.spinner(t,!1),t.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),c.hideUnavailable(),e&&t.find(".list .item").remove())}function B(){var b=t.find(".item .imgTagWrapper"),d=c.getContainerHeight(e,p.holderRatio,p.holderMaxHeight);0<d&&(e.height(d),b.height(d));t.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&f.loadDynamicImage(this);var d=b.data("a-dynamic-image"),
d=c.getMaxDimensionsOfMainImage(d,e,p);b.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function k(a){y(w.getCurrentItem(),"mouseenter"===a.type)}var m,p,w,G,J,t,e,b,g,A;return function(a,b,g,h){m=this;p=a;w=b;G=h;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];m.render=function(a,b,g,h,m,k,f){t=g;J=h;e=m;A=x(b,a,k);k||(a=w.getCurrentItem(),c.lazyLoadingRequired(a,w,p)&&G.dispatch("updateModel",{data:{type:"lazy-loaded"}}));d(w.getCurrentItem(),!k);H(w.getCurrentItem(),f);return A};
m.update=function(a){var b=a.data;w.setCurrentEvent(a);"ingress"!==b.type&&d(a.data,!1);"swatchHover"===a.type?b.color===w.getCurrentItem().color?H(w.getCurrentItem()):a.captured||-1===N(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&q.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+A),H(b),p.usePeekHover&&"click"!==a.type||(c.selectGivenThumbnail(a.$declarativeParent,J),"click"===a.type&&(q.postCountMetric("dpcc_imageThumbClicked_total"),
q.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+A))))};p.overrideAltImageClickAction&&c.addTag("clickEnabledOnAltImages");G.register("imageHover",k);G.register("resize",B)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(f,a,c,n,q,h){function E(a){M?a.css("cursor","url('"+I.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),
a.css("cursor","zoom-in"))}function l(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(c.isDefined(d))for(var d=d[1].split("_"),h=0;h<d.length;h++){var k=d[h].match(/^([A-Z]+)(\d+(\.\d+)?)$/);c.isDefined(k)&&(a[k[1]]=parseInt(k[2],10))}return a}function x(z,d){function B(){var a;d.useClickZoom?(a=d.offsetInClickZoom,a=[Math.min(1,Math.max(0,y[0]-(C[0]+a))/(C[2]-2*a)),Math.min(1,Math.max(0,y[1]-(C[1]+a))/(C[3]-2*a))]):a=A&&A.updatePosition();if(a&&g&&g.detailSize){var b=[g.detailSize[0]-
g.rect.width,g.detailSize[1]-g.rect.height];f.capabilities.rtl?g.detailImage.get(0).style.right=-(a[0]*b[0])+"px":g.detailImage.get(0).style.left=-(a[0]*b[0])+"px";g.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function k(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function m(b){var e=X?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";y=X?[e.pageX,e.pageY]:[b.pageX,b.pageY];if(f.capabilities.rtl){var c=a(r).width();y=X?[c-e.pageX,e.pageY]:[c-b.pageX,b.pageY]}}
function p(a){X&&a.preventDefault();m(a);d.useClickZoom?a=[C[0],C[1],C[0]+C[2],C[1]+C[3]]:(a=A?A.offset:z.offsetParent().offset(),a=I.acEnabled?[a.left,a.top,e.width()+a.left,e.height()+a.top]:[v[0]+a.left,v[1]+a.top,v[0]+v[2]+a.left,v[1]+v[3]+a.top]);y[0]<a[0]||y[1]<a[1]||y[0]>=a[2]||y[1]>=a[3]||I.acEnabled&&!k(z)?(d.fadeMagnifier?Y||(Y=!0,N=setTimeout(function(){w(!0)},500)):d.useClickZoom||w(),F&&(F=!1,clearTimeout(U))):(F||(F=!0,U=setTimeout(function(){n.postCountMetric("dppc_hoverZoomOpened");
q.isEnabled&&h.logHoverZoomRequestServed(q)},1E3)),d.fadeMagnifier&&Y&&(Y=!1,clearTimeout(N)),B())}function w(b){b&&t.suppressMagnifier(!0);if(Q&&(g&&g.hide(),A&&(A.destroy(),A=null),Q=!1,X?(z.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),x(),b))z.one("click.magnifier touchstart.magnifier",function(a){G(a,!0)})}function G(b,c){c&&t.suppressMagnifier(!1);if(!Q&&
!ca&&(0===ea&&(n.postCountMetric("dppc_hoverTime",new Date-(r.ue&&r.ue.t0||0)),ea=1),H[W]||(n.postCountMetric("dppc_hoverMain"),H[W]=1),v=[z.position().left,z.position().top,z.width(),z.height()],W&&(m(b),g?g.refit().show():g=new D,d.useClickZoom||(A=A||new O),C=g.getWindowSize(),B()),Q=!0,X?(z.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",p).bind("touchend.magnifier",w),a(document).trigger("engaged.magnifier")):(I.acEnabled?e.unbind("mousemove.magnifier"):z.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",p)),c)){var h=a("#zoomWindow");if(0<h.length)h.one("click.magnifier touchend.magnifier",function(a){w(!0)})}}function x(){d.useHoverZoom&&(X?z.bind("touchstart.magnifier touchmove.magnifier",G):I.acEnabled?k(z)&&e.bind("mousemove.magnifier",G):z.bind("mousemove.magnifier",G))}var t=this,e=z.offsetParent(),b={detailImageUrl:z.attr("data-old-hires"),location:"over",locationElement:z,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=
a.extend(b,d);d.adjustment=[10,0,-10,0];var g=null,A=null,y=null,v=null,C=null,T={"null":1,"":1,undefined:1},Q=!1,ca=!1,W=d.detailImageUrl,X=d.useHoverZoomIpad||0,ea=0,H={},O=function(){function b(a){var e=Math.round(Math.min(z.width(),g.rect.width/a));a=Math.round(Math.min(z.height(),g.rect.height/a));k.css({width:e,height:a});c=[e,a]}var e=this,c=[0,0],h=(g.detailSize&&g.detailSize[0]||5E8)/v[2],m=(g.detailSize&&g.detailSize[1]||5E8)/v[3],h=m>h?m:h;a("#magnifierLens").remove();var k=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
d.generalImageUrls.zoomLensBackground&&k.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});I.showMagnifierOnHover?E(k):k.css("cursor","pointer");e.updatePosition=function(){var a=[v[2]-c[0],v[3]-c[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(y[0]-c[0]/2-v[0]-e.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(y[1]-c[1]/2-v[1]-e.offset.top)/a[1])),g=v[0]+Math.round(b*a[0]),a=v[1]+Math.round(d*a[1]);k.get(0).style.left=g+"px";k.get(0).style.top=a+"px";return[b,d]};e.destroy=function(){k.remove()};
e.offset=z.offsetParent().offset();b(h);e.updatePosition();k.appendTo(z.parent());g.detailImage[0].complete||g.detailImage.load(function(){var a=g.detailImage.width()/v[2];b(a);e.updatePosition()})};O.preload=function(){t.preload(d.generalImageUrls.lensBackgroundUrl)};var D=function(){function b(){var e={};if("over"===d.location){var e=d.useClickZoom,k={},f=a("#leftCol"),p=a("#centerCol"),l=a("#rightCol"),B=a("#hover-zoom-end"),w=a("#actionPanelContainer"),E=c.isjQueryObjDefined(f)?f.outerHeight():
p.outerHeight();k.top=c.isjQueryObjDefined(f)?f.offset().top:p.offset().top;k.bottom=E+k.top;k.right=c.isjQueryObjDefined(l)?l.offset().left:w.offset().left;k.left=e?0:f.offset().left+f.outerWidth();c.isjQueryObjDefined(B)&&B.offset().top>k.bottom&&(k.bottom=B.offset().top);e=k}else"right"===d.location&&(e=z.offset(),e={left:e.left+z.outerWidth(),top:e.top,right:e.left+z.outerWidth()+400,bottom:e.top+400});d.minHeightElement&&(e.bottom=Math.max(e.bottom,e.top+a(d.minHeightElement).outerHeight()));
e.bottom=Math.min(e.bottom,a(r).scrollTop()+a(r).height());e.left+=h[0];e.top+=h[1];e.right+=h[2];e.bottom+=h[3];e.width=e.right-e.left;e.height=e.bottom-e.top;d.enhancedHoverOverlay&&c.isDefined(r.pageXOffset)&&(k=a(r).width(),e.width=k-e.left+r.pageXOffset-18,e.height-=14);m.css({left:e.left,top:e.top,width:e.width,height:e.height});g.rect=e;return g}function e(a){var b=new Image;g.detailSize=[0,0];b.onload=function(){g.detailSize=[b.width,b.height];B()};b.src=a.attr("src");if(0<b.width&&0<b.height)g.detailSize=
[b.width,b.height];else if(d.detailImageSize)g.detailSize=d.detailImageSize;else{a=l(b.src);var c=v[2]/v[3];a.SS||a.AA?(a=a.SS||a.AA,g.detailSize=[a,a]):a.SX?g.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?g.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(g.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var g=this,h=d.adjustment;a("#zoomWindow").remove();var k={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(k.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
k.border="1px solid #949494",k.borderColor="rgb(148,148,148)");var m=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(k);d.fadeMagnifier&&m.fadeIn(200);d.useClickZoom&&(M?m.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(m.css("cursor","-webkit-zoom-out"),m.css("cursor","-moz-zoom-out"),m.css("cursor","zoom-out")));g.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");g.detailImage&&g.detailImage.remove();m.append(b);a(document).trigger("updated.magnifier");
g.detailImage=b;e(g.detailImage)};g.refit=function(){b();e(g.detailImage);return g};d.fadeMagnifier?(g.show=function(){m.fadeIn(200);return g},g.hide=function(){m.fadeOut(200);return g}):(g.show=function(){m.show();return g},g.hide=function(){m.hide();return g});g.destroy=function(){m.remove();return g};g.getWindowSize=function(){return[g.rect.left,g.rect.top,g.rect.width,g.rect.height]};g.updateImage(W);b();m.appendTo(document.body)},Y=!1,N,F=!1,U;t.preload=function(b){b=a.makeArray(b);for(var e=
b.length,c=0;c<e;c++)b[c]instanceof Array?t.preload(b[c]):"string"===typeof b[c]&&b[c]&&!T[b[c]]&&(T[b[c]]=new Image,T[b[c]].src=b[c])};t.changeImage=function(b,e){Q&&w();W=e;z.attr("src",b);t.preload(b);v=[z.position().left,z.position().top,z.width(),z.height()];e&&("immediately"===d.preload?t.preload(e,!0):a(r).ready(function(){t.preload(e)}),g?g.updateImage(e):z.attr("data-old-hires",e))};t.destroy=function(){I.acEnabled?e.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
z.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");A&&A.destroy();A=null;g&&g.destroy();g=null};t.detailImage=function(){return g.detailImage};t.suppressMagnifier=function(a){ca=a};t.isEngaged=function(){return Q};t.engageMagnifier=G;t.disengageMagnifier=w;z[0].complete?x():z.one("load",x);t.preload(z.attr("src"));r.performance&&performance.now&&r.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var ka=
d.detailImageUrl,b=function(){t.preload(ka,!0);d.useClickZoom||O.preload()},V=d.preload;V.constructor!==Array&&(V=[V]);for(var u=0;u<V.length;u++)if("immediately"===V[u])b();else if(a(r)[V[u]])a(r)[V[u]](b);else a(r).bind(V[u],b)}return t}function y(){if(I.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:I.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:I.useHoverZoomIpad,useHoverZoom:I.useHoverZoom,useClickZoom:I.useClickZoom,fadeMagnifier:I.fadeMagnifier,
zoomOutIcon:I.staticImages.zoomOutCur,enhancedHoverOverlay:I.enhancedHoverOverlay||I.atfEnhancedHoverOverlay};H&&(H.destroy(),H=void 0);var d=D.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");c.isjQueryObjDefined(d)?I.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(a){H=new x(d,f);H.engageMagnifier(a,!0)}),M?d.css("cursor",'url("'+I.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor",
"zoom-in"))):H=new x(d,f):q.isEnabled&&h.logHoverZoomApplicability(a,q)}}var v,I,O,C,H,D,M=navigator.userAgent.match(/msie|trident/i);return function(a,c,h,k){v=this;I=a;O=c;q.refToModel=O;C=k;v.render=function(a,c,d,k,h,f){D=d;H&&(H.destroy(),H=void 0)};v.update=function(a){};C.register("loadMagnifier",y);C.register("resize",y)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(f,a,c,n){function q(a,h,f){a=(a=f?f:c.getColorFromState(h.getState().hovered_variations,
l))&&""!==a?a:l.defaultColor;y.dispatch("updateView",{type:"swatchHover",data:{color:a}});n.postCountMetric("swatchHover")}function h(a,h,f,E){a=(a=E?E:c.getColorFromState(h.getState().selected_variations,l))&&""!==a?a:l.defaultColor;a===x.getCurrentItem().color?"function"===typeof f&&f():(y.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",
a);f()}}),n.postCountMetric("swatchClick"))}var E,l,x,y;return function(a,c,n,C){E=this;l=a;x=c;y=C;f.on("image-block-twister-swatch-hover",q);f.on("image-block-twister-swatch-click",h);E.render=function(a,c,h,f,d){};E.update=function(a){}}});"use strict";D.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(f,a,c,n,q,h,E){function l(b,e,c,g){!d.autoplayVideo||P||d.useChromelessVideoPlayer?!n.isjQueryObjDefined(b.find(".a-button-selected"))&&
(c=B.getCurrentItem(),!g||d.prioritizeVideos||"chromeless-video"===c.type&&d.autoplayVideo)&&(g=n.getVideoHash(c.color,0,d),-1!==g&&(e+=0,k.dispatch("updateModel",{data:{index:0,thumbnailIndex:e,variant:g.variant,type:d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),e=b.find(".item").get(e),n.selectGivenThumbnail(a(e),b))):(n.selectGivenThumbnail(b.find("img:last"),b),n.fadeToThumbnail(b.find("img").length-1,G,b))}function x(a){var b=B.getCurrentItem().color;if(d.useChildVideos&&
!d.colorToVideo[b]){var e=function(){if(a){d.colorToVideo[b]=a;var e={type:"updatedData",data:B.getCurrentItem()};k.dispatch("updateView",e)}};d.lazyLoadExperienceDisabled?e():D.when(n.rankedImagesReadyEvent(d.colorToAsin[b].asin)).execute(function(){e()})}}function y(a){if(!d.useChildVideos)return n.lazyLoadingRequired(B.getCurrentItem(),B,d)?void 0:d.videos;if(d.colorToVideo[a])return d.colorToVideo[a];var b=d.colorToAsin[a];if(b&&b.asin){var e={};e.params={asin:b.asin,productGroupID:d.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:d.useChromelessVideoPlayer,isUDP:d.isUDP};d.isDPXFeatureEnabled||(e.success=function(a){x(a)},q.load("/gp/product/features/apparel-main-image/videos.html",e));return d.colorToVideo&&d.colorToVideo[a]}}function v(){k.dispatch("selectThumbnail",n.useTabbedImmersiveView(d)?1:0)}function I(b,e,g,d){return c.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],streamingUrls:e.url,swfUrl:g.swfUrl,foresterMetadataParams:g.foresterMetadataParams,backgroundColor:"transparent",
flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=n.isjQueryObjDefined(b.find("video"))?"HTML5":"FLASH";h.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){b.parent().css("z-index",8)},videounsupported:function(){v();h.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){v();h.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){t.seek(0)}},cuePoints:[{values:e.durationSeconds-1,type:"position",
callback:function(e,c,g){e=g.durationSeconds-g.playheadTimeSeconds;b.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*e,.1,function(){b.parent().css({"background-color":"transparent","z-index":-1});v();a(this).show().css("opacity",1)})}}]})}function r(c){if("chromeful-video"===c.type||"chromeless-video"===c.type){var g=n.getVideoHash(c.color,c.index,d);if(-1===g)return-1;if("chromeful-video"===c.type){c=G.width()/G.height();var h=parseInt(g.videoWidth,10),k=parseInt(g.videoHeight,
10);n.updateAspectRatio(c,h,k,p);t?(t.show(),n.loadMediaIntoAiry(t,g,e,d.tabletWeb)):t=d.tabletWeb?A:n.createAiryInstanceForChromeful(p,g,e,null,d.autoplayVideo,G,w,m);b:if(n.useTabbedImmersiveView(d)){if(1<n.getVideosCount(B.getCurrentItem().color,d)){if(n.isDefined(J)){w.show();break b}J=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(d.staticStrings.watchMoreVideos);w.find("#videoCaption").append(J);f.declarative.create(J,"videoIngressClick",b)}n.playVideoInImmersiveView(d,
B.getCurrentItem().color)&&(f.declarative.create(p,"videoIngressClick",b),p.attr&&p.attr("data-ux-click",""),p.children().css("z-index","-1"),p.css("display","inline-block"))}else w.find("#videoCaption").text(d.staticStrings.playVideo),w.show();g=t;d.autoplayVideo&&g&&!P&&(n.toggleVideoCaption(w),g.setVolume(0),g.show(),g.play(),P=!0)}else t?(t.show(),n.loadMediaIntoAiry(t,g,e,d.tabletWeb),t.play(),w.show()):(t=I(p,g,e))&&t.play()}}function C(e,c,g){var k=y(c);c=e;n.isDefined(k)&&0<k.length&&d.alwaysIncludeVideo&&
e===d.maxAlts&&(m.find(".item:last").remove(),e--);n.isDefined(k)&&(a.each(k,function(a,c){if(e<d.maxAlts){var g=d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f={type:g,index:a,thumbnailIndex:e,variant:c.variant};b={type:"video-ingress",index:a,thumbnailIndex:e,variant:c.variant};n.useTabbedImmersiveView(d)&&("chromeful-video"===g&&(R+=" videoBlockIngress  videoBlockDarkIngress",c.thumb=c.thumb.replace("_PKmb-play-button-overlay-thumb","")),d.altsOnLeft||(R+=" a-align-top"));n.createThumbnail(f,
c.thumb,m,R);if(n.useTabbedImmersiveView(d)){H(m.find(".videoBlockIngress img"),d.videoIngressATFSlateThumbURL);var f=1<k.length?"multiple-videos":"one-video",p=1<k.length?k.length+" "+d.staticStrings.multipleVideos:d.staticStrings.singleVideo;p&&m.find(".videoBlockIngress").append(m.find("#videoCount_template").clone().text(p).attr("id","videoCount")).addClass(f)}K||(K=!0,h.postCountMetric("chromeless-video"===g?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));e++}if(n.useTabbedImmersiveView(d))return!1}),
l(m,c,e,g));return e}function H(a,b){var e=a.attr("src");if(e&&b){a.attr("src",b);var c=new Image;c.onload=function(b){a.attr("src",e)};c.src=e}}function N(a){t&&t.pause();a.data=b;a.clickTimeStamp=a.$event.timeStamp;var e="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";k.dispatch("imageClick",a);h.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);h.postCountMetric(e)}function M(a){A=a.airy;A.hide=function(){A.pause();f.$("#main-video-container").find(".vse-player-container").hide()};
A.show=function(){f.$("#main-video-container").find(".vse-player-container").show();A.play()};A.getMediaSourceInfo=function(){return n.getMediaSourceInfo()}}var z,d,B,k,m,p,w,G,J,t,e,b,g,A,K=!1,P=!1,R="videoThumbnail";return function(c,l,A,q){z=this;d=c;B=l;k=q;e=d.airyConfig;d.colorToVideo={};d.colorToVideo[d.landingAsinColor]=d.colorToVideo[d.defaultColor]=d.videos;z.render=function(b,e,c,k,h,l){m=k;p=h.find("#main-video-container");w=p.parent().find("#video-canvas-caption");G=a("#main-image-container");
d.useChromelessVideoPlayer||p.addClass("chromeful-container");g=C(e,b,l);r(B.getCurrentItem());n.useTabbedImmersiveView(d)&&f.declarative("videoIngressClick",["click"],N);b=B.getCurrentItem().color;e=n.getVideoHash(b,0,d);-1!==e&&d.tabletWeb&&(b=n.getNilgiriServiceAjaxRequest(d,b,e),E.get(f,"#main-video-container",b,function(){f.$("#main-video-container").find(".vse-player-container").hide()},function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return g};z.update=function(a){var e=
a.data;"ingress"!==e.type&&t&&(t.hide(),p.parent().css("z-index",-1),w.hide());if("swatchHover"===a.type)e.color===B.getCurrentItem().color?r(B.getCurrentItem()):a.captured||n.lazyLoadingRequired(e,B,d)&&!n.lazyLoadOnHoverEnabled(d)&&r(B.getCurrentItem());else if("chromeful-video"===e.type||"chromeless-video"===e.type)"mouseenter"===a.type&&h.postCountMetric("dpcc_videoThumbHovered_"+(e.thumbnailIndex+1)+"_"+g),r(e),d.usePeekHover&&"click"!==a.type||(n.selectGivenThumbnail(a.$declarativeParent,m),
"click"===a.type&&n.useTabbedImmersiveView(d)&&(h.postCountMetric("dpcc_videoThumbClicked_"+(e.thumbnailIndex+1)+"_"+g),b.action="videoIngressClick",b.clickTimeStamp=a.$event.timeStamp,b.$event=a.$event,b.$currentTarget=a.$currentTarget,k.dispatch("videoIngressClick",b),h.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp)))};if(d.isDPXFeatureEnabled)f.on("triggerVideoAjax",x);f.on("vseAiry",M)}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(f,a,c,n,q,h,E,l){function x(a){return a.hiRes||a.large||a.main[a.main.length-1]}function y(){u.find("#ivTitle").click(function(){V.hide()})}function v(){L=Oa?{type:"360-spin"}:U.getCurrentItem()}function I(){var a=u.find("#ivStage"),b=V.$container.find(".a-popover-wrapper"),e=b.find(".a-popover-inner"),b=b.height()-l.getDimension(e,"padding-top")-l.getDimension(e,"padding-bottom");u.css("height",b);var e=
u.find("#ivTitle").outerHeight(!0),c=u.find("#ivVariationSelection").outerHeight(!0),g=u.find("#ivMediaSelection").outerHeight(!0),d=u.find("#ivThumbs"),k=l.getDimension(d,"margin-top")+l.getDimension(d,"margin-bottom");d.css("height",b-e-c-g-k);u.find("#ivLargeImage").css("height",b);a.css("width",u.width()-l.getDimension(u,"padding-left")-l.getDimension(u,"padding-right")-u.find("#ivThumbColumn").width()-l.getDimension(a,"margin-left")-l.getDimension(a,"margin-right"))}function O(){u.find("#ivMediaSelect").change(function(){var b=
a(this).val();"all"===b?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").show(),"chromeful-video"===L.type&&u.find("#ivVideo_"+L.index).click()):"images"===b?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").hide(),"chromeful-video"===L.type&&(0===ba&&0===Z?u.find("#iv360").click():0===ba?u.find("#ivHeroImage_0").click():u.find("#ivImage_0").click())):"videos"===b&&(u.find("#ivVideoList").show(),u.find("#ivThumbs").hide(),"chromeful-video"!==
L.type?u.find("#ivVideoList_0").click():u.find("#ivVideoList_"+L.index).click())})}function C(){var a=u.find("#ivStage").find("#ivLargeImage"),b=a.width(),e=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var g=c.width(),d=c.height();0<c.length&&(c[0].naturalWidth&&(g=c[0].naturalWidth),c[0].naturalHeight&&(d=c[0].naturalHeight));a.css("cursor","auto");var g=0===g?1:g,d=0===d?1:d,k=Math.min(b/g,e/d),h=d*k,m=g*k;1>k?(Pa?a.css("cursor","url('"+F.staticImages.zoomIn+"'), auto"):(a.css("cursor",
"-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;g=Math.min(m,g);d=Math.min(h-20,d);c.css({"margin-top":(e-d)/2,"margin-left":(b-g)/2,height:d,width:g});a.css("visibility","visible");Aa=!1}function H(a){var b=u.find("#ivLargeImage");b.css("visibility","hidden");b.empty();l.animateStageIn(b);b.append(a);C()}function N(){aa&&aa.pause();u.find("#ivLarge360").css("display","none");u.find("#ivLargeVideo").css("display","none");u.find("#ivLargeImage").css("display",
"none");p()}function M(b){N();u.find("#ivLargeImage").css("display","block");var e;"hero-image"===b?c.isDefined(ga)&&(e=x(ga[L.index])):c.isDefined(la)&&(e=x(la[L.index]));if(c.isDefined(e)){u.find(".fullscreen").remove();var g=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),d=u.find("#ivLargeImage");l.animateStageOut(d,function(){g.load(function(){H(g)});if(g[0].complete)H(g);else{d.empty();var b=(d.height()-104)/2,e=(d.width()-80)/2;a("\x3cimg\x3e").attr("src",F.staticImages.spinner).css({position:"relative",
top:b+"px",left:e+"px"}).appendTo(d)}})}}function z(){var a=parseInt(L.index,10)+1;a>=ia.length||u.find("#ivVideo_"+a).click()}function d(){var a;c.isDefined(ia)&&(a=ia[L.index]);if(c.isDefined(a)){N();var b=u.find("#ivLargeVideo").css("display","block");aa?(aa.isDetached()&&aa.attach(b[0]),c.loadMediaIntoAiry(aa,a,wa,F.tabletWeb),aa.show()):(aa=c.createAiryInstanceForChromeful(b,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&aa.bind("ended",z));aa.play({isAsync:!0})}}function B(){v();var a;a="hero-image"===
L.type?u.find("#ivHeroImage_"+L.index):"image"===L.type?u.find("#ivImage_"+L.index):"chromeful-video"===L.type||"chromeless-video"===L.type?u.find("#ivVideo_"+L.index):"360-spin"===L.type?u.find("#iv360"):c.isDefined(ga)?u.find("#ivHeroImage_"+L.index):u.find("#ivImage_"+L.index);c.isjQueryObjDefined(a)||(a=u.find("#ivImage_0"));k(a)}function k(a){u.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(L.type="chromeful-video",L.index=a.attr("id").split("_")[1],
d()):a.hasClass("ivHeroImage")?(L.type="hero-image",L.index=a.attr("id").split("_")[1],M(L.type)):a.hasClass("iv360Image")?(L.type="360-spin",L.index=0,m()):(L.type="image",L.index=a.attr("id").split("_")[1],M(L.type))}function m(){N();u.find("#ivLarge360").css("display","block");e();var a=u.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});l.animateStageIn(a)},200);G();q.postCountMetric("dppc_click360");ta=Date.now()}function p(){0<ta&&(w("dppc_duration360",Date.now()-
ta),ta=0)}function w(a,b){r.ue&&r.ue.count(a,b)}function G(){if(0<pa){var a=u.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function J(b,e){if(pa<b.length){var c=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});c.hide();e.append(c);c.get(0).onload=function(){e.closest(document.documentElement).length&&(pa++,1===pa&&(G(),0<ta&&w("dppc_loadTime360",Date.now()-ta)),0<Ga&&w("dppc_perSpriteloadTime360",Date.now()-Ga),u.find("#iv360Spinner").hide(),
c.show(),xa=5*S.imageLocations[Math.floor(ya/S.imageLocations[0].length)][ya%S.imageLocations[0].length],J(b,e))};c.attr("src",b[pa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function t(a){if(c.isDefined(S.spriteWidthSizes)&&0<S.spriteWidthSizes.length){var b=S.spriteWidthSizes,e=b.length,g=b[0],d=b[e-1];if(a<=g)return g;if(a>d)return d;for(g=0;g<e;g++)if(a>b[g]&&a<=b[g+1])return b[g+1]}else return a}function e(){var e=u.find("#ivLarge360");e.children("#image-360-sprites").length||
(e.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),e.css({"margin-left":0,"margin-top":0,width:e.parent().width(),height:e.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",F.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(e),Ha=!0,b())}function b(){if(c.isDefined(S.spriteURLs)&&
c.isDefined(u)&&Ha&&!Ia){var b=u.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(S.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",S.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(F.staticStrings.dragToSpin).appendTo(e);e.appendTo(b);var e=S.imageWidth,d=S.imageHeight,k=b.parent().width(),h=b.parent().height(),
m=0,f=0;e/d>k/h?(ua=t(k),va=Math.round(d/e*ua),na=Math.ceil(k),sa=Math.ceil(va/ua*k),f=(h-sa)/2):(va=t(h),ua=Math.round(e/d*va),sa=Math.ceil(h),na=Math.ceil(ua/va*h),m=(k-na)/2);b.css({"margin-left":m,"margin-top":f,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*na+"px");J(S.spriteURLs,u.find("#image-360-sprites"),0);e=u.find("#ivLarge360");e.bind("mousedown",P);e.bind("touchstart",g);e.bind("touchmove",A);e.bind("touchend",K);a(document).bind("mousemove",
R);a(document).bind("mouseup",T);c.isDefined(F.staticImages.grab)&&b.css("cursor","url('"+F.staticImages.grab+"'), auto");Ia=!0}}function g(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function A(a){Ba&&(Q(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function K(a){Ba&&(Ba=!1)}function P(a){Ca=!0;Ka=a.originalEvent.clientX;c.isDefined(F.staticImages.grabbing)&&(a=u.find("#ivLarge360"),a.css("cursor","url('"+F.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+F.staticImages.grabbing+"'), auto"));return!1}function R(a){Ca&&(Q(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function T(a){Ca&&(Ca=!1,c.isDefined(F.staticImages.grab)&&(a=u.find("#ivLarge360"),a.css("cursor","url('"+F.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function Q(a){for(a=xa-=a/na*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var b;a=360;for(var e=0;e<pa;e++)for(var g=0;g<S.imageLocations[e].length;g++){var d=Math.abs(xa-5*S.imageLocations[e][g]);
d<a&&(a=d,b=e*S.imageLocations[0].length+g)}b!==ya&&(a=Math.floor(b/S.imageLocations[0].length),a!==Math.floor(ya/S.imageLocations[0].length)&&(c.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),e=u.find("#image-360-sprites").children(),La.drawImage(e[a],0,0)),a=u.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=b;a=b%S.imageLocations[0].length*-1*na;b=-1*Math.floor(b/S.imageLocations[0].length)*sa;e=u.find("#ivLarge360").children("#image-360-sprites");
e.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");e.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function ca(){u.delegate(".ivThumb","click",function(){var b=a(this);k(b)});u.delegate(".ivThumbVideoListOuter","click",function(){u.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");L.type="chromeful-video";L.index=b.attr("id").split("_")[1];d()})}function W(){aa&&!aa.isDetached()&&(wa.volume=aa.getVolume(),aa.detach(),!document.all||r.atob||
document.addEventListener||(aa=null));u.find("#ivLargeImage").empty();p()}function X(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function ea(b){var e=qa.left-(b.pageX-Da[0])*Ea;f.capabilities.rtl&&(e=qa.left-(a(r).width()-b.pageX-Da[0])*Ea);b=qa.top-(b.pageY-Da[1])*Ea;e=X(e,Fa.left);b=X(b,Fa.top);u.find(".fullscreen").css({left:e,top:b})}function fa(){u.delegate("#ivLargeImage","click",function(a){if(Aa)C();else if(za){u.find(".fullscreen").removeAttr("style");if(za){var b=u.find("#ivLargeImage"),
e=b.find(".fullscreen");Pa?b.css("cursor","url('"+F.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Aa=!0;var c=u.find("#ivLargeImage");Fa.left=c.width()-e.width();Fa.top=c.height()-e.height();var c=b.height()/2,g=b.width()/2;Da=[b.offset().left+g,b.offset().top+c];qa.top=c-e.height()/2;qa.left=g-e.width()/2;e.css({position:"relative",left:qa.left,top:qa.top});Ea=Math.max(e.height()/b.height(),e.width()/b.width())}ea(a)}});
u.delegate("#ivLargeImage","mousemove",function(a){Aa&&ea(a)})}function da(b){if(c.isImmersiveViewEnabled(F,U.getCurrentItem().color))if(Ma){var e=b.$event.originalEvent;e.acknowledge&&e.acknowledge(b.$currentTarget[0]);Oa=c.isDefined(b)&&"button-360-click"===b.action;h.isEnabled&&E.logImmersiveViewRequestServed(h);q.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(V))V.show();else{b=a("#auiImmersiveViewDiv");var e=a(r).height()-150,g=a(r).width()-75;V=Ma.create(b,{name:"immersiveView",
activate:"onclick",width:g,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});b.click()}if(Na){u=a("#ivMain");b=U.getCurrentItem().color;la=F.colorImages[b];ga=F.heroImage[b];ia=F.useChildVideos?F.colorToVideo[b]:F.videos;ra=Y()&&F.spin360ColorEnabled[b];S=Y()?F.spin360ColorData[b]:void 0;v();ja=Z=oa=ba=0;c.isDefined(ga)&&(Z=ga.length);c.isDefined(la)&&(ba=la.length);c.isDefined(ia)&&(oa=ia.length);ra&&(ja=1);l.populateTitle(u.find("#ivTitle"),45,F);l.populateVariationSelection(u.find("#ivVariationSelection"));
b=u.find("#ivMediaSelect");0===ba+ja||0===oa?(b.parent().hide(),u.find("#ivThumbs").addClass("noMediaSelection")):(b.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(F.staticStrings.allMedia+" ("+(Z+ba+ja+oa)+")").appendTo(b),a("\x3coption/\x3e").attr("value","images").text(F.staticStrings.images+" ("+(Z+ba+ja)+")").appendTo(b),a("\x3coption/\x3e").attr("value","videos").text(F.staticStrings.videos+" ("+oa+")").appendTo(b),b.parent().show(),b.val("all"));b=u.find("#ivThumbs");
b.find(".ivRow").not(".placeholder").remove();for(var e=Z+ba+oa+ja,d=g=0;g<e;)for(var k=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b),m=0;3>m&&g<e;m++,g++,d++)if(d<Z){var p=ga[g].thumb,B=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(k);B.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(p)+'") center no-repeat')}else if(d>=Z&&d<ba+Z)p=la[g-Z].thumb,B=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(g-Z)).appendTo(k),B.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(p)+'") center no-repeat');else if(d>=Z+ba&&d<ba+Z+ja)B=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),B.find(".ivThumbImage").css("background",'url("'+(c.isDefined(F.staticImages.icon360)?l.getResizedThumbnailURL(F.staticImages.icon360,!0):"")+'") center no-repeat');else if(p=ia[g-ba-Z-ja],B=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(g-ba-Z-ja)).appendTo(k),B.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),c.isDefined(p)){var w={position:"triggerTop"},A=u.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");A.find(".ivVideoPopoverTitle").text(p.title);A.find(".ivVideoPopoverDuration").text(p.durationTimestamp);w.inlineContent=A[0];f.declarative.create(B,"a-tooltip",w)}b=u.find("#ivVideoList");b.find(".ivThumbVideoListOuter").not(".placeholder").remove();
e=b.find(".placeholder");for(g=0;g<oa;g++)d=ia[g],k=e.clone().removeClass("placeholder").appendTo(b),k.attr("id","ivVideoList_"+g),k.find(".ivThumbImage").css("background",'url("'+d.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(d.title),k.find(".ivThumbDuration").text(d.durationTimestamp);u.find("#ivLarge360").empty();pa=0;Ia=Ha=!1;wa=F.airyConfig;Na=!1;Qa()}}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else q.postCountMetric("immersiveViewNotExistsClickCount")}function ha(a){var e=F.colorToAsin[a],g={},d=500;if(e&&e.asin){g.params={asin:e.asin};var k="360"+e.asin,h=Date.now();g.success=function(e){w("dppc_asyncRequestTime360",Date.now()-h);e&&c.isDefined(e.spin360.spin360Model)?(c.ajaxState(k,"success"),F.spin360ColorData[a]=e.spin360.spin360Model,a===U.getCurrentItem().color&&(S=F.spin360ColorData[a],b())):g.error()};g.error=function(){q.postCountMetric("dppc_asyncFailed360");w("dppc_asyncRequestTime360",
Date.now()-h);d*=2;16E3>=d?setTimeout(function(){h=Date.now();n.load("/gp/product/features/apparel-main-image/360.html",g)},d):c.ajaxState(k,"fail")};c.ajaxState(k)&&"fail"!==c.ajaxState(k)||(n.load("/gp/product/features/apparel-main-image/360.html",g),c.ajaxState(k,"sent"))}}function Y(){return c.isDefined(F.spin360ConfigEnabled)&&F.spin360ConfigEnabled}var ma,F,U,ka,V,u,ga,la,ia,Z,ba,oa,ja,L,aa,wa,S,ra,na,sa,va,ua,Ka,Ja,Oa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,pa=0,La,Pa=navigator.userAgent.match(/msie|trident/i),
Na=!0,Aa=!1,za=!1,Fa={},qa={},Ea,Da,Ma;D.when("a-modal").execute(function(a){Ma=a});var Qa=f.once(function(){O();ca();fa();f.on("a:popover:afterUpdatePosition:immersiveView",I);f.on("a:popover:afterShow:immersiveView",B);f.on("a:popover:afterHide:immersiveView",W);y()});return function(b,e,g,d){ma=this;F=b;U=e;h.refToModel=U;ka=d;Y()&&(F.spin360ColorData[F.landingAsinColor]=F.spin360ColorData[F.defaultColor],F.spin360ColorEnabled[F.landingAsinColor]=F.spin360ColorEnabled[F.defaultColor]);c.isDefined(F.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",l.addStyleCodeToURL(F.staticImages.icon360,"_FMpng_RI_"));ma.render=function(a,b,e,g,d,k){Na=!0;Y()&&F.spin360ColorEnabled[a]&&!c.isDefined(F.spin360ColorData[a])&&(F.spin360ColorData[a]={},ha(a));c.isImmersiveViewEnabled(F,U.getCurrentItem().color)&&Y()&&F.spin360ColorEnabled[a]&&(b===F.maxAlts&&(a=g.find(".item.imageThumbnail"),e=g.find(".item.videoThumbnail"),c.isDefined(e)&&1<e.length?e.last().remove():a.last().remove(),
b--),a=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(a,"button-360-click"),g.append(a),b++,q.postCountMetric("dppc_display360"));return b};ma.update=function(a){};c.isImmersiveViewEnabled(F,U.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");ka.register("imageClick",da);ka.register("button360Click",da)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(f,a,c,n,q,h,E){function l(){var c=O.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=c.find(".a-popover-inner"),c=c.height()-E.getDimension(d,"padding-top")-E.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",c);N=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<N?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),
d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",c);f.trigger("dp:image-block:immersive-view:resize")}function x(){f.trigger("dp:image-block:immersive-view:reset")}function y(k){if(c.isImmersiveViewEnabled(I,O.getCurrentItem().color))if(z){var m=k.$event.originalEvent;m.acknowledge&&m.acknowledge(k.$currentTarget[0]);q.isEnabled&&h.logImmersiveViewRequestServed(q);
n.postCountMetric("dppc_immersiveViewOpened");c.isDefined(k)&&("button-360-click"===k.action?a("#iv360TabHeading").click():"videoIngressClick"===k.action?(M=k.clickTimeStamp,a("#ivVideosTabHeading").click()):a("#ivImagesTabHeading").click());m=O.getImmersiveViewModalInstance();if(c.isDefined(m))m.show();else{k=a("#auiImmersiveViewDiv");var m=Math.min(Math.max(a(r).height()-150,540),1080),p=Math.min(Math.max(a(r).width()-75,990),1980),m=z.create(k,{name:"immersiveView",activate:"onclick",width:p,height:m,
popoverLabel:"ImmersiveView",hideHeader:!0});O.setImmersiveViewModalInstance(m);k.click()}H&&(H=!1,d(),f.trigger("dp:image-block:immersive-view:init"))}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else n.postCountMetric("immersiveViewNotExistsClickCount")}var v,I,O,C,H=!0,N=0,M,z;D.when("a-modal").execute(function(a){z=a});var d=f.once(function(){f.on("a:popover:afterUpdatePosition:immersiveView",
l);f.on("a:popover:afterShow:immersiveView",l);f.on("a:popover:afterHide:immersiveView",x)}),B=f.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(d){var h=c.filter(".iv-active");h.attr("id")!==a(this).attr("id")&&f.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",d);c.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();h=a(this).find("a").attr("data-iv-tab-view");a("#"+h).show();
"ivVideosTab"===h&&(d.clickTimeStamp=M||d.timeStamp);f.trigger("dp:ivTabs:"+h+":select",d);n.postCountMetric("dppc_"+h);return!1})});return function(a,d,h,f){v=this;I=a;O=d;q.refToModel=O;C=f;v.render=function(a,c,d,e,b,g){n.postCountMetric("dpcc_altThumbs_"+c);H=!0};v.update=function(a){};v.getTitle=function(){};v.getVariationSelectionInfo=function(){};B();c.isImmersiveViewEnabled(I,O.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");C.register("imageClick",y);C.register("button360Click",
y);c.useTabbedImmersiveView(I)&&C.register("videoIngressClick",y)}});"use strict";D.when("A").register("ImageBlockLoader",function(f){return{load:function(a,c){c=c||{};c.timeout=c.timeout||4E3;f.ajax(a,c)}}});"use strict";D.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(f,a,c,n,q,h,E,l){function x(a){return null!==a&&"undefined"!==typeof a}function y(e){var b=0;a.each(e,function(a,e){var c=parseInt(e[1],
10);c>b&&(b=c)});return b}function v(e){var b=0;a.each(e,function(a,e){var c=parseInt(e[0],10);c>b&&(b=c)});return b}function I(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=y(a);0<a&&(b=Math.min(b,a));return b}function D(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=v(a);0<a&&(b=Math.min(b,a));return b}function C(e){var b;a.each(e,function(a,e){x(b)||(b=e[1]/e[0])});return b||1}function H(a,b,c){b.fadeTo(500,0,function(){M(a,c);b.fadeTo(500,1)})}function N(a){a&&a.toggle()}function M(e,
b){var c=b.find("img");x(c[e])&&a(c[e]).click()}function z(a,b){t[a]=b?b:t[a];return t[a]}function d(e,b,c){c=c||J;c=c.colorImages;if(1>c.length||!x(c[e])||!x(b))return-1;var d=-1;a.each(c[e],function(a,e){e.variant===b&&(d=a)});return d}function B(e,b,c){c=c||J;c=c.colorImages;return!(x(c)&&x(c[e])&&x(c[e][b])&&x(c[e][b].main))||1>a.map(c[e][b].main,function(a,b){return b}).length?-1:c[e][b]}function k(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",
a/b*100+"%"))}function m(e,b){var c;if(c=e.useIV)c=e.colorImages&&e.colorImages[b]&&0<e.colorImages[b].length?!0:!1;E.isEnabled&&(E.IVApplicaple=c,l.logImmersiveViewApplicability(a,E));return c}var p,w,G,J=a.extend(!0,{},q,h),t={};return{isDefined:x,isDefinedAndEmpty:function(a){return x(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return x(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return x(a)?"object"===typeof a&&
0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:C,getMaxHeightOfMainImage:D,getMaxWidthOfMainImage:I,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=D(a,b,c);b=I(a,b,c);a=C(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(x(d)){a=d.offsetWidth/b;a=Math.min(a,c);var h;b=J.mainImageHeightPartitions;c=J.mainImageMaxSizes;if(x(c)&&x(b)){for(var k=
0,f=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)f>b[d]&&(k=d+1);c.length>=k&&(h=c[k])}x(h)&&(a=Math.min(h[1],a))}return a},getColorFromState:function(e,b){if(e){b=b||J;var c="";a.each(b.visualDimensions,function(a,b){e[b]&&(c+=" "+e[b])});return c&&c.substring(1)}},createThumbnail:function(a,b,c,d){var h=c.find(".template").clone().removeClass("template").addClass("item"),k=document.createElement("img");k.src=b;h.find(".placeHolder").replaceWith(k);
(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&h.addClass("heroImageThumbnail");x(d)&&h.addClass(d);f.declarative.create(h,"thumb-action",a);h.attr&&h.attr("data-ux-click","");c.append(h)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(e,b,d,h,k,f,m,l){var B=a.extend({},d.foresterMetadataParams);
null!==h&&(B.method+="."+h);var E=[];b.disabledViewIds&&(E=b.disabledViewIds);return c.embed({parentElement:e[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,foresterMetadataParams:B,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:d.videoAds,bindings:{play:function(){"ImmersiveView"===h?p||(p=!0,n.postCountMetric("dppc_chromefulVideoPlayedIV")):
w||(w=!0,n.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,b,c){k&&(H(0,f,l),N(m))}}],disabledViewIds:E})},loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?(G={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(G)):a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,
postMediaSlate:b.slateUrl}}))},showUnavailable:function(c){c&&(a("#imageBlock .unvailableVariation").html(c),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:H,toggleVideoCaption:N,selectThumbnail:M,spinner:function(c,b){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),c.append(d),
d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:z,getIndexForVariant:d,getImageHash:B,lazyLoadingRequired:function(a,b,c){b=Math.max(d(a.color,b.getCurrentItem().variant,
c),0);b=-1!==B(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==z(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:k,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();k(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,
b,c){if(c.useChildVideos){if(!x(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return x(a)&&x(a[b])&&x(a[b].url)?a[b]:-1},isImmersiveViewEnabled:m,playVideoInImmersiveView:function(a,b){return m(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return x(G)?G.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){b=a.colorToAsin[b]&&a.colorToAsin[b].asin;b=x(b)?b:a.mediaAsin;return{pageContext:{page:"DetailPageTablet",
placement:"ImageBlock",marketplaceID:c.marketPlaceID,locale:c.languageCode,requestId:a.requestId,product:{contentID:b,contentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:"ASIN",imageURL:c.slateUrl,videoURL:c.url}},configuration:{id:"div-light-player",type:"lightplayer",binder:"lightplayer",assets:["VSECommonComponentAssets","Brila"],features:{features:{placementcontext:"vse_ib_tablet_web"}}}}},addTag:function(a){r.ue&&r.ue.tag&&r.ue.tag(a)}}});"use strict";D.when("A","jQuery","imageBlockUtils",
"ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(f,a,c,n){function q(d,h,f,p){if(!c.isjQueryObjDefined(d.find(".a-button-selected"))){var l=H.getCurrentItem();if(!p||"chromeless-video"!==l.type||!C.autoplayVideo){p=0;if("hero-image"===l.type){p=E(l.color,l.variant);if(-1===p)return;p=-1!==p?p:0}var q=h+p;q>=f&&(p=0,q=h);h=n.getHeroImageHash(C,l.color,p);-1!==h&&(N.dispatch("updateModel",{data:{index:p,thumbnailIndex:q,variant:h.variant,type:"hero-image"}}),h=d.find(".item").get(q),
c.selectGivenThumbnail(a(h),d))}}}function h(d,h,f){if("hero-video"===H.getCurrentItem().type)return d;h=C.heroImage&&C.heroImage[h];var l=d;c.isDefined(h)&&(a.each(h,function(a,h){d<C.maxAlts&&(c.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:h.variant},h.thumb,M,"imageThumbnail"),d++)}),q(M,l,d,f));return d}function E(d,h){var f=C.heroImage;if(1>f.length||!c.isDefined(f[d])||!c.isDefined(h))return-1;var l=-1;a.each(f[d],function(a,c){c.variant===h&&(l=a)});return l}function l(){if(z.length&&
C.repositionHeroImage){var a=n.getHeroDimParams(C,H.getCurrentItem()),d;c.isDefined(a)&&(d=c.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",z.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function x(a,d,h,f){if(z.length&&a&&d){if("function"===typeof h||f){var l=new Image;l.onload=f?function(){z.css("background-image",'url("'+a+'")')}:h;l.src=a}h=d[1];var l=d[0],E;f||
z.css({"background-image":'url("'+a+'")'});C.repositionHeroImage&&(d=n.getHeroDimParams(C,H.getCurrentItem(),d),c.isDefined(d)&&(h=d.width,l=d.height,E=c.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));z.css({"background-position":E,"background-size":h+"px "+l+"px ","max-width":h+"px ","min-height":l+"px ",filter:"","-ms-filter":""})}}function y(c,d,h,f){c=n.getHeroImageHash(C,c,d);if(-1===c)return-1;d=a.map(c.main,function(a,c){return c})[0];x(d,c.main[d],h,f)}function v(a,c,
d){if("hero-image"!==a.type)return-1;var h=E(a.color,H.getCurrentItem().variant),h=-1!==h?h:0;if(-1===n.getHeroImageHash(C,a.color,h))return-1;var f=H.getCurrentItem();a.thumbnailIndex=f.thumbnailIndex;a.type=f.type;a.variant=f.variant;a.index=h;r(a,c,d)}function r(a,c,h){var l=n.getHeroImageHash(C,a.color,a.index),E;E=a&&d&&f.equals(a,d)?!0:!1;d||(d=a);if(!E&&a||c)y(a.color,a.index,c,h),d=a;z.removeClass("hide-background");f.trigger("dp:image-block:update",l)}var D,C,H,N,M,z,d={};return function(d,
f,m,p){D=this;C=d;H=f;N=p;C.heroImage[C.landingAsinColor]=C.heroImage[C.defaultColor];D.render=function(c,d,f,k,e,b,g){M=k;z=a("#heroImage");c=h(d,c,b);v(H.getCurrentItem(),g,b);return c};D.update=function(a){var d=a.data;"ingress"!==d.type&&z.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=H.getCurrentItem().type,-1!==v(d)&&(a.captured=!0)):"hero-image"===d.type&&(r(d),"click"!==a.type&&C.usePeekHover||c.selectGivenThumbnail(a.$declarativeParent,M))};N.register("resize",l)}});
"use strict";D.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(f,a,c){var n,q,h,E;return function(a,x,y,r){n=this;q=a;h=r;n.render=function(a,h,l,x,y,r,z){E=x;n=this;l=q.maxAlts;x=h;y=q.colorImages[a]?q.colorImages[a].length:0;y+=c.getVideosCount(a,q);a=q.heroImage[a];r=0;a&&(r=a.length);a=y+r;a>l&&(l=a-l,a=E.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),l+="+",x={type:"ingress",index:0,thumbnailIndex:h,
variant:""},a.find("#altIngressText").append(l),f.declarative.create(a,"thumb-action",x),E.append(a),x=h++);return x};n.update=function(a){"ingress"===a.data.type&&"click"===a.type&&h.dispatch("imageClick",a)}}});"use strict";D.when("imageBlockUtils").register("ImageBlockState",function(f){return function(a,c,n){this.getImageHash=function(c){var h=n.getCurrentItem();c=f.getIndexForVariant(h.color,c||"MAIN",a);return f.getImageHash(h.color,c,a)};this.onImageUpdateForTwister=function(a){c.register("updateSelection",
function(c){"swatchClick"===c.type&&"function"===typeof a&&a()})}}});"use strict";D.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(f,a){function c(a,c){var f;if(c.repositionHeroImage){f=a[1];var n=a[0];if(768>=(r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))f*=.7,n*=.7;else{var q=((r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,q=Math.max(Math.min(q,1),0);f*=.7+.3*q;n*=.7+.3*q}f=[f,n]}return f}function n(c,
f,l){var n;if(l.repositionHeroImage){var q=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;l=l.heroFocalPoint;if(a.isDefined(l)){n=Math.max((q-Math.min(1500,c))/2,0);var v=Math.max((q-c)/2,0);n-=v;q=Math.max(Math.min(q,1500),1024);n=n+(q-420-23)/2-c/f[1]*l}}return n}function q(c,n,l){c=c.heroImage;return!(a.isDefined(c)&&a.isDefined(c[n])&&a.isDefined(c[n][l])&&a.isDefined(c[n][l].main))||1>f.map(c[n][l].main,function(a,c){return c}).length?-1:c[n][l]}return{getHeroImageHash:q,
getHeroDimParams:function(h,E,l){if(h.repositionHeroImage){if(!a.isDefined(l)){l=q(h,E.color,E.index);if(-1===l)return;E=f.map(l.main,function(a,c){return c})[0];l=l.main[E]}E=c(l,h);h=n(E[0],l,h);return{height:E[1],width:E[0],xPos:h,yPos:75}}}}});"use strict";D.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(f,a,c){function n(a,n){var l=f.copy(a);if(c.isDefined(a)&&a.length>n){try{for(var q=-1,r=0;r<a.length;r++){var v=a.charAt(r);if(" "===v||"."===v||"?"===
v||";"===v||","===v||":"===v)q=r;if(r===n-4){l=a.substring(0,-1===q?r:q);break}}}catch(D){l=a.substring(0,n-3)}l+="..."}return l}function q(a,c){var f=a.lastIndexOf(".");return a="_"===a.charAt(f-1)?a.substring(0,f-1)+c+a.substring(f):a.substring(0,f)+"."+c+a.substring(f)}return{getDimension:function(a,c){var f=parseInt(a.css(c),10);return isNaN(f)?0:f},attachTabSelectHandler:function(a,c){f.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){f.on("dp:ivTabs:"+a+":deselect",c)},
attachImmersiveViewResizeHandler:function(a){f.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){f.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){f.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(c){a("#"+c).hide()},unhideTabHeading:function(c){a("#"+c).show()},addStyleCodeToURL:q,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");
a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var f="_AA50_";c&&(f+="FMpng_RI_");return q(a,f)},populateVariationSelection:function(f){if(c.isDefined(r.DetailPage)&&c.isDefined(r.DetailPage.StateController)){f.empty();var n=r.DetailPage.StateController.getState(),l=n.variation_label_order,q;for(q in l)if(l.hasOwnProperty(q)){var y=l[q],v=n.selected_variations[y],y=n.variation_display_labels[y];v&&a("\x3cdiv/\x3e").addClass("ivVariations").text(y+
":"+v).appendTo(f)}}},populateTitle:function(a,c,f){a.html(f.title);a.attr("title",a.text());a.html(n(f.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,f,n){r.ueLogError&&r.ueLogError(n,{logLevel:a,attribution:c,message:f})}}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(f,a,c,n,q){function h(){q.populateTitle(m.find("#ivTitle"),
160,B)}function r(){var a=k.getCurrentItem().color;w=B.colorImages[a];p=B.heroImage[a];G=J=0;c.isDefined(p)&&(G=p.length);c.isDefined(w)&&(J=w.length)}function l(a){return a.hiRes||a.large||a.main[a.main.length-1]}function x(){var a=m.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var f=d.width(),h=d.height();0<d.length&&(d[0].naturalWidth&&(f=d[0].naturalWidth),d[0].naturalHeight&&(h=d[0].naturalHeight));a.css("cursor","auto");var f=
0===f?1:f,h=0===h?1:h,k=Math.min(b/f,c/h),l=h*k,n=f*k;1>k?(e?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),A=!0):A=!1;f=Math.min(n,f);h=Math.min(l-20,h);d.css({"margin-top":(c-h)/2,"margin-left":(b-f)/2,height:h,width:f});a.css("visibility","visible");g=!1}function y(a){var b=m.find("#ivLargeImage");b.css("visibility","hidden");b.empty();q.animateStageIn(b);b.append(a);x()}function v(b){m.find("#ivLargeImage").css("display",
"none");m.find("#ivLargeImage").css("display","block");var d;"hero-image"===b?c.isDefined(p)&&(d=l(p[t.index])):c.isDefined(w)&&(d=l(w[t.index]));if(c.isDefined(d)){m.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),f=m.find("#ivLargeImage");q.animateStageOut(f,function(){e.load(function(){y(e)});if(e[0].complete)y(e);else{f.empty();var b=(f.height()-104)/2,c=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:b+
"px",left:c+"px"}).appendTo(f)}})}}function D(a){m.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?t.type="hero-image":t.type="image";t.index=a.attr("id").split("_")[1];v(t.type);n.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(t.index,10)+1)+"_"+(G+J))}function O(){m.delegate(".ivThumb","click",function(){var b=a(this);D(b)})}function C(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function H(a){var b=P.top-(a.pageY-T[1])*R;a=C(P.left-(a.pageX-T[0])*R,K.left);
b=C(b,K.top);m.find(".fullscreen").css({left:a,top:b})}function N(){m.delegate("#ivLargeImage","click",function(a){if(g)x();else if(A){m.find(".fullscreen").removeAttr("style");if(A){var b=m.find("#ivLargeImage"),c=b.find(".fullscreen");e?b.css("cursor","url('"+B.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));g=!0;var d=m.find("#ivLargeImage");K.left=d.width()-c.width();K.top=d.height()-c.height();var d=b.height()/2,
f=b.width()/2;T=[b.offset().left+f,b.offset().top+d];P.top=d-c.height()/2;P.left=f-c.width()/2;c.css({position:"relative",left:P.left,top:P.top});R=Math.max(c.height()/b.height(),c.width()/b.width())}H(a);n.postCountMetric("dpcc_iv_largeImageCLick")}});m.delegate("#ivLargeImage","mousemove",function(a){g&&H(a)})}function M(){m.find("#ivLargeImage").empty()}function z(d){if(b){m=a("#ivMain");r();t=k.getCurrentItem();h();q.populateVariationSelection(m.find("#ivVariationSelection"));d=m.find("#ivThumbs");
d.find(".ivRow").not(".placeholder").remove();for(var e=G+J,f=0,g=0;f<e;)for(var l=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),n=0;4>n&&f<e;n++,f++,g++)if(g<G){var B=p[f].thumb,z=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(l);z.find(".ivThumbImage").css("background",'url("'+q.getResizedThumbnailURL(B)+'") center no-repeat')}else g>=G&&g<J+G&&(B=w[f-G].thumb,z=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(f-G)).appendTo(l),z.find(".ivThumbImage").css("background",'url("'+q.getResizedThumbnailURL(B)+'") center no-repeat'));Q();b=!1}else h();d=a("#ivImagesTab").height();m.css("height",d);e=m.find("#ivTitle").outerHeight(!0);f=m.find("#ivVariationSelection").outerHeight(!0);g=m.find("#ivThumbs");l=q.getDimension(g,"margin-top")+q.getDimension(g,"margin-bottom");g.css("height",d-e-f-l);m.find("#ivLargeImage").css("height",d);d=m.find("#ivStage");e=m[0]&&m[0].getBoundingClientRect&&Math.floor(m[0].getBoundingClientRect().width)||
m.width();d.css("width",e-q.getDimension(m,"padding-left")-q.getDimension(m,"padding-right")-m.find("#ivThumbColumn").width()-q.getDimension(d,"margin-left")-q.getDimension(d,"margin-right"));t=k.getCurrentItem();d="hero-image"===t.type?m.find("#ivHeroImage_"+t.index):"image"===t.type?m.find("#ivImage_"+t.index):c.isDefined(p)?m.find("#ivHeroImage_"+t.index):m.find("#ivImage_"+t.index);c.isjQueryObjDefined(d)||(d=m.find("#ivImage_0"));D(d)}var d,B,k,m,p,w,G,J,t,e=navigator.userAgent.match(/msie|trident/i),
b=!0,g=!1,A=!1,K={},P={},R,T,b=!0,Q=f.once(function(){O();N();q.attachImmersiveViewResizeHandler(z);q.attachTabDeselectHandler("ivImagesTab",M)});return function(c,e,f,g){d=this;B=c;k=e;d.render=function(c,d,e,f,g,h){b=!0;r();0===G+J?q.hideTabHeading("ivImagesTabHeading"):q.unhideTabHeading("ivImagesTabHeading");1===G+J?a("#ivThumbs").hide():a("#ivThumbs").show()};d.update=function(a){};q.attachTabSelectHandler("ivImagesTab",z)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils",
"vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(f,a,c,n,q,h,E){function l(){w.delegate(".ivThumb","click",function(){var b=a(this);w.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(G.type="chromeful-video",G.index=b.attr("id").split("_")[1])})}function x(){if(W){var b=a("#ivVideosTab").height();w.css("height",b);var c=w.find(".vse-lb-container");J=b-q.getDimension(c,"padding-top")-q.getDimension(c,"padding-bottom");
c.css({"max-height":b,overflow:"hidden"});if(R){w.css({"max-width":Math.floor(1.77*J)});return}var b=w.find(".vse-player-container"),c=w.find(".vse-video-action-strip"),d=w.find(".vse-lb-video-metadata"),e=Math.floor(J-q.getDimension(d,"height")-q.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}T&&(b=w.find(".vse-vertical-scroll"),
c=q.getDimension(b,"margin-top")+q.getDimension(b,"margin-bottom"),b.css("max-height",J-c))}function y(){v();t&&t.pause();Q=!1;K=!0;A=null;ca=!0;W=!1}function v(){Q=!1;t&&t.pause()}function D(b){A=b.clickTimeStamp?b.clickTimeStamp:f.now();c.isDefined(p)&&(p.eventTimestamp=A);P&&(E.get(f,"#ivVideoBlock",m,da,ha),w=a("#ivVideoBlock"),k.getCurrentItem(),G=k.getCurrentItem(),X());x();Q=!0;P=!1;H()}function O(b){P&&(w=a("#ivVideoBlock"),k.getCurrentItem(),G=k.getCurrentItem(),X());Q&&H();x()}function C(a){t=
a.player;W&&(z(),H())}function H(){if(t&&Q&&(w.find(".vse-lb-container").animate({opacity:1},200),t.play(p),n.postCountMetric("dpcc_vse_videoBlock_video_played"),K)){var a=r.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,n.postTimeMetric("dpcc_vse_vitff",a),K=!1)}}function N(){f.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function M(a){e=a.popover.$popover;W=!0;z()}function z(){W&&ca&&Q&&t&&(e.addClass(f.$(e).find(".vse-lb-container").data("cssClass")),f.trigger("vse:detailpage-imageblock:page:lightBoxOpened",
{lightBoxId:"ivVideoBlock",assetSpec:p}),x(),ca=!1)}var d,B,k,m,p,w,G,J,t,e,b,g,A,K=!0,P=!0,R=!1,T=!1,Q=!1,ca=!0,W=!1,X=f.once(function(){l();q.attachImmersiveViewResizeHandler(O);q.attachTabDeselectHandler("ivVideosTab",v);q.attachImmersiveViewResetHandler(y)}),ea=function(b,d,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");n.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);b=k.getCurrentItem().color;b=c.getVideoHash(b,0,B);t||(t=c.createAiryInstanceForChromeful(a("#ivVideoBlock"),
b,B.airyConfig,"ImmersiveView"));R=!0;a("#ivVideoBlock").css({"max-width":1.77*J,margin:"0 auto"});Q&&R&&t.play({isAsync:!0})},fa=function(b,c,d){P||E.get(b,"#ivVideoBlock",m,da,ha);a("#ivVideoBlockSpinner").addClass("aok-hidden")},da=function(a,b,c){T=!0;x()},ha=function(a,b,c){n.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,e,l,n){d=this;B=a;k=e;d.render=function(a,d,e,l,n,ia){a=k.getCurrentItem().color;d=c.getVideoHash(a,
0,B);b=B.colorToAsin[a]&&B.colorToAsin[a].asin;b=c.isDefined(b)?b:B.mediaAsin;g=null!==B.vseVideoDataSourceTreatment&&"T1"===B.vseVideoDataSourceTreatment?"ASIN":"physicalID";P=!0;-1===d?q.hideTabHeading("ivVideosTabHeading"):(q.unhideTabHeading("ivVideosTabHeading"),m={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:d.marketPlaceID,locale:d.languageCode,product:{contentID:b,contentIDType:"ASIN"},video:{contentID:d.mediaObjectId,contentIDType:g,videoURL:d.url,imageURL:d.slateUrl},
requestId:B.dpRequestId,metadata:{ProductTitle:B.title}},p={videoUrl:m.video.videoURL,contentId:m.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(A)?A:f.now(),imageUrl:m.video.imageURL,productAsin:m.product.contentID,index:0},c.isDefinedAndNotEmpty(t)&&(t.destroy(),t=null),h.get(f,"#ivVideoBlock",m,fa,ea))};d.update=function(a){};q.attachTabSelectHandler("ivVideosTab",D);f.on("vsePlayer-detailpage-imageblock",C);f.on("a:popover:afterShow:immersiveView",M);f.on("a:popover:beforeHide:immersiveView",
N)}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView360",function(f,a,c,n,q,h,r){function l(){var b=a("#iv360Tab").height();A.css("height",b);var c=A.find("#ivTitle360").outerHeight(!0),d=A.find("#ivVariationSelection360").outerHeight(!0),e=A.find("#ivThumbs360"),f=r.getDimension(e,"margin-top")+r.getDimension(e,"margin-bottom");e.css("height",b-c-d-f);b=A.find("#ivStage360");c=A[0]&&
A[0].getBoundingClientRect&&Math.floor(A[0].getBoundingClientRect().width)||A.width();b.css("width",c-r.getDimension(A,"padding-left")-r.getDimension(A,"padding-right")-A.find("#ivThumbColumn360").width()-r.getDimension(b,"margin-left")-r.getDimension(b,"margin-right"))}function x(){O();var a=A.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});r.animateStageIn(a)},200);y()}function y(){if(0<U){var a=A.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},
200)}}function v(c,d){if(U<c.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*P+"px",height:R+"px"});e.hide();d.append(e);e.get(0).onload=function(){d.closest(document.documentElement).length&&(U++,1===U&&(y(),0<ha&&(q.time("dppc_loadTime360",Date.now()-ha,b.mediaAsin),h.postTimeMetric("dppc_loadTime360",Date.now()-ha))),0<Y&&(q.time("dppc_perSpriteloadTime360",Date.now()-Y,b.mediaAsin),h.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-Y)),A.find("#iv360Spinner").hide(),e.show(),
fa=5*K.imageLocations[Math.floor(da/K.imageLocations[0].length)][da%K.imageLocations[0].length],v(c,d))};e.attr("src",c[U].replace(/(\._SP)\d+(,)\d+/,"$1"+Q+"$2"+T));Y=Date.now()}}function D(a){if(c.isDefined(K.spriteWidthSizes)&&0<K.spriteWidthSizes.length){var b=K.spriteWidthSizes,d=b.length,e=b[0],f=b[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function O(){var c=A.find("#ivLarge360");c.children("#image-360-sprites").length||(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),height:c.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",b.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),X=!0,C())}function C(){if(c.isDefined(K.spriteURLs)&&c.isDefined(A)&&X&&!ea){var e=A.find("#ivLarge360"),
f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(K.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",K.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(b.staticStrings.dragToSpin).appendTo(f);f.appendTo(e);var f=K.imageWidth,g=K.imageHeight,h=e.parent().width(),k=e.parent().height(),m=0,l=0;f/g>h/k?(Q=D(h),T=Math.round(g/
f*Q),P=Math.ceil(h),R=Math.ceil(T/Q*h),l=(k-R)/2):(T=D(k),Q=Math.round(f/g*T),R=Math.ceil(k),P=Math.ceil(Q/T*k),m=(h-P)/2);e.css({"margin-left":m,"margin-top":l,width:P+"px",height:R+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*P+"px");v(K.spriteURLs,A.find("#image-360-sprites"),0);f=A.find("#ivLarge360");f.bind("mousedown",z);f.bind("touchstart",H);f.bind("touchmove",N);f.bind("touchend",M);a(document).bind("mousemove",d);a(document).bind("mouseup",
B);c.isDefined(b.staticImages.grab)&&e.css("cursor","url('"+b.staticImages.grab+"'), auto");ea=!0}}function H(a){F=!0;W=a.originalEvent.targetTouches[0].clientX}function N(a){F&&(k(a.originalEvent.targetTouches[0].clientX-W),W=a.originalEvent.targetTouches[0].clientX)}function M(a){F&&(F=!1)}function z(a){ma=!0;ca=a.originalEvent.clientX;c.isDefined(b.staticImages.grabbing)&&(a=A.find("#ivLarge360"),a.css("cursor","url('"+b.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+b.staticImages.grabbing+"'), auto"));return!1}function d(a){ma&&(k(a.originalEvent.clientX-ca),ca=a.originalEvent.clientX)}function B(a){ma&&(ma=!1,c.isDefined(b.staticImages.grab)&&(a=A.find("#ivLarge360"),a.css("cursor","url('"+b.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function k(a){fa-=a/P*180;V&&(q.count("dppc_360dragToSpin",b.mediaAsin),h.postCountMetric("dppc_360dragToSpin"));V=!1;for(a=fa;0>a;)a+=360;for(;360<a;)a-=360;fa=a;var d;a=360;
for(var e=0;e<U;e++)for(var f=0;f<K.imageLocations[e].length;f++){var g=Math.abs(fa-5*K.imageLocations[e][f]);g<a&&(a=g,d=e*K.imageLocations[0].length+f)}d!==da&&(a=Math.floor(d/K.imageLocations[0].length),a!==Math.floor(da/K.imageLocations[0].length)&&(c.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),e=A.find("#image-360-sprites").children(),ka.drawImage(e[a],0,0)),a=A.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},
750)));da=d;a=d%K.imageLocations[0].length*-1*P;d=-1*Math.floor(d/K.imageLocations[0].length)*R;e=A.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+d+"px, 0)");e.css("transform","translate3d("+a+"px, "+d+"px, 0)")}function m(){if(ga){A=a("#ivMain360");var c=g.getCurrentItem().color;G()&&J(c);K=G()?b.spin360ColorData[c]:void 0;r.populateTitle(A.find("#ivTitle360"),160,b);r.populateVariationSelection(A.find("#ivVariationSelection360"));A.find("#ivLarge360").empty();
U=0;ea=X=!1;da=fa=0;la();ga=!1}0!==a("#iv360Tab").height()&&(r.detachImmersiveViewResizeHandler(m),l(),x(),ha=Date.now(),u=V=!0,q.count("dppc_click360",b.mediaAsin),h.postCountMetric("dppc_click360"))}function p(d,e,f){var k=b.colorToAsin[f],m={},l=500;if(!k||!k.asin)if(f===b.defaultColor)k={asin:b.winningAsin};else return;m.params={asin:k.asin};var p="360"+k.asin,t=Date.now();m.success=function(k){q.time("dppc_asyncRequestTime360",Date.now()-t,b.mediaAsin);h.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-t);if(k&&c.isDefined(k.spin360)){if(k=k.spin360.spin360Model)b.spin360ColorData[f]=k,f===g.getCurrentItem().color&&(K=b.spin360ColorData[f],C(),a("#ivThumbs360").hide(),r.unhideTabHeading("iv360TabHeading"),w(d,e,f));c.ajaxState(p,"success")}else m.error()};m.error=function(){q.count("dppc_asyncFailedTransient360",b.mediaAsin);h.postCountMetric("dppc_asyncFailedTransient360");q.time("dppc_asyncRequestTime360",Date.now()-t,b.mediaAsin);h.postTimeMetric("dppc_asyncRequestTime360",Date.now()-
t);l*=2;16E3>=l?setTimeout(function(){t=Date.now();n.load("/gp/product/features/apparel-main-image/360.html",m)},l):(q.count("dppc_asyncFailed360",b.mediaAsin),h.postCountMetric("dppc_asyncFailed360"),c.ajaxState(p,"fail"))};c.ajaxState(p)&&"fail"!==c.ajaxState(p)||(n.load("/gp/product/features/apparel-main-image/360.html",m),c.ajaxState(p,"sent"))}function w(a,d,e){if(c.isImmersiveViewEnabled(b,g.getCurrentItem().color)&&G()&&J(e)){if(d===b.maxAlts){e=a.find(".item.imageThumbnail");var k=a.find(".item.videoThumbnail");
c.isDefined(k)&&1<k.length?k.last().remove():e.last().remove();d--}e=a.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item");f.declarative.create(e,"button-360-click");a.append(e);d++;q.count("dppc_display360",b.mediaAsin);h.postCountMetric("dppc_display360")}return d}function G(){return b&&c.isDefined(b.spin360ConfigEnabled)&&b.spin360ConfigEnabled}function J(a){return c.isDefinedAndNotEmpty(b.spin360ColorData[a])?!0:c.isDefined(b.spin360LazyLoadEnabled)&&
b.spin360LazyLoadEnabled}function t(){u&&(q.time("dppc_duration360",Date.now()-ha,b.mediaAsin),h.postTimeMetric("dppc_duration360",Date.now()-ha),u=!1)}var e,b,g,A,K,P,R,T,Q,ca,W,X=!1,ea=!1,fa=0,da=0,ha=0,Y=0,ma=!1,F=!1,U=0,ka,V=!0,u=!1,ga=!0,la=f.once(function(){r.attachImmersiveViewResizeHandler(m);r.attachImmersiveViewResizeHandler(l);r.attachImmersiveViewResetHandler(t);r.attachTabDeselectHandler("iv360Tab",t)});return function(d,f,h,k){e=this;b=d;g=f;d=b.landingAsinColor;f=b.defaultColor;c.isDefined(b.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",r.addStyleCodeToURL(b.staticImages.icon360,"_FMpng_RI_"));G()&&(b.spin360ColorData||(b.spin360ColorData={}),d===f&&c.isDefinedAndEmpty(b.spin360ColorData[f])&&delete b.spin360ColorData[f]);e.render=function(d,e,f,g,h,k){ga=!0;G()&&J(d)?(f=b.spin360ColorData[d],c.isDefinedAndEmpty(f)?r.hideTabHeading("iv360TabHeading"):c.isDefinedAndNotEmpty(f)?(a("#ivThumbs360").hide(),r.unhideTabHeading("iv360TabHeading"),w(g,e,d)):
(b.spin360ColorData[d]={},r.hideTabHeading("iv360TabHeading"),p(g,e,d))):r.hideTabHeading("iv360TabHeading")};e.update=function(a){};r.attachTabSelectHandler("iv360Tab",m)}});D.register("nexusLogger360",function(){return{count:function(f,a){r.ue&&r.ue.event({asin:a,metricName:f,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(f,a,c){r.ue&&r.ue.event({asin:c,metricName:f,metricValue:a},"hit-360","hit360.clientEvent.3")}}});"use strict";D.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",
function(f,a){try{var c=r.location.host,n={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},q=c.split(".")[1],h=-1===c.indexOf(".proxy.amazon.com")?"/vap/ew/":void 0!==n[q]?n[q]:"https://www.amazon.com/vap/ew/",E="vse_lazyLoaderHook:success:",l="vse_lazyLoaderHook:error:",x="vse_preLoaderHook:success:",y="vse_preLoaderHook:error:",v="vse_lightPlayerLoaderHook:success:",I="vse_lightPlayerLoaderHook:error:",O=4E3,C=3}catch(H){a.logError("FATAL","vse_ns_desktop","[Domain] ",
H)}D.register("vse_ns_preLoaderHook",function(){function c(l,n){try{var d=l.A,q=l.block,k=l.request,m=l.handleFailure,p=l.handleSuccess,r=d.$;n--;var v=C-n-1,D=d.now();d.ajax(h+"componentbuilder",{params:k,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:k.timeout||O,withCredentials:!0,success:function(a){var b=d.now()-D;f.postTimeMetric(x,b);f.postCountMetric(x+k.page+":"+k.placement+":"+v);r(q).html(a);p(d,k,a)},error:function(a){f.postCountMetric(y+k.page+
":"+k.placement+":"+v);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<n?c(l,n):(f.postCountMetric(y,1),m(d,k,a))}})}catch(t){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",t)}}return{get:function(a,f,d,h,k){c({A:a,block:f,request:d,handleFailure:k,handleSuccess:h},C)}}});D.register("vse_ns_lazyLoaderHook",function(){function c(n,q,d){try{var r=n.A,k=n.context,m=n.handleFailure,p=n.handleSuccess;q.attr("data-configuration");var w=atob(q.attr("data-configuration")),v=
JSON.parse(w),x={pageContext:k,configuration:v},t=r.now();d--;var e=C-d-1;r.ajax(h+"subcomponent/"+v.type,{params:x,paramsFormat:"json",method:"post",contentType:"application/json",timeout:k.timeout||O,withCredentials:!0,success:function(a){var b=r.now()-t;f.postTimeMetric(E,b);f.postCountMetric(E+k.page+":"+k.placement+":"+v.type+":"+e);q.html(a);p(r,x,a)},error:function(a){f.postCountMetric(l+k.page+":"+k.placement+":"+v.type+":"+e);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<
d?c(n,q,d):(f.postCountMetric(l,1),m(r,x,a))}})}catch(b){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",b)}}return{get:function(a,f,d,h,k){var l=a.$;l(f+" div[data-configuration]").each(function(){c({A:a,context:d,handleFailure:k,handleSuccess:h},l(this),C)})}}});D.register("vse_ns_videoPlayer",function(){function c(l,n,d){try{var q=l.A,k=l.block,m=l.request,p=l.handleFailure,r=l.handleSuccess,x=q.$;d--;var y=C-d-1,t=q.now();q.ajax(h+"subcomponent/lightvideoplayer",{params:m,paramsFormat:"json",
crossDomain:!0,method:"post",contentType:"application/json",timeout:m.timeout||O,withCredentials:!0,success:function(a){var c=q.now()-t;f.postTimeMetric(v,c);f.postCountMetric(v+m.page+":"+m.placement+":"+y);x(k).html(a);r(q,m,a)},error:function(a){f.postCountMetric(I+m.page+":"+m.placement+":"+y);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?c(l,d):(f.postCountMetric(I,1),p(q,m,a))}})}catch(e){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",e)}}return{get:function(a,
f,d,h,k){c({A:a,block:f,request:d,handleFailure:k,handleSuccess:h},C)}}})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPagePaymentOptionsJavascript",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
